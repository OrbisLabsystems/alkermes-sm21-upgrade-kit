{
Change History
==============

No.     Changed By      Date            Description
======  =============   =============   ==============================================	
  1.0	  V. Molloy       19-Feb-2007     Changed table_defaults and index_defaults to
                                        reflect correct Oracle location
  2.0   V. Molloy       19-Feb-2007     Changed SAMPLE table oracle location
  3.0   V. Molloy       19-Feb-2007     Added SMIDI fields to SAMPLE table
  4.0   V. Molloy       19-Feb-2007     Added STABILITY fields to SAMPLE table
  5.0   V. Molloy       19-Feb-2007     Custom fields added to SAMPLE table
  6.0   V. Molloy       19-Feb-2007     Added Indexes to SAMPLE table
  7.0   V. Molloy       19-Feb-2007     Changed TEST table oracle location
  8.0   V. Molloy       19-Feb-2007     Field wks_printed added to TEST table
  9.0   V. Molloy       19-Feb-2007     Added Indexes to TEST table
 10.0   V. Molloy       19-Feb-2007     Added Indexe to VERSIONED_ANALYSIS table
 11.0   V. Molloy       19-Feb-2007     Changed RESULT table definition (Oracle location
                                        and specified noindex
 12.0   V. Molloy       19-Feb-2007     Added SMIDI fields to RESULT table
 13.0   V. Molloy       19-Feb-2007     Added YUKON fields to RESULT table
 14.0   V. Molloy       19-Feb-2007     Added SM Millenium fields to RESULT table
 15.0   V. Molloy       19-Feb-2007     Added Indexes RESULT table
 16.0   V. Molloy       19-Feb-2007     Added Index to PREPARATION table
 17.0   V. Molloy       19-Feb-2007     Added field sar_description to MLP_HEADER table
 18.0   V. Molloy       19-Feb-2007     Changed WORKSHEET table definition (Oracle location 
                                        and specified noindex)
 19.0   V. Molloy       19-Feb-2007     Added fields to INSTRUMENT table
 20.0   V. Molloy       19-Feb-2007     Changed insttype_id field definition  
 21.0   V. Molloy       19-Feb-2007     Added YUKON fields to INSTRUMENT table
 22.0   V. Molloy       19-Feb-2007     Changed TIMERQUEUE table definition
 23.0   V. Molloy       19-Feb-2007     Changed field definition of routine_name in TIMERQUEUE table
 24.0   V. Molloy       19-Feb-2007     Added STABILITY fields to TIMERQUEUE table
 25.0   V. Molloy       19-Feb-2007     Added custom index to TIMERQUEUE table
 26.0   V. Molloy       19-Feb-2007     Changed JOB_HEADER table definition
 27.0   V. Molloy       23-Feb-2007     Added SMIDI fields to JOB_HEADER table
 28.0   V. Molloy       23-Feb-2007     Added custom fields to JOB_HEADER table
 29.0   V. Molloy       23-Feb-2007     Added custom index to JOB_HEADER table
 30.0   V. Molloy       23-Feb-2007     Changed IDENTITY field definition in TEST_SCHED_HEADER table
 31.0   V. Molloy       23-Feb-2007     Changed AUDIT_TRANSACTION table definition
 32.0   V. Molloy       23-Feb-2007     Added custom indexes to AUDIT_TRANSACTION table
 33.0   V. Molloy       23-Feb-2007     Changed AUDIT_EVENT table definition
 34.0   V. Molloy       23-Feb-2007     Added custom indexes to AUDIT_EVENT table
 35.0   V. Molloy       23-Feb-2007     Changed AUDIT_DATA table definition
 36.0   V. Molloy       23-Feb-2007     Added custom indexes to AUDIT_DATA table
 37.0   V. Molloy       23-Feb-2007     Added custom fields to AUDIT_VALUES View
 38.0   V. Molloy       23-Feb-2007     Changed C_SAMPLE table definition
 39.0   V. Molloy       23-Feb-2007     Added custom indexes to C_SAMPLE table
 40.0   V. Molloy       23-Feb-2007     Changed C_TEST table definition
 41.0   V. Molloy       23-Feb-2007     Added custom indexes to C_TEST table
 42.0   V. Molloy       23-Feb-2007     Changed C_RESULT table definition
 43.0   V. Molloy       23-Feb-2007     Added custom indexes to C_RESULT table
 44.0   V. Molloy       23-Feb-2007     Changed C_JOB_HEADER table definition
 45.0   V. Molloy       23-Feb-2007     Added custom indexes to C_JOB_HEADER table
 46.0   V. Molloy       23-Feb-2007     Changed C_AUDIT_TRANSACTION table definition
 47.0   V. Molloy       23-Feb-2007     Added custom indexes to C_AUDIT_TRANSACTION table
 48.0   V. Molloy       23-Feb-2007     Changed C_AUDIT_EVENT table definition
 49.0   V. Molloy       23-Feb-2007     Added custom indexes to C_AUDIT_EVENT table
 50.0   V. Molloy       23-Feb-2007     Changed C_AUDIT_DATA table definition
 51.0   V. Molloy       23-Feb-2007     Added custom indexes to C_AUDIT_DATA table
 52.0   V. Molloy       23-Feb-2007     Changed View definition of SAMP_JOB_VIEW
 53.0   V. Molloy       23-Feb-2007     Added custom field to SAMP_JOB_VIEW
 54.0   V. Molloy       23-Feb-2007     Changed View definition of SAMP_TEST_VIEW
 55.0   V. Molloy       23-Feb-2007     Added custom field to SAMP_TEST_VIEW
 56.0   V. Molloy       23-Feb-2007     Added additional fields to MLP_VIEW
 57.0   V. Molloy       23-Feb-2007     Changed select_clause of MLP_VIEW
 58.0   V. Molloy       23-Feb-2007     Additional field for View SAMP_JOB_TEST_RESULT
 59.0   V. Molloy       23-Feb-2007     Additional field for View SAMP_TEST_RESULT
 60.0   V. Molloy       23-Feb-2007     Additional field for View SAMP_TEST_RESULT 
 61.0   V. Molloy       23-Feb-2007     Changed ACCESS_LOG table definition
 62.0   V. Molloy       23-Feb-2007     Added custom index to table ACCESS_LOG
 63.0   A. Finnerty     26-Feb-2008     STABILITY TABLES (9.2)
 64.0   A. Finnerty     26-Feb-2008     SQC TABLES   (92 is the same)
 65.0   A. Finnerty     26-Feb-2008     YUKON TABLES
 66.0   A. Finnerty     26-Feb-2008     Add latest (9.2) SM-IDI version
 67.0   A. Finnerty     26-Feb-2008     Elan SMIDI customisations
 68.0   A. Finnerty     26-Feb-2008      Added custom fields to personnel table (qa_approver, sap_approver)
 69.0   A. Finnerty     26-Feb-2008      Add custom fields to MLP_HEADER for enhancements
 70.0   A. Finnerty     26-Feb-2008      samp_job_test_result view modification
 71.0   A. Finnerty     05-Mar-2008      modify printer table
 72.0   A. Finnerty     17-Apr-2008      sample.assigned_to   - Removed again
 73.0   A. Finnerty     23-Apr-2008      sample.lab_group
 74.0   M. Flattery     16-Apr-2009      Add field lead time to mlp_header-cc no 2100013022
 75.0   M Flattery      10-Sept-2009     Add field comment to PDS_Study-CC No.2100013352
 76.0   M Flattery	10-Sept-2009	 Create a new PDS_STUDY_PULL_VIEW-CC No. 2100013352 
 77.0   M Flattery      22-Dec-2009      Browse on component table for SQC-CC No.2100013574
 78.0   M.Flattery      16-Mar-2010      Add fields AHU_id,room no. & process loc.to sample table for micro-CC No. 2100013696
 79.0   M.Flattery      27-Apr-2010     Added view DISSOLUTION_VIEW
 80.0   M.Flattery      27-Apr-2010     Added field ACKNOWLEDGED, ACKNOWLEDGED_ON and ACKNOWLEDGED_BY to table SAMPLE
 81.0   M.Flattery      18-Jun-2010 	DISSOLUTION_VIEW updated to specifically reference the part codes in the inner select &
                                        include fields for S1 and s2 potencies.  Addition of two new views 
                                        DISSOLUTION_SPEC_VIEW & DISSOLUTION_TOP_IP view. Ref CC No.2100013869
 82.0   M. Flattery     03-Mar-2011     Fields added(equip type & clean type)to sample table for micro - CC No. 2100014338
 83.0   M. Flattery     07-Jul-2011     Added views VS2_PORTAL_VIEW, VS2_PORTAL_SPEC_VIEW, VS2_DISSOLUTION_VIEW, VS2_DISS_SPEC_VIEW
                                        VS2_PORTAL_ATTTR_VIEW and VS2_PORTAL_ATTR_SPEC_VIEW - CC No. CC-ATH-2011-0206
 84.0   M. Flattery     07-Jul-2011     Added ACKNOWLEGED, ACKNOWLEGED_ON and ACKNOWLEGED_BY fields to TEST table - CC No. CC-ATH-2011-0206
 85.0   M. Flattery     07-Jul-2011     Added tables REP_TMPL_HEADER, REP_TMPL_ENTRY and REP_TMPL_PRODUCT - CC No. CC-ATH-2011-0206
 86.0   M. Flattery	09-Mar-2012	    Added fields, PACKAGING, BULK_NUMBER, STAB_PROTOCOL_NO, REPORT_COMMENT to STAB_PRODUCT_INFO- ref CC-ATH-2012_0590
 87.0   M. Flattery	22-Mar-2012     Modified lot_no datatype to text in STAB_PRODUCT_INFO- ref CC-ATH-2012_0590
 88.0   M. Flattery     03-May-2012     Updated view VS2_PORTAL_SPEC_VIEW - ref CC-ATH-2012-0681
 89.0   M. Flattery     16-May-2012     CC-ATH-2012-0682 TS Protocol No. 1600025743 (Resource Manager)
 90.0   V. Molloy       24-Oct-2012     CC-ATH-2012-1060 TS Protocol No. 1600026679 (Added SAMPLE.HAS_TASKS for use by Resource Manager) 
 91.0   M. Flattery     21-Nov-2012     Added FILEPATH, LOCATION_TYPE  to table LOCATION Ref CC No. CC-ATH-2012-1082
 92.0   M. Flattery     20/March/13     CC-ATH-2013-1249 AP change add field ANALYTICAL_PROTOCOL_NO to mlp_header and sample table
 93.0   Ken Jacobs      04-FEB-2014     Upgrade 9.2 to 10.2
 94.0   L. Dawson       18-FEB-2014     Removed all yukon views
 95.0   L. Dawson       18-FEB-2014     MOD  -view usergroup -Left join in select statement replaces (+)
 96.0   L. Dawson       18-Feb-2014     MOD  -view dissolution_view - Replaced DECODE with CASE statement for SQL server
 97.0   L. Dawson       18-Feb-2014     MOD  -view dissolution_spec_view - Replaced DECODE with CASE statement for SQL server
 98.0   L. Dawson       18-Feb-2014     MOD  -view dissolution_top_ip -update query to sql server syntax
 99.0   L. Dawson       18-FEB-2014     MOD  VS2 views updated to sql server syntax
 100.0  L. Dawson       19-FEB-2014     MOD  MILL_SECURITY.MILL_USER case_sensitive
 101.0  L. Dawson       24-FEB-2014     Addition of GVL customisations	
 102.0  L. Dawson       26-FEB-2014     Set custom fields that link to versioned_component.name as case_sensitive
 103.0  L. Dawson       28-FEB-2014     ADD  sample . micro_received
 104.0  L. Dawson       28-FEB-2014     MOD  stab_product_info.lot_no - set as unique_key
 105.0  L. Dawson       04-MAR-2014     ADD  sample.stab_ref_no
 106.0  L. Dawson       12-MAR-2014     ADD  Balance integration fields
 107.0  M. Allen        18-MAR-2014     ADD Additonal parameter fields to coa_template and coa_header
 108.0  M. Allen        18-MAR-2014     ADD Additonal fields to RETAINS for visual inspection
 109.0  Ken Jacobs      02-APR-2014     Add fields for sample size calculation
 120.0  M. Allen        04-APR-2014     Add additional fields to instrument table for instrument, calib_type and service_type
 121.0  L. Dawson       16-APR-2014     Add IM Empower tables and fields   
 122.0  M. Allen        19-APR-2014     Add additional fields for Micro to SAMPLE table
 123.0  M. Allen        27-APR-2014     Add use_on_coa field to SAMPLE table
 124.0  L. Dawson       01-MAY-2014     MOD instrument.min_valid_read_value - set datatype text(25) default '0' - Patch for Balance Integration
 125.0  M. Allen        26-MAY-2014     Add field manufacturing_date to SAMPLE table
 126.0  M. Allen		26-MAY-2014     Add fields inspec_review_1, inspec_review_2, inspec_review_3, inspec_review_4 to RETAINS table
 127.0  M. Allen        06-JUN-2014     Add field bulk_expiry and pack_expiry to SAMPLE table
 128.0  M. Allen        11-JUN-2014     Change link for job_header.parent_batch from batch_number to batch_name
 129.0  M. Allen		23-JUN-2014	    Add pack_expiry_2 to sample table
 130.0  M. Allen		26-JUN-2014	    Add tablet_hardness, samp_delivery_loc, time_requested,capsule_size, val_samp_rqd, stab_samp_rqd, 
						    strat_samp_rqd, average_weight and quantity_shipped to SAMPLE table
 131.0  M. Allen        08-Jul-2014     Add pack_expiry_int to MATERIALS table
 132.0  M. Flattery     10-Jul-2015     Add RM View CC-ATH-2015-2072 TS 1600031009
 133.0  L. Dawson       18-Jan-2016     Add new fields to stock batch table (IQ 1600032189_00)
 134.0  L. Dawson       18-Jan-2016     Add views as art of worksheet header removal (IQ 1600032189_00)
 135.0  L. Dawson       18-Jan-2016     MOD versioned_component.calculation and result.calculation-  set length to 25 for entity type components (IQ 1600032189_00)
 136.0  S. Patchell	28-Jul-2016	    CU Lookup Tables added to structure - during execution of 1600032957
 137.0  F. Piccirillo   07-Nov-2016     Audit Review updates (IQ protocol 16000333271_00)
 138.0  Enon Gavin      15-Jun-2018     Added audit views for use in Audit Report ORL17061
 139.0  Enon Gavin      15-Jun-2018     Added "Labels Printed" field to sample table to allow reconciliation of labels
 140.0  Enon Gavin      19-Oct-2018     Add PRINT_EVENT
 141.0  Raphael Castro  27-Jun-2022     Structure merge SampleManager 21.0

}

table_defaults

	oracle_location 'STATIC'            {1.0}                       {93.0}
	sqlserver_location                     'PRIMARY' 
	sqlserver_collation                    'Latin1_General_CI_AS_WS'
	sqlserver_collation_case_sensitive     'Latin1_General_CS_AS_WS'
	sqlserver_use_nvarchar                 TRUE 
	postgresql_location                    'pg_default' ;

index_defaults

        oracle_location 'STATIC_I'          {1.0}                       {93.0}
        sqlserver_location                 'PRIMARY'
        postgresql_location                'pg_default' ;

table sample_point;

field identity alias identifier
      datatype identity(10)
      used_for unique_key, primary_browse; {101.0}                           {93.0}
field group_id alias group
      links_to group_header.identity
      used_for security_id;
field point_location alias location_id, location
      links_to location.identity;
field sample_type datatype identity
        prompt_type phrase
        identities
        phrase_type SAMP_TYPE;
field description datatype text ( 234 )                                 {93.0}
      used_for display_browse(2);
field modified_on datatype date used_for modified_on ;
field modified_by links_to personnel.identity
      used_for modified_by;
field modifiable datatype boolean
      used_for modifiable;
field removeflag datatype boolean
      used_for remove_flag;
field name                                                              {93.0}
      datatype text ( 100 )
      used_for display_browse(1); {101.0}
field has_attachments
      datatype boolean
      used_for has_attachments ;

table report alias reportformat;

field identity alias identifier datatype identity (20)                  {93.0}
      used_for unique_key, display_browse ( 1 ) ;
field group_id alias group
      links_to group_header.identity
      used_for security_id;
field title datatype text ( 234 ) used_for display_browse ( 2 );        {93.0}
field modified_on datatype date used_for modified_on;
field modified_by links_to personnel.identity used_for modified_by;     {93.0}
field modifiable datatype boolean used_for modifiable ;
field removeflag datatype boolean used_for remove_flag;
field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;

table sample prompt_description 'STRUCTURE_SAMPLE'
        noindex
        oracle_location 'ACTIVE'
        ;                            {2.0}

        field   id_numeric
                alias    idnumeric
                datatype packed_decimal
                used_for unique_key, primary_browse
                prompt_type user_defined
                descending
                prompt_description 'STRUCTURE_SAMPLE_ID_NUMERIC'
                allowed_characters ' ..`' { Everything apart from lower case }
                library '$PROMPT_SAMPLE'
                routine 'prompt_sample';

        field   id_text
                datatype identity (30)
                used_for display_browse ( 1 )
                allowed_characters ' ..`' { Everything apart from lower case }
                prompt_description 'STRUCTURE_SAMPLE_ID_TEXT';

        field   job_name                                                {93.0}
                alias    jobname
                links_to parent job_header . job_name
                prompt_description 'STRUCTURE_SAMPLE_JOB_NAME';

        field   status
                datatype text (1)
                used_for display_browse ( 2 )
                prompt_type choose
                choose_type SAMP_STAT ;

        field   old_status
                datatype text (1)
                prompt_type choose
                choose_type SAMP_STAT ;

        field   compared
                datatype boolean ;

        field   on_spec
                datatype boolean ;

        field   re_sampled
                datatype boolean ;

        field   original_sample
                alias orig_sample
                links_to sample . id_numeric ;

        field   link_number
                datatype integer ;

        field   login_date
                datatype date
                used_for display_browse ( 3 )
                default '0' ;

        field   login_by
                links_to personnel . identity ;

        field   sampled_date
                datatype date
                default '0' ;

        field   recd_date
                datatype date
                default '0' ;

        field   date_started alias datestarttest
                datatype date
                default '0' ;

        field   starter
                links_to personnel . identity ;

        field   dateresreq
                datatype date
                default '0' ;

        field   date_completed
                datatype date ;

        field   completer
                links_to personnel . identity ;

        field   dateresavail
                datatype date    ;

        field   date_authorised
                alias    authorise_date
                datatype date    ;

        field   authoriser alias authoriser_id
                links_to personnel . identity ;

        field   authorisation_notes
                datatype text ( 234 )
                prompt_type phrase
                phrase_type authsamp ;

        field   product
                alias    product_name,
                         work_profile
                links_to mlp_header . identity as product_link ;

        field   product_version
                links_to mlp_header . product_version as product_link ;

        field   grade_code
                alias    grade_name
                links_to mlp_level.level_id;

        field   tests_to_do
                datatype integer ;

        field   on_wks
                datatype boolean ;

        field   project_id
                links_to project_info.identifier;

        field   batch_name
                datatype identity ;

        field   sampling_point
                links_to sample_point.identity;
{101.0}
        field   sample_type
                datatype text
                prompt_type choose
                choose_type SAMP_TYPE
                default 'NA'; 
{/101.0}
        field   sample_name
                datatype text ( 30 ) ;

        field   description
                datatype text ( 234 ) ;

        field   preparation
                alias   preparation_id
                links_to preparation . identity ;

        field   hazard
                links_to hazard . identity ;

        field   priority
                datatype integer
                format 999
                default 1
                lower_limit 1
                upper_limit 999 ;

        field   location_id
                alias location
                links_to location . identity ;

        field   customer_id
                links_to customer . identity ;

        field   invoice_number
                datatype text ( 20 ) ;

        field   test_schedule
                links_to test_sched_header . identity ;

        field   template_id
                links_to samp_tmpl_header . identity ;

        field   comp_prod_name
                links_to mlp_versions . identity ;

        field   comp_prod_ver
                links_to mlp_versions . product_version ;

        field   comp_prod_grade
                links_to mlp_level . level_id ;

        field   standard
                datatype boolean ;

        field   standard_id
                links_to standard_versions . identity ;

        field   standard_version
                links_to standard_versions . version ;

        field   inspection_header
                links_to inspection_header . identity
                used_for inspection ;

        field   standard_type
                links_to batch_tmpl_entry . type ;

        field   batch_id
                links_to batch_header.identity;

        field   dynamic_product
                links_to mlp_header.  identity
                default NULL ;

        field   total_elements
                datatype integer
                default 1
                lower_limit 1;

        field   sampling_procedure
                links_to sampling_procedure . identity ;

        field   replicate_link_no
                datatype integer ;

        field   auto_validate
                datatype boolean;

        field   has_incidents
                datatype boolean ;
                
        field   certificate
                links_to certificate . id_numeric ;

	field   substance                                               {93.0}
                links_to substance . identity ;

        field   workflow_node
                default 'D3C12E08-28E8-4131-88B5-EE3534AD38B8'
                links_to workflow_node . workflow_node_guid ;
   
        field   is_split
                datatype boolean ;
            
        field   is_composite
                datatype boolean ;

        field   has_split
                datatype boolean ;

        field   has_composite
                datatype boolean ;

        field   composite_status
                datatype identity
                default 'NONE'
                prompt_type choose
                choose_type SAMP_COMP ;
                
        field   entity_template_id
                links_to entity_template . identity as entity_template ;

        field   entity_template_version
                links_to entity_template . entity_template_version as entity_template ;
                
        field   has_attachments
                datatype boolean
                used_for has_attachments ;

        field   comments datatype text(234)
                default NULL;

        field   lab_method_id
                links_to lab_method . lab_method_id as lab_method
                default NULL ;

        field   lab_method_version
                links_to lab_method . lab_method_version as lab_method ;

        field   lab_method_outstanding
                datatype boolean ;

        field   lab_execution_id
                links_to lab_execution . lab_execution_id as lab_execution
                default NULL ;

        field   retain_associated_sample_id
                datatype packed_decimal ;

        field   retain_associated_job_name
                datatype identity ( 20 ) ;

        field   retain_test_plan_id
                links_to retain_test_plan . identity as retain_test_plan ;

        field   retain_test_plan_version
                links_to retain_test_plan . version as retain_test_plan ;

        field   retain_next_test_date
                datatype date
                default NULL ;

        field   retain_last_test_date
                datatype date
                default NULL ;

        field   retain_until_date
                datatype date
                default NULL ;

        field   retain_disposal_date
                datatype date
                default NULL ;

        field   cert_template_id
                links_to cert_template . cert_template_id as cert_template ;

        field   cert_template_version
                links_to cert_template . cert_template_version as cert_template
                default '         1' ;

        field   cert_id
                links_to cert . certificate_id as cert ;

        field   cert_version
                links_to cert . certificate_version as cert
                default '         1' ;

        field   schedule 
                alias sample_pt_sched links_to schedule.identity ;

        field   sow_guid
                links_to sow_item.sow_guid as sow_item ;

        field   sow_version
                links_to sow_item.sow_version as sow_item ;

        field   sow_item_id
                links_to sow_item.order_number as sow_item ;

        field   invoiced
                datatype boolean ;

        field   customer_project
                links_to customer_project . customer_project_guid as project ;

        field   external_id
                datatype text ( 100 ) ;

        field   external_id_duplicate
                datatype boolean ;

        field   has_notebook_link
                datatype boolean
                used_for has_notebook_link;

        field   price_option
                datatype identity
                default 'NONE'
                prompt_type choose
                choose_type PRC_LST_OP;
 { 3.0 SMIDI}
        
	field smidi_lot	              datatype text(20)  ;
	field smidi_operation	      datatype text(4)   ;
	field smidi_op_description    datatype text(40)  ;
	field smidi_phys_sample	      datatype text(6)   ;
	field smidi_part_sample	      datatype text(5)   ;
  
      {/3.0}

      { 4.0 STABILITY}   

      field stab_study_id
	      links_to pds_study . identity;

      field stability_sample
	      datatype boolean;
	
      field layer_factor
	      links_to layer_factor . identity;

      field c_factor
	      links_to c_factor . identity;

      field time_factor
	      links_to time_factor . identity;
      {/4.0}


      {5.0 CUSTOM FIELDS }

        {********************************************************
        * Custom fields below here
        *********************************************************}
        
        { Fields added for BAS Micro Customisation, P96372 - CNM, TTL 18/4/1996 }

        field   sample_weight
                datatype real;

        field   instrument
                links_to instrument . identity ;

        { Fields added for Raw Material Customisation, P96378 - CNM, TTL 18/4/1996 }

        field   retain_location
                links_to location . identity ;

        field   retain_date
                datatype date ;

        field   retain_expire
                datatype date
                default '0' ;

        field   no_of_labels
                datatype integer ;

        field   sample_owner
                links_to personnel . identity ;

        field   no_drums
                datatype integer ;

        { ---------------------------------------}
        { Modification                           }
        { ---------------------------------------}
        { The following fields have been added to}
        { the structure for the prototype (11/95)}
        { and have been retained for the Live    }
        { 2100 System.                           }
        { JMW, 30/01/96, and added to VAL 22/04  }
        { -------------------------------------- }

        field   group_id alias group
                links_to group_header . identity
                used_for security_id;

        field   timing_coat alias tc
                datatype real;               

        field   adc 
                datatype real;   

        field   sample_taker
                links_to personnel . identity;

        field   supplier_lot_no
                datatype text(30);        {101.0}               


        { ---------------------------------------}
        { Modification                           }
        { ---------------------------------------}
        { Athlone extra fields (RM)              }
        { Requested MaddMary                     }
        { DQ, 21/05/96                           }  
        { -------------------------------------- }
        
        field   batch_quantity
                datatype real;

        field   qa_receipt
                datatype date;

        field   manufacturer
                datatype text(234);
  
        {---------------------------------------}
        { Modification                          }
        {---------------------------------------}
        { The following fields have been addedto}
        { the structure for Phase II Custom-    }
        { isations, JOD, 30/09/97               }
        { --------------------------------------}

        field   no_worksheet_printed
                datatype integer  ;

        field   no_tests_assigned
                datatype integer;

        {----------------------------------------} 
        {addition of new field required          } 
        {by Control Centre for Visual Inspection } 
        {samples. DMcN 08/03/99   LIMS-99-09     } 
        {----------------------------------------} 
                                                                                
        field   visual_date                                                     
                datatype date;                                                  
                                                                                
        {---------------------------------------} 
        { Modification                          } 
        {---------------------------------------} 
        { Added for SAP/SM-IDI                  } 
        { DMcN,10/07/99                         } 
        { --------------------------------------} 
                                                                                
        field supplier
              datatype text (40); 
        {---------------------------------------} 
        { Modification                          } 
        {---------------------------------------} 
        { Added for SAP/SM-IDI                  } 
        { EG,23/4/03 ref 2003-035               } 
        { --------------------------------------} 
            field SAP_Dates
              datatype text (40); 

        {---------------------------------------} 
        { Modification                          } 
        {---------------------------------------} 
        { Added for Reduced Lot Testing         } 
        { M Kavanagh,19/05/03                   } 
        { --------------------------------------} 

	    field rlt_result
		datatype text(254);

    {/5.0}


    { 73.0 }
	field lab_group
	    links_to mlp_header . lab_group;
    { end 73.0 }

{ 78.0 MF 16-Mar-2010}
	field room_no
		datatype text(254);

    
	field ahu_id
		datatype text(254)
                prompt_type phrase
                phrase_type ahu_no ;


	field process_location
		datatype text(254)
                prompt_type phrase
                phrase_type proc_loc ;


    { end 78.0}

{ Start 82.0 MF 03-Mar-11}

    	field equipment_type
		datatype text(254)
                prompt_type phrase
                phrase_type equip_type ;


	field clean_type
		datatype text(254)
                prompt_type phrase
                phrase_type clean_type ;


    { end 82.0}

{80.0 MF 27-Apr-2010}
field acknowledged 
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';

field acknowledged_on
      datatype date ;

field acknowledged_by
      datatype text(200) ;



{End 80.0}

{90.0}

field has_tasks 
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';

{/90.0}


{92.0 AP changes}
field analytical_prot_no
	links_to mlp_header . analytical_protocol_no ;

{/AP changes}
{101.0}
        field   worksheet_title
                datatype text (234);

        field   sampled_by
                datatype text (30);

        field   text_comment
                datatype text (234);

        field   stage
                datatype text (50)
		    prompt_type choose
                choose_type PROC_STAGE ;

        field   internal_name
                datatype text (20);

        field   container_no
                datatype text (234);

        field   product_desc
                datatype text (234);

        field   batch_no
                datatype text (30);

        field   received_by
                links_to personnel . identity ;

        field   worksheet_template
                links_to infomaker_link . identity;

        field   worksheet_auto_print
                datatype boolean
                default 'No'
                true_word 'Yes'
                false_word 'No' ;

        field   sample_size
                datatype text(50);

        field   wsheet_tmpl
                links_to wsheet_tmpl_header.identity;

        field   receipt_comment
                datatype text (234);

	field batch_name_prod
		datatype text(30);

	field supplier_lot
		datatype text(234);

	field no_containers
		datatype integer;

	field sample_comments
		datatype text(234);

	field material
		links_to materials.article_code;

	field sample_grade
		datatype text (10);

	field em_activity
		datatype text (20)
		prompt_type choose
            choose_type EM_ACT;

	field control_substance
	datatype boolean;

{weight fields / start}

	field tare_weight
		datatype real;

	field net_weight
		datatype real;

	field gross_weight
		datatype real;

	field current_gross_weight
		datatype real;

	field no_capsules
		datatype real;

	field current_no_capsules
		datatype real;

{weight fields / end}


	field reference_std_type
		datatype text (20)
		prompt_type choose
      	choose_type RS_TYPE;

	field registration
		datatype text (20)
		prompt_type choose
      	choose_type CONT_LIC;

	field stock
		links_to stock.identity;

	field stock_batch
		links_to stock_batch.batch;

	field complaint_no
		datatype text (20);


	field instrument_id
		links_to instrument . identity;

	field prot_no
		datatype text (20);

	field overfill_per
		datatype real;

	field target_fill_weight
		datatype real;

	field batch_location
		datatype text (20)
		prompt_type choose
      	choose_type BATCH_LOC;

	field em_sampled_by
		links_to location.identity;

	field swab_identifier
		datatype text (20);

	field val_parameter
		datatype text (20)
		prompt_type choose
      	choose_type VAL_PARA ;

	field full_testing
		datatype boolean;

	field API
		datatype text (20)
		prompt_type choose
      	choose_type API_LIST ;

	field ips_type
		datatype text (20)
		prompt_type choose
      	choose_type IPS_TYPE ;

	field nrm_category
		datatype text (20)
		prompt_type choose
      	choose_type NRM_CAT ;

	field process_stage
		datatype text (20)
		prompt_type choose
      	choose_type PROC_STAGE;

	field box_no
		datatype text (30);

{/101.0}
{103.0}
        field   micro_received
                datatype boolean
                default 'No'
                true_word 'Yes'
                false_word 'No' ;
{/103.0}

{105.0}
	field stab_ref_no
		datatype text (20);
{/105.0}

	field gross_wt_instrument  links_to instrument.identity;   { 106.0 }
	field tare_wt_instrument   links_to instrument.identity;   { 106.0 }
	field sample_wt_instrument links_to instrument.identity;   { 106.0 }

      field target_net_weight                                           {109.0}
            datatype integer
            ;
            
      field empty_capsule_weight                                        {109.0}
            datatype integer
            ;
            
      field target_filled_weight                                        {109.0}
            datatype integer
            ;
            
      field quantity_per_drum                                           {109.0}
            datatype real
            ;
            
      field capsules_per_drum                                           {109.0}
            datatype real
            ;
            
      field theoretical_yield                                           {109.0}
            datatype integer
            ;
                  
      field total_sample_size                                           {109.0}
            datatype integer
            ;

{122.0}

	field em_incubated_date
		datatype date;

	field em_incubated_by
		links_to personnel.identity;

	field micro_dateresreq
		datatype date;
{/122.0}
{123.0}

	field use_on_coa
                datatype boolean
                default 'No'
                true_word 'Yes'
                false_word 'No' ;
{/123.0}
{125.0}
	field manufacturing_date
		datatype date;


{/125.0}
{127.0}

	field bulk_expiry
		datatype date;

	field pack_expiry
		datatype date;
{/127.0}
{129.0}
	field pack_expiry_2
		datatype date;

{/129.0} 
{130.0}
	field average_weight
		datatype text (20);

	field quantity_shipped
		datatype text (30);

	field stab_samp_rqd
                datatype boolean
                default 'No'
                true_word 'Yes'
                false_word 'No' ;

	field val_samp_rqd
                datatype boolean
                default 'No'
                true_word 'Yes'
                false_word 'No' ;

	field strat_samp_rqd
                datatype boolean
                default 'No'
                true_word 'Yes'
                false_word 'No' ;

	field capsule_size
		datatype text (10);

	field time_requested
		datatype date;

	field samp_delivery_loc
		datatype text(30);

	field tablet_hardness
		datatype text(30);
{/130.0} 

{137}
      field audits_reviewed 
            datatype boolean
            true_word 'Yes'
            false_word 'No'
            default 'No';
{/137}

{ 139.0}
 
     field labels_printed
           datatype date
           default '0' ; 


  

         index sample_i unique on id_numeric
               oracle_location 'ACTIVE_I'
               ;

         index sample_group_id_numeric_index unique on status, group_id, id_numeric
               oracle_location 'ACTIVE_I'
               ;
         index sample_group_id_text_index unique on status, group_id, id_text
               oracle_location 'ACTIVE_I'
               ;

         index sample_sampled_date_index on  sampled_date
               oracle_location 'ACTIVE_I'
               ;
         index sample_login_date_index on    login_date
               oracle_location 'ACTIVE_I'
               ;
         index sample_samp_point_index on    sampling_point
               oracle_location 'ACTIVE_I'
               ;
         index sample_product_index on       product
               oracle_location 'ACTIVE_I'
               ;
         index sample_test_schedule_index on test_schedule
               oracle_location 'ACTIVE_I'
               ;
         index sample_template_index on      template_id
               oracle_location 'ACTIVE_I'
               ;
         index sample_location_index on      location_id
               oracle_location 'ACTIVE_I'
               ;
         index sample_batch_name_index on batch_name
               oracle_location 'ACTIVE_I'
               ;
  
     {/6.0}

collection child_formulation on sample_formulation using parent_sample;

collection parent_formulation on sample_formulation using child_sample; 

index sample_id_text_index unique on id_text ;

index sample_job_name_index on job_name ;

{ The following index should be added when using groups on the sample table }
{ where group_id is the group field with used_for security_id               }
{ }
{       index sample_id_numeric_group unique on status, group_id, id_numeric ; }
{       index sample_id_text_group    unique on status, group_id, id_text ;    }
{ }
{ }


table sample_formulation;
 
	field parent_sample 
	      links_to sample.id_numeric
	      used_for unique_key;

	field child_sample 
	      links_to sample.id_numeric
	      used_for unique_key;

	field formulation_type
              datatype identity
              prompt_type choose
              choose_type SAMP_FORM;

	field amount_used
	      datatype real
	      lower_limit 0.0;

	field unit
	      links_to unit_header.identity;


table test noindex 
      oracle_location 'ACTIVE'
      ;   {7.0}

field test_number datatype packed_decimal
      used_for unique_key;
field analysis alias analysis_id
      links_to versioned_analysis . identity as analysis
      used_for display_browse ( 1 );
field sample alias sample_id
      links_to parent sample . id_numeric                               {93.0}
      used_for display_browse ( 2 );
field preparation alias preparation_id
      links_to preparation . identity ;
field test_count datatype integer;
field status datatype text (1)
      prompt_type choose
      choose_type TEST_STAT
      used_for display_browse ( 3 );
field old_status datatype text (1)
      prompt_type choose
      choose_type TEST_STAT;
field date_started datatype date;
field starter alias operator_id
        links_to personnel . identity ;
field date_completed alias date_complete datatype date;
field completer
        links_to personnel . identity ;
field date_authorised alias authorise_date datatype date;
field authoriser alias authoriser_id
        links_to personnel . identity ;
field component_replicates datatype integer
      alias comp_replicates;
field worksheet alias worksheet_id datatype packed_decimal;
field worksheet_position datatype integer;
field replicate_test alias replic_flag datatype boolean;
field instrument alias instrument_id
        links_to instrument . identity ;
field test_priority datatype integer
                    format 999
                    default 1
                    lower_limit 1
                    upper_limit 999 ;
field on_spec datatype boolean;
field test_schedule
      links_to test_sched_header . identity ;
field order_num
      datatype  packed_decimal
      used_for  ordering;
field has_result_list
      datatype boolean ;
field component_list
      links_to versioned_c_l_header . comp_list ;
field analysis_version
      links_to versioned_analysis . analysis_version as analysis ;
field preparation_batch
      links_to batch_header.identity;
field instrument_batch
      links_to batch_header.identity ;
field parent_test
      links_to test . test_number
      default NULL ;
field inspection_header
      links_to inspection_header . identity
      used_for inspection ;
field trigger_rule
      links_to rule . identity
      default NULL ;
field trigger_analysis
      datatype text( 40 )
      default NULL ;
field stat_double_att_fail
      datatype boolean ;
field validation_status
      datatype text (1)
      default 'V'
      prompt_type choose
      choose_type VAL_STAT ;
field authorisation_comment
      datatype text (234) ;
field auto_validate
      datatype boolean;
field has_incidents
      datatype boolean ;
field instrument_type                                                   {93.0}
      links_to instrument_template . identity;
field instrument_category
      links_to instrument_category . identity;
field instrument_required                                               {93.0}
      links_to versioned_analysis.instrument_required;
field workflow_node
      default '536C9DA2-7668-4701-92B0-754E1F1BA2A6'
      links_to workflow_node . workflow_node_guid ;      
field entity_template_id
      links_to entity_template . identity as entity_template;
field entity_template_version
      links_to entity_template . entity_template_version as entity_template;     
field has_attachments
      datatype boolean
      used_for has_attachments ;
field comments datatype text(234)
      default NULL;
field lab_method_id
      links_to lab_method . lab_method_id as lab_method
      default NULL ;
field lab_method_version
      links_to lab_method . lab_method_version as lab_method ;
field lab_method_outstanding
      datatype boolean ;
field lab_execution_id
      links_to lab_execution . lab_execution_id as lab_execution
      default NULL ;
field sow_guid
      links_to sow_item_charge . sow_guid as sow_item_charge ;
field sow_version
      links_to sow_item_charge . sow_version as sow_item_charge ;
field sow_item_order
      links_to sow_item_charge . sow_item_order as sow_item_charge ;
field sow_item_charge_order_number
      links_to sow_item_charge . order_number as sow_item_charge ;
field sow_item_charge_count
      datatype integer ;
field price_option
      datatype identity
      default 'NONE'
      prompt_type choose
      choose_type PRC_LST_OP;
field wks_printed datatype boolean;  {8.0}

{ 66.0 SMIDI }
	field upload_flag	
		datatype boolean
		default 'False'
		true_word 'True'
		false_word 'False';

{ end 66.0 }


{84.0}

field acknowledged 
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';

field acknowledged_on
      datatype date ;

field acknowledged_by
      datatype text(200) ;

{/84.0}

{101.0}
field   date_created
        datatype date;

field   observation
        datatype text (1024);
        
field   test_flag
        datatype identity
        prompt_type phrase
        identities
        phrase_type TEST_FLAG
        default 'INCLUDE';
{/101.0}

{137}
      field audits_reviewed 
            datatype boolean
            true_word 'Yes'
            false_word 'No'
            default 'No';
{/137}

   {9.0 TEST TABLE INDEXES}

index test_i unique on test_number                                      {93.0}
        rdb_location 'HASH_STORAGE_AREA'
      rdb_specific 'TYPE IS HASHED'
      oracle_location 'ACTIVE_I'
      ;

index samp_anal_index on sample , analysis
      oracle_location 'ACTIVE_I'
      ;

index test_analysis_index on analysis
      oracle_location 'ACTIVE_I'
      ;

index test_worksheet on worksheet
      oracle_location 'ACTIVE_I'                        
 
 
{/9.0}      ;
   

index samp_anal_index on sample , analysis ;


index test_instrument_index on Instrument ;

table versioned_analysis rename_table analysis;{/9.0}

field identity alias identifier                                         {93.0}
      datatype identity
      used_for unique_key, display_browse(1);
field analysis_version
      datatype packed_decimal
      default '         1'
      used_for unique_key, version_number, display_browse (2);          {93.0}
field group_id links_to group_header.identity
      used_for security_id;
field analysis_type datatype identity
        prompt_type phrase
        identities
        valid
        phrase_type ANAL_TYPE;
field description datatype text(255)                                    {93.0}
      used_for display_browse (3);
field insttype_id                                                       {93.0}
      links_to instrument_template . identity;
field instcat_id 
      links_to instrument_category . identity;
field preparation_id
      links_to preparation . identity ;
field expected_time datatype interval;
field chargecode datatype text(15);
field result_screen links_to report.identity;
field modified_on datatype date
      used_for modified_on;
field modified_by
      links_to personnel.identity
      used_for modified_by;
field modifiable datatype boolean
      used_for modifiable;
field removeflag datatype boolean
      used_for remove_flag;
field calculation datatype boolean;
field replicates datatype integer
      default 1
      lower_limit 1
      upper_limit 99 ;
field access_flags datatype integer;
field comp_replicates datatype integer;
field generic_analysis
      links_to versioned_analysis.identity;
field approval_reqd datatype boolean;
field allow_category datatype boolean;
field approval_status                                                   {93.0}
      datatype text ( 1 )
      used_for display_browse ( 4 ) , approval_status
      default 'A'
      prompt_type choose
      choose_type APPR_STAT ;
field inspection_plan
      links_to inspection_header . identity
      used_for inspection ;
field sampling_plan_type
      datatype identity
      prompt_type choose
      choose_type STAT_TYPE
      default 'FIXED';
field auto_validate
      datatype boolean;
field instrument_required                                               {93.0}
      datatype boolean;
field sop_reference                                                     {93.0}
      datatype text(100);
field uncertainty_text                                                  {93.0}
      datatype text(500);
field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name, translation;
field active
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'True'
      used_for active_flag;
field active_from
      datatype date
      used_for active_start_date;
field active_to
      datatype date
      used_for active_end_date;
field workflow_id
      links_to workflow . workflow_guid;
field entity_template_id
      links_to entity_template . identity;
field has_attachments
      datatype boolean
      used_for has_attachments ;
field lab_method_id
      links_to lab_method . lab_method_id as lab_method ;
field lab_method_version
      links_to lab_method . lab_method_version as lab_method ;
field pl_charge_code
      datatype text(10)
      prompt_type choose
      choose_type CHARGECODE ;
field has_notebook_link
      datatype boolean
      used_for has_notebook_link;
{101.0}

field wsheet_header
      links_to wsheet_tmpl_header.identity; 

field sop
      datatype text (234);

field hazards                     {/101.0}
      datatype text (234);


index anal_vers_grp on group_id
	oracle_location 'STATIC_I';   {10.0}

table versioned_component rename_table component;

field analysis alias analysis_id                                        {93.0}
      links_to parent versioned_analysis . identity as parent_analysis
      used_for unique_key;
field analysis_version                                                  {93.0}
      links_to parent versioned_analysis . analysis_version as parent_analysis
      used_for unique_key;
field name datatype text (40)                                           {93.0}
      case_sensitive
      used_for unique_key, primary_browse, name, translation;
field order_number alias component_number datatype packed_decimal used_for ordering ;
field result_type datatype text (1)                                     {93.0}
      prompt_type phrase
      valid
      phrase_type RES_TYPE;
field units
      links_to unit_header.identity;
field minimum alias min datatype real;
field maximum alias max datatype real;
field true_word alias extrue datatype text(10) used_for translation;
field false_word alias exfalse datatype text(10) used_for translation;
field allowed_characters alias range datatype text(26);
field calculation alias calculation_id datatype identity (25);          {135.0}
field places datatype integer                                           {93.0}
	lower_limit -1
	upper_limit 9;
field rep_control datatype text(3);
field replicates datatype boolean;
field sig_figs_number datatype integer                                  {93.0}
	lower_limit -1
	upper_limit 9;
field sig_figs_rounding datatype integer                                {93.0}
	lower_limit -1
	upper_limit 9;
field sig_figs_filter datatype text(10);
field minimum_pql datatype real
      default 0.0 ;
field maximum_pql datatype real
     default 0.0 ;
field pql_calculation
      links_to limit_calculation . identity
      default NULL ;
field formula datatype text ( 500 )
      default NULL ;
field matrix_no datatype integer
      default 0;
field matrix_name datatype text(10);
field column_no datatype integer
      default 0;
field column_name datatype text(20)
      default NULL;
field row_no datatype integer
      default 0;
field row_name datatype text(20)
      default NULL;
field uncertainty_text                                                  {93.0}
      datatype text(500);
field entity_criteria
      	links_to criteria_saved . identity;
field entity_full_id
      datatype boolean ;

index v_component_order_index on analysis,
                                 analysis_version,
                                 order_number ;

table VERSIONED_CATEGORY_COMPONENT;                                     {93.0}

field name datatype text (40)
      case_sensitive
      used_for unique_key;
field order_number
      datatype packed_decimal
      used_for ordering ;
field result_type datatype text (1)
      prompt_type choose
      choose_type RES_TYPE;
field units
      links_to unit_header.identity;
field pql_calculation
      links_to limit_calculation . identity
      default NULL ;
field formula datatype text ( 500 )
      default NULL ;


table result
      noindex
      oracle_location 'ACTIVE'
      ;  {11.0}

field test_number
      links_to parent test . test_number
      used_for unique_key;
field name alias component_name datatype text (40)
      case_sensitive
      used_for unique_key, name, display_browse ( 1 ) , translation;
field order_number alias comp_num datatype packed_decimal;
field result_type datatype text(1);
field units									{93.0}
      links_to unit_header.identity
      used_for display_browse ( 3 );
field minimum alias low_value datatype real;
field maximum alias high_value datatype real;
field typical alias typical_value datatype real;
field true_word datatype identity used_for translation;
field false_word datatype identity used_for translation;
field allowed_characters datatype text(26);
field calculation alias calculation_id datatype identity (25);           {135.0}
field value datatype real;
field text datatype text(234) used_for display_browse ( 2 );
field places datatype integer;
field out_of_range datatype boolean;
field status datatype text (1)
      prompt_type choose
      choose_type RESL_STAT;
field old_status datatype text (1)
      prompt_type choose
      choose_type RESL_STAT;
field entered_on datatype date;
field entered_by datatype identity;
field date_authorised datatype date;
field authoriser datatype identity;
field group_id links_to group_header.identity
      used_for security_id;
field security_flags datatype integer;
field sig_figs_number datatype integer;
field sig_figs_rounding datatype integer;
field sig_figs_filter datatype text(10);
field rep_control datatype text(3);
field minimum_pql links_to versioned_component . minimum_pql ;
field maximum_pql links_to versioned_component . maximum_pql ;
field less_than_pql datatype boolean ;
field greater_than_pql datatype boolean ;
field pql_calculation links_to versioned_component . pql_calculation
                      default NULL ;
field formula         links_to versioned_component . formula
                      default NULL ;
field dilution_factor datatype real
                      default 1.0 ;
field spike_value     datatype real
                      format '999.99'
                      lower_limit 0.0 ;
field surrogate_mlp   links_to mlp_header . identity
                      default NULL ;
field surrogate_mlp_version links_to mlp_versions . product_version
                      default NULL ;
field matrix_no datatype integer
      default 0;
field matrix_name datatype text(10);
field column_no datatype integer
      default 0;
field column_name datatype text(20)
      default NULL;
field row_no datatype integer
      default 0;
field row_name datatype text(20)
      default NULL;
field has_incidents
      datatype boolean ;
field instrument_used
      links_to instrument . identity;
field raw_result datatype text(234) ;  {93.0}
field entity_criteria
      	links_to criteria_saved . identity;
field workflow_node
      default '948DD6D4-1BD2-4E7A-A7EE-EA2CE751605C'
      links_to workflow_node . workflow_node_guid ;
field comments datatype text(234)
      default NULL;
field out_of_range_level links_to mlp_level . level_id ; {failure level}
field entity_full_id
      datatype boolean ;
{12.0 SMIDI FIELDS}

	field SAP_serial_required datatype text(1)  	;                 {93.0}
	field SAP_doc_required    datatype text(1)  	;                 {93.0}
	field SAP_serial_no       datatype text(6)  	;                 {93.0}
	field SAP_documentation   datatype text(80)	;                 {93.0}

{/12.0}


{13.0 YUKON FIELDS}

field instrument
      links_to instrument . identity ;
field instrument_file
      datatype text ( 254 ) ;
field yukon_id
      links_to versioned_yukon . identity ;
field yukon_version
      links_to versioned_yukon . yukon_version ;
field collect_by
      links_to personnel . identity ;
field collect_date
      datatype text ( 20 ) ;

{/13.0}

{14.0 SM-Millenium}

field mill_acquired_by
    links_to mill_int_rset . mill_acquired_by;
field mill_timestamp
    datatype date;
field mill_instrument_no
    datatype text(40);

{/14.0}
field result_from_inst    datatype text  (234);  { 106.0 }
field result_below_lod    datatype boolean ;     { 106.0 }
field result_inst_auto    datatype boolean ;     { 106.0 }

{121.0}
field mill_res_id datatype integer;
field mill_project datatype text(255);
field im_data_id datatype text (20);
field im_ip datatype text (25);              
field empower_sampleset  datatype text(40); {/121.0}


{15.0 RESULT TABLE INDEXES}

index result_i unique on test_number , name
    oracle_location 'ACTIVE_I'
    ;

index result_auth_date_index on date_authorised
    oracle_location 'ACTIVE_I'
    ;

{/15.0}

table calculation;

        FIELD IDENTITY            ALIAS IDENTIFIER                      {93.0}

                DATATYPE IDENTITY
                USED_FOR UNIQUE_KEY, DISPLAY_BROWSE ( 1 );


	FIELD ANALYSIS_ID
		LINKS_TO VERSIONED_ANALYSIS . IDENTITY;

        FIELD DESCRIPTION                                               {93.0}

                DATATYPE TEXT (234)
                USED_FOR DISPLAY_BROWSE ( 2 );

	FIELD FORMULA 
		DATATYPE TEXT ( 500 )
		DEFAULT NULL ;

        FIELD MODIFIED_ON

                DATATYPE DATE
                USED_FOR MODIFIED_ON    ;

        FIELD MODIFIED_BY

                LINKS_TO PERSONNEL . IDENTITY
                USED_FOR MODIFIED_BY    ;

        FIELD MODIFIABLE

                DATATYPE BOOLEAN
                USED_FOR MODIFIABLE     ;

        FIELD REMOVEFLAG

                DATATYPE BOOLEAN
                USED_FOR REMOVE_FLAG ;

        FIELD NAME                                                      {93.0}

                DATATYPE TEXT ( 100 )
                USED_FOR PRIMARY_BROWSE, NAME ;
                
        FIELD HAS_ATTACHMENTS

                DATATYPE BOOLEAN
                USED_FOR HAS_ATTACHMENTS ;

TABLE PREPARATION         ;

        FIELD IDENTITY            ALIAS IDENTIFIER                      {93.0}

                DATATYPE IDENTITY
                USED_FOR UNIQUE_KEY, DISPLAY_BROWSE ( 1 );

        FIELD PREP_TYPE

                DATATYPE IDENTITY
                PROMPT_TYPE phrase
                IDENTITIES
                PHRASE_TYPE PREP_TYPE;

        FIELD GROUP_ID            ALIAS GROUP

                LINKS_TO GROUP_HEADER . IDENTITY
                USED_FOR SECURITY_ID;

        FIELD EXPECTED_TIME

                DATATYPE INTERVAL ;

        FIELD COST_CODE

                DATATYPE TEXT ( 15);

        FIELD WAIT_PREP         ALIAS NEEDS_WAIT

                DATATYPE BOOLEAN ;

        FIELD DESCRIPTION                                               {93.0}

                DATATYPE TEXT (234)
                USED_FOR DISPLAY_BROWSE ( 2 );

        FIELD MODIFIED_ON

                DATATYPE DATE
                USED_FOR MODIFIED_ON ;

        FIELD MODIFIED_BY

                LINKS_TO PERSONNEL . IDENTITY
                USED_FOR MODIFIED_BY ;

        FIELD MODIFIABLE

                DATATYPE BOOLEAN
                USED_FOR MODIFIABLE ;

        FIELD REMOVEFLAG

                DATATYPE BOOLEAN
                USED_FOR REMOVE_FLAG ;

        FIELD APPROVAL_REQD

                DATATYPE BOOLEAN ;

        FIELD NAME                                                      {93.0}

                DATATYPE TEXT ( 100 )
                USED_FOR PRIMARY_BROWSE, NAME ;
                
        FIELD HAS_ATTACHMENTS

                DATATYPE BOOLEAN
                USED_FOR HAS_ATTACHMENTS ;
                
                index TEST_INDEX on group_id; {16.0}

table mlp_level
      alias mlp_levels;

field level_id datatype identity                                        {93.0}
      used_for unique_key, display_browse ( 1 );
field description datatype text (234)                                   {93.0}
      used_for display_browse ( 2 );
field level_type datatype identity
      prompt_type phrase
      identities
      valid
      phrase_type MLP_LEVELS;
field message_action datatype boolean;
field report_action datatype text (1)
      default 'D'
      prompt_type choose
      choose_type REPT_ACT;
field result_action datatype text (1)
      default 'A'
      prompt_type choose
      choose_type RESL_ACT;
field display_message datatype text (234);
field report_name links_to report . identity;
field routine_name                                                      {93.0}
      datatype text (50)
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';


field modified_on datatype date
      used_for modified_on;
field modified_by links_to personnel.identity
      used_for modified_by;
field group_id links_to group_header.identity
      used_for security_id;

{*** extra for stat ***}

field aql_level
      datatype boolean
      default 'No'
      true_word 'Yes'
      false_word 'No' ;

field incident
      datatype boolean
      default 'No'
      true_word 'Yes'
      false_word 'No' ;

field incident_template
      links_to incident_template . template_id ;

field incident_workflow_id
      links_to workflow . workflow_guid ;

field name           				{93.0}
      datatype text ( 100 )
      used_for primary_browse, name ;

field modifiable 
      datatype boolean
      default 'Yes'
      true_word 'Yes'
      false_word 'No' 
      used_for modifiable ;

field removeflag
      datatype boolean
      used_for remove_flag ;

field has_attachments
      datatype boolean
      used_for has_attachments ;

field include_expression
      datatype text ( 500 ) ;

field out_of_range_backcolor
      datatype text ( 50 ) ;

field out_of_range_forecolor
      datatype text ( 50 ) ;

table mlp_header;

{ 66.0 
Standard SMIDI 2004 identity field length is 20. Not modified here.
}

field identity datatype identity			{93.0}
      used_for unique_key , display_browse ( 1 );
field product_code datatype Text ( 50 );
field entry_code datatype packed_decimal;
field product_group datatype identity
        prompt_type phrase
        identities
        valid
        phrase_type MLP_GROUP;
field description datatype Text ( 234 )					 {93.0}
      used_for display_browse(3) ;
field test_schedule
      links_to test_sched_header . identity;
field product_status
      datatype text ( 1 );
field modified_on datatype date used_for modified_on;
field modified_by links_to personnel.identity
      used_for modified_by;
field modifiable datatype boolean
      used_for modifiable;
field removeflag datatype boolean
      used_for remove_flag;
field group_id links_to group_header.identity
      used_for security_id;

field product_version alias version							{93.0}
      datatype packed_decimal
      default '         1'
      used_for unique_key ,
               version_number ,
               display_browse(2) ;

field version_comment alias comment datatype Text ( 234 );
field version_status datatype text (1) ;
field created_date datatype date default '0' ;

field approval_reqd datatype boolean;
field approval_status										{93.0}
      datatype text ( 1 )
      used_for display_browse ( 4 ) , approval_status
      default 'A'
      prompt_type choose
      choose_type APPR_STAT ;
field inspection_plan
      links_to inspection_header . identity
      used_for inspection ;

field substance												{93.0}
      links_to substance . identity ;
field name													{93.0}
      datatype text ( 100 )
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;
field aql_level
      datatype boolean
      default 'No'
      true_word 'Yes'
      false_word 'No' ;	  
field active
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'True'
      used_for active_flag;
field active_from
      datatype date
      used_for active_start_date;
field active_to
      datatype date
      used_for active_end_date;
field sar_description datatype text ( 234 )
        prompt_type phrase
        phrase_type SAR_HEADER; {17.0}

{ 69.0 }

   field lab_group 
     datatype text
        prompt_type phrase
        valid
        phrase_type EL_LABGRP;

   field protocol_version  
      datatype packed_decimal ;

{ end 69.0 }

{74.0}
 field lead_time
	datatype integer;
{end 74.0}


{92.0 AP change}
field analytical_protocol_no
	datatype text (50);

{/AP change}

{101.0}
field test_schedule_micro
      links_to test_sched_header . identity;
{/101.0}

table mlp_analysis;

field product_id                                                        {93.0}
      links_to parent mlp_header . identity as parent_mlp
      used_for unique_key;
field product_version                                                   {93.0}
      links_to parent mlp_header . product_version as parent_mlp
      used_for unique_key, version_number; { included for downwards compatibility }
field analysis_id														{93.0}
      links_to versioned_analysis . identity
      used_for unique_key;
field sampling_insp_level
      datatype identity
      default 'II'
      prompt_type choose
      choose_type STAT_SIL_A ;
field inspection_level
      datatype identity
      default 'NORMAL'
      prompt_type choose
      choose_type STAT_IL ;
field order_number
      datatype packed_decimal
      used_for ordering;

table mlp_components;

field product_id                                                        {93.0}
      links_to parent mlp_header.identity as parent_mlp
      used_for unique_key;
field product_version                                                   {93.0}
      links_to parent mlp_header.product_version as parent_mlp
      used_for unique_key, version_number; { included for downwards compatibility }
field analysis_id                                                       {93.0}
      datatype text(10)
      used_for unique_key;
field component_name                                                    {93.0}
      datatype text ( 40 )
      case_sensitive
      used_for unique_key, name;
field product_number datatype packed_decimal;
field component_type datatype text (1)                                  {93.0}
      prompt_type phrase
      valid
      identities
      phrase_type RES_COMP;
field units                                                             {93.0}
      links_to unit_header.identity;
field places datatype integer                                           {93.0}
      lower_limit -1;
field typical_text datatype Text ( 500 );                               {101.0}
field entry_code                                                        {93.0}
      datatype packed_decimal;
field order_num
      datatype packed_decimal
      used_for ordering;

{ 66.0 }
	field sap_phrase links_to phrase_header.identity;
{ end 66.0 }


table mlp_values
      alias limit ;

field entry_code datatype packed_decimal
      used_for unique_key;
field level_id                                                          {93.0}
      links_to mlp_level.level_id
      used_for unique_key;
field min_limit datatype Text ( 10 );
field max_limit datatype Text ( 10 );
field text_spec datatype Text ( 234 );
field calculation links_to limit_calculation . identity;
field text_phrase  links_to limit_phrase_header.identity;
field boolean_pass datatype boolean;
field aql_value                                                         {93.0}
      datatype text(234);
field out_of_range_backcolor datatype text ( 50 ) ;
field out_of_range_forecolor datatype text ( 50 ) ;

table obsolete_mlp_versions rename_table mlp_versions ;

field identity
      links_to mlp_header.identity
      used_for unique_key;
field product_version datatype packed_decimal
      used_for unique_key descending;
field version_comment alias comment datatype Text ( 234 );
field version_status datatype text ( 1 );
field created_date datatype date;

TABLE MLP_SCHEDULE;

FIELD   identity links_to   parent MLP_HEADER.Identity as parent_mlp    {93.0}
        used_for            unique_key;

FIELD   identity_version                                                {93.0}
        links_to   parent MLP_HEADER.product_version as parent_mlp
        used_for                unique_key;

FIELD   mlp_id
        links_to                mlp_header.identity
        used_for                unique_key;

{*** new for sample plan ***}

FIELD mlp_version                                                       {93.0}
      links_to                mlp_header.product_version
      default '         0';  {A value of zero indicates current version}

{*** END new for sample plan *** }

FIELD   order_num
        datatype                packed_decimal
        used_for                ordering ;

view mlp_versions_view alias mlp_versions on_table mlp_header ;

        field identity
            links_to mlp_header . identity
            used_for unique_key ;

        field product_version alias version
            links_to mlp_header . product_version
            used_for unique_key descending ;

        field version_comment
            links_to mlp_header . version_comment ;

        field version_status
            links_to mlp_header . product_status ;

        field created_date
            links_to mlp_header . created_date ;

        field name                                                      {93.0}
            links_to mlp_header . name ;

select_clause

      SELECT
		mlp_header . [identity]      ,
		mlp_header . product_version ,
		mlp_header . version_comment ,
		mlp_header . product_status  ,
		mlp_header . created_date    ,
                mlp_header . name                                       /*93.0*/

      FROM
		mlp_header ;
		
{MLP_HEADER view which gets the latest version of a product}		
		
view mlp_latest_version_view alias products_view on_table mlp_header ;  {93.0}

        field identity
            links_to mlp_header . identity
            used_for unique_key ;
            
        field version
            links_to mlp_header . product_version;

        field version_comment
            links_to mlp_header . version_comment ;

        field version_status
            links_to mlp_header . product_status ;

        field created_date
            links_to mlp_header . created_date ;
            
        field product_description
	    links_to mlp_header . description ;

        field name
            links_to mlp_header . name ;

select_clause

      SELECT
		m . [identity]      ,
		m . product_version ,
		m . version_comment ,
		m . product_status  ,
		m . created_date    ,
		m . description     ,
                m . name

      FROM
		mlp_header m
		
      WHERE
		m . product_version = ( SELECT MAX ( product_version )
                          		FROM mlp_header m2
                          		WHERE m2 . [identity] = m . [identity] ) ;
      		

view work_profile on_table mlp_header ;

field identity
	links_to mlp_header . identity
	used_for unique_key , primary_browse ;
field product_version alias version
	links_to mlp_header . product_version
	used_for unique_key , version_number , display_browse ;
field product_code
	links_to mlp_header . product_code ;
field entry_code
	links_to mlp_header . entry_code ;
field product_group
	links_to mlp_header . product_group ;
field description 
	links_to mlp_header . description
	used_for display_browse ;
field test_schedule
	links_to mlp_header . test_schedule ;
field product_status
	links_to mlp_header . product_status ;
field modified_on
	links_to mlp_header . modified_on
	used_for modified_on ;
field modified_by
	links_to mlp_header . modified_by
	used_for modified_by ;
field modifiable
	links_to mlp_header . modifiable
	used_for modifiable;
field removeflag
	links_to mlp_header . removeflag
	used_for remove_flag;
field group_id
	links_to mlp_header . group_id
	used_for security_id ;
field version_comment alias comment
	links_to mlp_header . version_comment ;
field version_status
	links_to mlp_header . version_status ;
field created_date
	links_to mlp_header . created_date ;
field name                                                              {93.0}
        links_to mlp_header . name ;

select_clause

	SELECT
		m . [identity]       ,
		m . product_version  ,
		m . product_code     ,
		m . entry_code       ,
		m . product_group    ,
		m . description      ,
		m . test_schedule    ,
		m . product_status   ,
		m . modified_on      ,
		m . modified_by      ,
		m . modifiable       ,
		m . removeflag       ,
		m . group_id         ,
		m . version_comment  ,
		m . version_status   ,
		m . created_date     ,
                m . name                                                /*93.0*/

	FROM
		mlp_header m
	WHERE
		m . [identity] IN ( SELECT DISTINCT m2 . [identity]
		                         FROM mlp_header m2 ,
		                              test_sched_entry tse ,
		                              versioned_c_l_entry vcle
		                         WHERE m2   . [identity] = tse . [identity] AND
		                               m    . [identity] = m2  . [identity] AND
		                               vcle . comp_list  = tse . [identity] AND
		                               vcle . analysis  = tse  . analysis_id ) AND
 		m . product_version = ( SELECT MAX ( product_version )
                                        FROM mlp_header m2
                                        WHERE m2 . [identity] = m . [identity] ) ;


TABLE   LIMIT_PHRASE_HEADER;


field   identity                                                        {93.0}
        alias                    identifier
        datatype                 identity
        allowed_characters ' ..`'                           { 66.0 }
        used_for                 unique_key,
                                 display_browse ( 1 );

field   group_id
        alias                    group
        links_to                 group_header.identity
        used_for                 security_id;

field   description                                                     {93.0}
        datatype                 text (234)
        used_for                 display_browse ( 2 );

field   modified_on
        datatype                 date
        used_for                 modified_on;

field   modified_by
        links_to                 personnel.identity
        used_for                 modified_by;

field   modifiable
        datatype                 boolean
        used_for                 modifiable;

field   removeflag
        datatype                 boolean
        used_for                 remove_flag;

field   phrase_link links_to phrase_header.identity;

field   default_comparison
        datatype                 text (1)
        default 'P'
        prompt_type choose       choose_type LIMIT_COMP;

field   name                                                            {93.0}
        datatype                 text (100)
        used_for                 primary_browse, name;

TABLE   LIMIT_PHRASE_ENTRY;

field   limit_phrase links_to parent limit_phrase_header.identity       {93.0}     
        used_for                 unique_key, display_browse(1);

field   result_value													{93.0}
        datatype                 text (234)
        used_for                 unique_key, primary_browse;

field   order_number
        alias                    order_num
        datatype                 packed_decimal
        used_for                 ordering;

field   comparison
        datatype                 text (1)
        default 'P'
        prompt_type choose       choose_type LIMIT_COMP;

table worksheet
      noindex
      oracle_location 'ACTIVE_MISC'
      ; {18.0}

field worksheet_type datatype identity
      prompt_type choose
      choose_type WKS_TYPE
      used_for unique_key;
field identity alias worksheet_name datatype text (20)
      used_for unique_key,primary_browse;
field assigned_operator alias operator datatype identity
      used_for display_browse (1);
field generator_operator datatype identity
      used_for display_browse (2);
field status datatype text (1)
      used_for display_browse (3);
field link_number alias worksheet_number datatype packed_decimal
      alias worksheet_link;
field date_generated datatype date; 
 
{19.0 WORKSHEET TABLE INDEXES}

index worksheet_i unique on worksheet_type, identity
      oracle_location 'ACTIVE_MISC_I'
      ;

index worksheet_identity on identity
      oracle_location 'ACTIVE_I'
      ;

{/19.0}


view sample_worksheet on_table worksheet,
                               sample   ;

field identity alias id_numeric, worksheet_name
      links_to sample . id_numeric
      used_for unique_key, primary_browse;
field id_text
      links_to sample . id_text;
field assigned_operator alias operator
      links_to worksheet . assigned_operator
      used_for display_browse (1);
field generator_operator
      links_to worksheet . generator_operator
      used_for display_browse (2);
field status
      links_to worksheet . status
      used_for display_browse (3);
field link_number alias worksheet_number alias worksheet_link
      links_to worksheet . link_number;
field date_generated
      links_to worksheet . date_generated;

select_clause

      SELECT
              SAMPLE . ID_NUMERIC ,
              SAMPLE . ID_TEXT ,
              WORKSHEET . ASSIGNED_OPERATOR ,
              WORKSHEET . GENERATOR_OPERATOR ,
              WORKSHEET . STATUS ,
              WORKSHEET . LINK_NUMBER ,
              WORKSHEET . DATE_GENERATED
      FROM
              WORKSHEET , SAMPLE
      WHERE
              WORKSHEET . WORKSHEET_TYPE = 'SMPWKS' AND
              SAMPLE . ID_NUMERIC = WORKSHEET . [IDENTITY] ;

view analysis_worksheet on_table worksheet;

field identity alias worksheet_name, analysis_id
      datatype identity (20)
      used_for unique_key, primary_browse;
field assigned_operator alias operator
      links_to worksheet . assigned_operator
      used_for display_browse (1);
field generator_operator
      links_to worksheet . generator_operator
      used_for display_browse (2);
field status
      links_to worksheet . status
      used_for display_browse (3);
field link_number alias worksheet_number alias worksheet_link
      links_to worksheet . link_number;
field date_generated
      links_to worksheet . date_generated;

select_clause

      SELECT
              WORKSHEET . [IDENTITY] ,
              WORKSHEET . ASSIGNED_OPERATOR ,
              WORKSHEET . GENERATOR_OPERATOR ,
              WORKSHEET . STATUS ,
              WORKSHEET . LINK_NUMBER ,
              WORKSHEET . DATE_GENERATED
      FROM
              WORKSHEET
      WHERE
              WORKSHEET . WORKSHEET_TYPE = 'TESTWKS';
			  
view sample_prep_worksheet on_table worksheet;

field identity alias worksheet_name
      datatype identity (20)
      used_for unique_key, primary_browse;
field assigned_operator alias operator
      links_to worksheet . assigned_operator
      used_for display_browse (1);
field generator_operator
      links_to worksheet . generator_operator
      used_for display_browse (2);
field status
      links_to worksheet . status
      used_for display_browse (3);
field link_number alias worksheet_number alias worksheet_link
      links_to worksheet . link_number;
field date_generated
      links_to worksheet . date_generated;

select_clause

      SELECT
              WORKSHEET . [IDENTITY] ,
              WORKSHEET . ASSIGNED_OPERATOR ,
              WORKSHEET . GENERATOR_OPERATOR ,
              WORKSHEET . STATUS ,
              WORKSHEET . LINK_NUMBER ,
              WORKSHEET . DATE_GENERATED
      FROM
              WORKSHEET
      WHERE
              WORKSHEET . WORKSHEET_TYPE = 'SMPREPWKS';
			  
view test_prep_worksheet on_table worksheet;

field identity alias worksheet_name
      datatype identity (20)
      used_for unique_key, primary_browse;
field assigned_operator alias operator
      links_to worksheet . assigned_operator
      used_for display_browse (1);
field generator_operator
      links_to worksheet . generator_operator
      used_for display_browse (2);
field status
      links_to worksheet . status
      used_for display_browse (3);
field link_number alias worksheet_number alias worksheet_link
      links_to worksheet . link_number;
field date_generated
      links_to worksheet . date_generated;

select_clause

      SELECT
              WORKSHEET . [IDENTITY] ,
              WORKSHEET . ASSIGNED_OPERATOR ,
              WORKSHEET . GENERATOR_OPERATOR ,
              WORKSHEET . STATUS ,
              WORKSHEET . LINK_NUMBER ,
              WORKSHEET . DATE_GENERATED
      FROM
              WORKSHEET
      WHERE
              WORKSHEET . WORKSHEET_TYPE = 'TESTPREP';
			  
view user_worksheet on_table worksheet;

field identity alias worksheet_name
      datatype identity (20)
      used_for unique_key, primary_browse;
field assigned_operator alias operator
      links_to worksheet . assigned_operator
      used_for display_browse (1);
field generator_operator
      links_to worksheet . generator_operator
      used_for display_browse (2);
field status
      links_to worksheet . status
      used_for display_browse (3);
field link_number alias worksheet_number alias worksheet_link
      links_to worksheet . link_number;
field date_generated
      links_to worksheet . date_generated;

select_clause

      SELECT
              WORKSHEET . [IDENTITY] ,
              WORKSHEET . ASSIGNED_OPERATOR ,
              WORKSHEET . GENERATOR_OPERATOR ,
              WORKSHEET . STATUS ,
              WORKSHEET . LINK_NUMBER ,
              WORKSHEET . DATE_GENERATED
      FROM
              WORKSHEET
      WHERE
              WORKSHEET . WORKSHEET_TYPE = 'UDWKS';

table standard;

field identity datatype identity                                        {93.0}
      alias identifier
      used_for unique_key,display_browse(1);
field category datatype identity;
field group_id links_to group_header.identity
      used_for security_id;
field standard_type datatype identity
      default 'CALIB'
      prompt_type choose
      choose_type STAND_TYPE ;
field standard_name datatype text(60);
field expiry_type datatype text(1)
      default 'T'
      prompt_type choose
      choose_type EXPIRY_TYP ;
field lifetime datatype interval
      alias standard_lifetime ;
field maximum_usage
      datatype integer
      lower_limit 1
      default 1;
field internal_external datatype boolean;
field description datatype text(60)                                     {93.0}
      used_for display_browse(2);
field modifiable datatype boolean
      used_for modifiable       ;
field modified_on datatype date
      used_for modified_on;
field modified_by links_to personnel.identity
      used_for modified_by;
field removeflag datatype boolean
      used_for remove_flag;
field product_id datatype identity;
    { links_to mlp_header.identity }
field template_id
      links_to samp_tmpl_header.identity;
field substance                                                         {93.0}
      links_to substance.identity;
field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;
field workflow_node_control
      default '06833E29-B7E5-4DFC-98C1-91B9AF7B6A41'
      links_to workflow_node . workflow_node_guid ;

table standard_versions;

field identity                                                          {93.0}
   links_to parent standard.identity as standard
   alias identifier
   used_for unique_key;
field version datatype packed_decimal
   used_for version_number, unique_key;
field status datatype text(1)
   alias standard_status;
field expiry_type datatype text(1)
      default 'T'
      prompt_type choose
      choose_type EXPIRY_TYP ;
field lifetime datatype interval
      alias standard_lifetime ;
field creation_date datatype date default '0' ;                         {93.0}
field expiry_date datatype date;
field usage_count datatype integer;
field maximum_usage datatype integer
        lower_limit 1
        default 1;
field ammount_made datatype text(20);
field version_comment alias comment datatype text(234)
      used_for display_browse;

{101.0}
field   location_id        links_to location . identity ;               {012}    
field   storage_conditions datatype text(234);                          {012}

view v_standard_versions on_table standard_versions;                    {012}
    
    field identity         links_to standard_versions . identity;
    field version          links_to standard_versions . version;
    field version_browse   datatype text (20) used_for display_browse (1);
    field status           links_to standard_versions . status;
    field expiry_type      links_to standard_versions . expiry_type;
    field lifetime         links_to standard_versions . lifetime; 
    field creation_date    links_to standard_versions . creation_date;
    field expiry_date      links_to standard_versions . expiry_date;
    field usage_count      links_to standard_versions . usage_count;
    field maximum_usage    links_to standard_versions . maximum_usage;
    field ammount_made     links_to standard_versions . ammount_made;
    field version_comment  links_to standard_versions . version_comment used_for display_browse (2); {69.0}
    field location_id      links_to standard_versions . location_id;

    select_clause    

    select standard_versions . [identity], 
           standard_versions . version,
           CAST(standard_versions.[identity]  AS VARCHAR) + CAST(standard_versions.version  AS VARCHAR),
           standard_versions . status,
           standard_versions . expiry_type,
           standard_versions . lifetime,
           standard_versions . creation_date,
           standard_versions . expiry_date,
           standard_versions . usage_count,
           standard_versions . maximum_usage,
           standard_versions . ammount_made,
           standard_versions . version_comment,
           standard_versions . location_id

    from standard_versions;
{/101.0}


table instrument ;

field identity                                                          {93.0 Major reorgansiation of table for v10}
        datatype identity
        used_for unique_key, display_browse ( 1 );

field group_id alias group
	used_for security_id
	links_to group_header . identity;

field description
	datatype text ( 255 )
	used_for display_browse ( 2 );

field modifiable datatype boolean
	used_for modifiable;

field modified_on datatype date
	used_for modified_on;

field modified_by links_to personnel.identity
	used_for modified_by;

field removeflag datatype boolean
	used_for remove_flag;       

field manufacturer
	links_to supplier.identity;

{ 20.0 }
field insttype_id alias insttype
        datatype identity ( 20 )
        prompt_type phrase
        {identities}
        phrase_type INST_TYPE;
{End of 20.0 }


field instrument_template
	links_to instrument_template.identity;

field serial_no
	datatype text (78);

field instructions
	datatype text ( 255 );

field location_id alias location
	links_to location . identity;

field sop_reference
	datatype text (100);

field available
	datatype boolean
	true_word 'Yes'
	false_word 'No'
	default 'Yes' ;

field retired
	datatype boolean
	true_word 'Yes'
	false_word 'No'
	default 'No' ;

field operator_id alias operator
        links_to personnel . identity;

field date_installed
	datatype date;

field calibration_plan
	datatype text ( 255 );

field calib_sample_template
	links_to samp_tmpl_header . identity;	

field requires_calibration
	datatype boolean;

field last_calib_date
	datatype date;

field next_calib_date
	datatype date;

field calib_contractor
	links_to supplier.identity;

field calib_lead_time
	datatype interval
	lower_limit '0 00:00:00.00';

field calibration_sample
	links_to sample.id_numeric;

field requires_servicing
	datatype boolean;

field last_service_date
	datatype date;

field next_service_date
	datatype date;

field service_contractor
	links_to supplier.identity;

field service_lead_time
	datatype interval
	lower_limit '0 00:00:00.00';

field service_intv
	datatype interval
	lower_limit '0 00:00:00.00';

field service_date
	datatype date;

field service_tqe
	datatype integer;

field workfile
	datatype text (234);

field server
	datatype identity;

field approval_reqd
	datatype boolean ;

field channel
	datatype identity;

field status alias statuschar
	prompt_type choose
	choose_type INST_STAT
	default'U'
	datatype text ( 1 );

field calib_date
	datatype date;

field calib_intv
	datatype interval
	lower_limit '0 00:00:00.00';

field calib_tqe
	datatype integer;

field workstation_name
	datatype identity(30)
	prompt_type user_defined
	library '$INSTRUMENT_COMM'
	routine 'workstation_prompt';

field comm_port
	datatype identity
	prompt_type user_defined
	library '$INSTRUMENT_COMM'
	routine 'com_port_prompt';

field comm_baud
	datatype identity
	prompt_type choose
	choose_type COMM_BAUD
	default '9600';

field comm_parity
	datatype identity
	prompt_type choose
	choose_type COMM_PARIT
	default 'N';

field comm_databits
	datatype integer
	default  8
	lower_limit 4
	upper_limit 8 ;

field comm_stopbits
	datatype identity
	prompt_type choose
	choose_type COMM_STOPB
	default '1';

field comm_send_string
	datatype text;

field comm_timeout
	datatype integer
	default  5
	lower_limit 1
	upper_limit 60 ;

field comm_preamble
	datatype text;

field comm_postamble
	datatype text;

field name
	datatype text ( 100 )
	used_for primary_browse, name;

field has_attachments
	datatype boolean
	used_for has_attachments ;

field instrument_category
	links_to instrument_category . identity;

field lab_data_source_id
	links_to lab_data_source . lab_data_source_id as lab_data_source ;

field lab_data_source_version
	links_to lab_data_source . lab_data_source_version as lab_data_source ;

field lab_parsing_script_id
	links_to lab_parsing_script . lab_parsing_script_id as lab_parsing_script ;

field lab_parsing_script_version
	links_to lab_parsing_script . lab_parsing_script_version as lab_parsing_script ;

field variable_alias_id
	links_to lab_alias . lab_alias_id as variable_aliasing ;

field variable_alias_version
	links_to lab_alias . lab_alias_version as variable_aliasing ;

field value_alias_id
	links_to lab_alias . lab_alias_id as value_aliasing;

field value_alias_version
	links_to lab_alias . lab_alias_version as value_aliasing ;

field custom_icon
	links_to icon . identity 
	default 'INT_BALANCE';

field use_maintenance
	datatype boolean
	true_word 'T'
	false_word 'F'
	default 'T';

field monitored_instrument
	datatype boolean ;

field has_notebook_link
	datatype boolean
	used_for has_notebook_link;
	
{19.0}

field model
        datatype text ( 60 );
field asset
        datatype text ( 60 );
field calib_by
        datatype text ( 60 );
field pass
        datatype text ( 10 );
field performed_by
        datatype text ( 60 );

{---------------------------------------}
{ Modification                          }
{---------------------------------------}
{ The following field has been added to }
{ the structure for Phase II Custom-    }
{ isations, JOD, 03/10/97               }
{ --------------------------------------}
field calib_req datatype boolean
    true_word 'Yes'
    false_word 'No'
    default 'Yes';

{---------------------------------------}
{ Modification                          }
{---------------------------------------}
{ The following field has been added to }
{ the structure for Phase II Custom-    }
{ isations, JMW, 18/11/97               }
{ --------------------------------------}
field service_calib_req datatype boolean
    true_word 'Yes'
    false_word 'No'
    default 'Yes';

{-----------------------------------}
{  Calibration Module		    }
{-----------------------------------}

field label_printer
      links_to printer.identity;

field service_report
         datatype text ( 50 ) ;


{-------------------------------------}
{Modification Field added AMF 01-08-03}
{CC2003-092                           }
{-------------------------------------}

field qualification_status
      datatype text(40)
      prompt_type phrase
      phrase_type INST_QSTAT;

{AMF 01-08-03 End of Mod             }


{19.0}

{21.0 YUKON FIELDS}

field yukon_id
      links_to versioned_yukon . identity ;
field yukon_version
      links_to versioned_yukon . yukon_version ;

{/21.0}

{124.0}
{field min_valid_read_value datatype real;}  { 106.0 }
field min_valid_read_value datatype text(25) default '0';
{/124.0}

{120}
field calib_type
	datatype text (20)
      prompt_type phrase
      phrase_type calib_type
	default 'INTERNAL';

field service_type
	datatype text (20)
      prompt_type phrase
      phrase_type calib_type
	default 'INTERNAL';

field instrument
	datatype boolean
	true_word 'Yes'
	false_word 'No'
	default 'Yes' ;
{/120}	

table timerqueue
      noindex
      oracle_location 'ACTIVE_MISC'
      ;   {22.0}

field entry_number datatype packed_decimal used_for unique_key;
field run_time datatype date;
field repeat_interval datatype interval;
field report_name links_to report.identity;
field routine_name datatype identity (50)							{23.0} 
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';
field printer links_to printer.identity;
field param_string alias input_parameters datatype text ( 255 );
field entry_id datatype text ( 20 );
field user_name links_to personnel.identity read_only;
field timer_schedule links_to timer_schedule.identity ;
field run_window datatype interval ;
field suspended datatype boolean  ;
field start_date datatype date ;
field number_of_occurences datatype integer ;
field end_date datatype date ;
field recurrence_type datatype integer ;
field recurrence_data_1 datatype text ;
field recurrence_data_2 datatype text ;
field recurrence_data_3 datatype text ;
field task datatype text                                                {93.0}
      prompt_type phrase
      noidentities
      phrase_type tasknames ;
field task_params datatype text ;										 {93.0}

{24.0 STABILITY FIELDS}

field status
        datatype text ( 1 )
        default 'A' ;

field tag
        datatype text ( 30 ) ;

field event_type
        datatype integer
        default 1 ;

{/24.0}

{25.0}

index timerqueue_i unique on entry_number
      oracle_location 'ACTIVE_MISC_I'
      ;

{/25.0}

table personnel alias person;

field identity alias identifier datatype identity                       {93.0}
      used_for unique_key, display_browse ( 1 );
field group_id links_to group_header.identity
      used_for security_id;
field default_group
        links_to group_header.identity;
field description datatype text ( 234 ) used_for display_browse ( 2 );  {93.0}
field authority datatype identity
        prompt_type choose
        choose_type AUTHLEVEL
        default '4         ';
field location_id alias location
        links_to location.identity;
field cost_code datatype text ( 15 );
field modified_on datatype date used_for modified_on;
field modified_by links_to personnel.identity used_for modified_by;     {93.0}
field modifiable datatype boolean used_for modifiable ;
field removeflag datatype boolean used_for remove_flag;
field language links_to language.identity;                              {93.0}
field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name;
field email																{93.0}
      datatype text ( 100 );
field mobile_number
	datatype text ( 30 );
field has_attachments
      datatype boolean
      used_for has_attachments ;
field license_type
      datatype identity
      prompt_type choose
      choose_type LIC_TYPE
      default 'FF';
field chromeleon_username
      datatype text ( 100 );
field signature_blob
      links_to blob_values . blob_id ;
field chromeleon_password
      datatype text ( 2000 );
field sm_authentication
      datatype boolean ;
field contact
      links_to contact . contact_guid ;
field personnel_mapping
      datatype text ( 100 ) ;
field azure_id
      datatype text ( 40 ) ;

{ 68.0 }

field qa_approver datatype boolean
		  true_word 'Yes'
		  false_word 'No'
		  default 'No';

field sap_approver datatype boolean
		  true_word 'Yes'
		  false_word 'No'
		  default 'No';

{ end 68.0 }
{101.0}
field status
	datatype text ( 1 )
	default 'A' ;

field tag
	datatype text ( 30 ) ;

field event_type
	datatype integer
	default 1 ;
{/101.0}

table password;

field identity
        links_to personnel.identity
        used_for unique_key ;
field cryptpass datatype text ( 128 ) ;
field expires datatype date;
field frozen
        datatype boolean
        true_word 'Frozen'
        false_word 'Active'
        default 'Active' ;
field attempts
        datatype integer
        default 0 ;
field last_login datatype date;
field cryptpass_key
        datatype text ( 20 ) ;

table password_history;

field identity
        links_to personnel.identity
        used_for unique_key ;
field changed datatype date
        used_for unique_key ;
field cryptpass 
        datatype text ( 128 ) ;
field cryptpass_key
        datatype text ( 20 ) ;

table menu;

        field owner_menu
                datatype        identity
                used_for        unique_key;
        field menu_numeric
                datatype        packed_decimal
                used_for        unique_key;
        field order_num
                datatype        packed_decimal
                used_for        unique_key, ordering;
        field procedure_num
                datatype        integer
                lower_limit     0;
        field mnemonic
		links_to        master_menu . mnemonic;
        field security_level
                datatype        integer
                lower_limit     0
                upper_limit     10;
        field group_id
                links_to        group_header . identity
                used_for        security_id;
        field description
                datatype        text (80);
        field desc_length
                datatype        integer
                lower_limit     1
                upper_limit     80;
        field library
                links_to        report.identity;
        field routine
                datatype        text (50)
                PROMPT_TYPE     user_defined
                LIBRARY         '$PROMPT_ROUTINE'
                ROUTINE         'prompt_routine';

index menu_menu_numeric_index on owner_menu , menu_numeric ;

index menu_procedure_number on owner_menu , procedure_num ;

index menu_mnemonic on owner_menu , mnemonic ;

TABLE printer;

        FIELD   identity                                                {93.0}
                DATATYPE identity
                USED_FOR unique_key, display_browse ( 1 );

        FIELD   group_id
                LINKS_TO group_header.identity
                USED_FOR security_id;

        FIELD   description                                             {93.0}
                DATATYPE text ( 234 )
                USED_FOR display_browse ( 2 );

        FIELD   location
                LINKS_TO location.identity;

        FIELD   logical_name
                DATATYPE text ( 234 )
                PROMPT_TYPE user_defined
                LIBRARY '$Q_BROWSE'
                ROUTINE 'queue_browse';

        FIELD   device_type
                DATATYPE identity
                DEFAULT 'LOCAL'
                PROMPT_TYPE choose
                CHOOSE_TYPE print_type;

        FIELD   modified_on
                DATATYPE date
                USED_FOR modified_on;

        FIELD   modified_by
                LINKS_TO personnel.identity
                USED_FOR modified_by;

        FIELD   modifiable
                DATATYPE boolean
                USED_FOR modifiable     ;

        FIELD   removeflag
                DATATYPE boolean
                USED_FOR remove_flag;

        FIELD   device_name
                DATATYPE text ( 20 );

        FIELD   printer_code_type
                DATATYPE text (20)
                PROMPT_TYPE user_defined
                LIBRARY '$Q_BROWSE'
                ROUTINE 'code_type_prompt';

        FIELD   printer_parameter
                DATATYPE text ( 234 ) ;

        FIELD   graphics_type
                datatype identity
                prompt_type phrase
                identities
                valid
                phrase_type PRINT_GFX;
        FIELD   name                                                    {93.0}
                DATATYPE text ( 100 ) 
                used_for primary_browse, name ;
        FIELD   has_attachments
                DATATYPE boolean
                USED_FOR has_attachments ;
        FIELD   label_specification
                LINKS_TO label_specification.identity ;
                
		field windows_name
		datatype text ( 100 );     { 71.0 }                

TABLE distribution ;

        FIELD   distribution_id                                         {93.0}                 
        	LINKS_TO parent printer . identity as printer
                USED_FOR unique_key ;

        FIELD   destination_id
                LINKS_TO printer . identity
                USED_FOR unique_key ;

        FIELD   order_num
                DATATYPE packed_decimal
                USED_FOR unique_key , ordering ;
				
TABLE distribution_personnel ;

        FIELD   distribution_id
        	LINKS_TO parent printer . identity
                USED_FOR unique_key ;

        FIELD   destination_operator
                LINKS_TO personnel . identity
                USED_FOR unique_key ;

        FIELD   order_num
                DATATYPE packed_decimal
                USED_FOR unique_key , ordering ;
			
TABLE distribution_contact ;

	  FIELD   distribution_id
	  	LINKS_TO parent printer . identity
		    USED_FOR unique_key ;

	  FIELD   destination_contact
		    LINKS_TO contact . contact_guid
		    USED_FOR unique_key ;

	  FIELD   order_num
		    DATATYPE packed_decimal
		    USED_FOR unique_key , ordering ;
			

table phrase
      alias phrase_entries ;

field phrase_type                                                       {93.0}
	links_to parent phrase_header.identity as phrase
	used_for unique_key, display_browse ( 2 );
	
field phrase_id                                                         {93.0}
	datatype identity
	allowed_characters '0..9A..Z_-/()$+ '
	used_for unique_key, primary_browse ;

field order_num
	datatype packed_decimal
	used_for ordering;
	
field phrase_text                                                       {93.0}
	datatype text ( 234 )
	used_for display_browse ( 1 ),translation;
	
field icon
        links_to icon . identity;

table phrase_header ;

field identity alias identifier datatype identity                       {93.0}
		 allowed_characters ' ..`'                 { 66.0 }
      used_for unique_key, display_browse ( 1 );
field group_id alias group
      links_to group_header.identity
      used_for security_id;
field description datatype text ( 234 ) used_for display_browse ( 2 );  {93.0}
field modified_on datatype date used_for modified_on;
field modified_by links_to personnel.identity used_for modified_by;
field modifiable datatype boolean used_for modifiable ;
field removeflag datatype boolean used_for remove_flag;
field name datatype text ( 100 ) used_for primary_browse, name;				{93.0}
field has_attachments datatype boolean used_for has_attachments ;

table mt_fields ;

field table_name     datatype identity ( 30 ) used_for unique_key ;     {93.0}
field field_name     datatype identity ( 30  ) used_for unique_key ;    {93.0}
field default_type                                                      {93.0}
	prompt_type choose
	choose_type MTTYPE_LOT
	datatype text ( 1 );
field default_value  datatype text     ( 255 ) ;
field text_prompt    datatype text     ( 30  ) ;
field library_name
      links_to report . identity ;
field routine_name
      datatype identity ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';
field hidden
        datatype boolean
        true_word  'Y'
        false_word 'N' ;
field prompt_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;
field copy_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;
field display_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;
field mandatory_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;

table template_fields ;

field table_name     datatype identity ( 30 ) used_for unique_key ;     {93.0}
field template_id    datatype identity ( 10 ) used_for unique_key ;
field field_name     datatype identity ( 30 ) used_for unique_key ;     {93.0}
field order_number   alias order_field datatype packed_decimal  used_for ordering   ;
field default_type                                                      {93.0}
	prompt_type choose
	choose_type MTTYPE_LOT
	datatype text ( 1 );
field default_value  datatype text ( 255 ) ;
field text_prompt    datatype text     ( 30  ) ;
field library_name
      links_to report . identity ;
field routine_name
      datatype identity ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';
field prompt_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;
field copy_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;
field display_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;
field mandatory_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;

table job_template ;

field identity alias identifier                                         {93.0}
        datatype identity ( 10 )
        used_for unique_key , display_browse ( 1 );

field browse_description alias description datatype text ( 80 )         {93.0}
                                                used_for display_browse ( 2 );
field modified_on datatype date     used_for modified_on;
field modified_by links_to personnel.identity used_for modified_by;
field modifiable  datatype boolean used_for modifiable ;
field removeflag  alias remove_flag datatype boolean  used_for remove_flag;
field group_id alias group links_to group_header.identity used_for security_id;

field prompt_for_name      datatype boolean  ;
field sample_syntax_id     links_to syntax.identity;
field sample_template_id   links_to samp_tmpl_header . identity ;
field sample_repeat_count  datatype integer  ;
field job_syntax_id        links_to syntax.identity ;

field creation_title       datatype text ( 80 ) ;

field workflow        links_to workflow . workflow_guid 
                      default '18693C5C-B14B-41F9-82F8-E2D9A199E83D';
field has_attachments datatype boolean used_for has_attachments ;

{*** extra for sample plan ***}
field is_environmental     datatype boolean ;
field name datatype text ( 100 ) used_for primary_browse;               {93.0}

table samp_tmpl_header ;

field identity alias identifier datatype identity ( 10 ) used_for unique_key ,      {93.0}
                                                                  display_browse ( 1 ) ;
field description datatype text ( 80 ) used_for display_browse ( 2 ) ;  {93.0}
field modified_on datatype date     used_for modified_on;
field modified_by links_to personnel.identity used_for modified_by;
field modifiable  datatype boolean  used_for modifiable;
field removeflag  alias remove_flag datatype boolean  used_for remove_flag;
field group_id alias group links_to group_header.identity used_for security_id;

field login_title     alias login_screen datatype text ( 80 ) ;
field sample_status   datatype text ( 1  ) allowed_characters 'HUV' ;
field syntax_id       links_to syntax . identity   ;
field edit_tests      datatype boolean    ;
field test_assignment datatype boolean    ;

field receipt_action  datatype text ( 1  ) allowed_characters 'IND' default 'N' ;
field label_action    datatype text ( 1  ) allowed_characters 'IND' default 'N' ;
field wsht_action     datatype text ( 1  ) allowed_characters 'IND' default 'N' ;

field label_id        links_to report . identity ;
field receipt_id      links_to report . identity ;
field wsht_id         links_to report . identity ;

field label_printer   links_to printer . identity ;
field receipt_printer links_to printer . identity ;
field wsht_printer    links_to printer . identity ;

field auto_wks        datatype boolean  ;
field action_type     datatype identity
                      prompt_type choose
                      default 'NONE'
                      choose_type TMPL_TYPE;

field supertemplate   datatype boolean  ;

field label_template  links_to label_template . identity ;				{93.0}
field name            datatype text ( 100 ) used_for primary_browse, name;			{93.0}
field workflow        links_to workflow . workflow_guid 
                      default '4A588308-8A1C-4727-A97D-CAC90F68F86D';
field has_attachments datatype boolean
                      used_for has_attachments ;

table supertemplatelist ;

field supertemplate  links_to samp_tmpl_header . identity used_for unique_key;
field listid         links_to samp_tmpl_header . identity used_for unique_key ;
field order_num      datatype packed_decimal used_for unique_key , ordering ;

table job_header 
      noindex
      oracle_location 'ACTIVE'
      ;    {26.0}

        field job_name

                used_for unique_key
                used_for primary_browse
                datatype identity ( 20 )
                prompt_type user_defined
                allowed_characters '0..9A..Z._- '
                library '$PROMPT_JOB'
                routine 'prompt_job' ;

        field job_status

                alias    status
                datatype text (  1 )
                prompt_type choose
                choose_type job_stat ;

        field browse_description

                alias    description
                datatype text ( 234 )
                used_for display_browse;

        field sample_syntax_id

                links_to syntax.identity;

        field date_created

                datatype date ;

        field date_completed

                datatype date ;

        field date_received

                datatype date ;

        field date_to_start

                datatype date ;

        field submitter_oper

                links_to personnel.identity;

        field samples_to_do

                datatype integer ;

        field group_id

                links_to group_header.identity
                used_for security_id;

        field template_id

                links_to job_template . identity ;

        field sample_template

                links_to samp_tmpl_header . identity ;

        field   date_authorised
                alias    authorise_date
                datatype date    ;

        field   authoriser alias authoriser_id
                links_to personnel . identity ;

        field   authorisation_notes
                datatype text ( 234 )
                prompt_type phrase
                phrase_type authsamp ;

        field   old_status

                datatype text (  1 )
                prompt_type choose
                choose_type job_stat;

        field   inspection_header
                links_to inspection_header . identity
                used_for inspection ;

        field node_trigger_path
                 datatype text ( 500 )
                 default NULL ;

        field original_job
                 links_to job_header . job_name ;

        field been_copied
                 datatype boolean ;

        field auto_validate
                datatype boolean ;

        field total_elements
                datatype integer
                default 1
                lower_limit 1 ;

        field lot_id
                links_to lot_details . lot_id ;

        field certificate
                links_to certificate . id_numeric ;

        field   workflow_node
                default '340B0B10-B8C6-422E-9D2B-B12CA10F494A'
                links_to workflow_node . workflow_node_guid ;

        field entity_template_id
                links_to entity_template . identity as entity_template;

        field entity_template_version
                links_to entity_template . entity_template_version as entity_template;

        field has_attachments
                datatype boolean
                used_for has_attachments ;

        field   cert_template_id
                links_to cert_template . cert_template_id as cert_template ;

        field   cert_template_version
                links_to cert_template . cert_template_version as cert_template
                default '         1' ;

        field   cert_id
                links_to cert . certificate_id as cert ;

        field   cert_version
                links_to cert . certificate_version as cert
                default '         1' ;

        field schedule
                links_to schedule . identity ;

        field schedule_group
                links_to schedule_group . identity ;

        field has_notebook_link
                datatype boolean
                used_for has_notebook_link;

{27.0 SMIDI FIELDS}

field smidi_lot                datatype text(20)                                              ; {93.0}
	field smidi_requester          links_to smidi_system.identity                                 ; {93.0}

{/27.0}


{28.0 CUSTOM FIELDS}

        { ---------------------------------------}
        { Modification                           }
        { ---------------------------------------}
        { EPRC Installation data base mods       }
        { Requested TMD, P96391                  }
        { TMcD, 20/5/96                          }
        { -------------------------------------- }
        field retain_location
              links_to location . identity ;

        field retain_date
              datatype date ;

        field retain_expire
              datatype date
              default '0' ;

        field batch_name
              datatype identity;

        field product alias product_name
              links_to mlp_header.identity;

        {---------------------------------------}
        { Modification                          }
        {---------------------------------------}
        { The following fields have been addedto}
        { the structure for Phase II Custom-    }
        { isations, JOD, 30/09/97               }
        { --------------------------------------}
        field   instrument
                links_to instrument . identity ;

        {---------------------------------------} 
        { Modification                          } 
        {---------------------------------------} 
        { Added for Reduced Lot Testing         } 
        { M Kavanagh,19/05/03                   } 
        { --------------------------------------} 

	field rlt_retest_date
		datatype date;

	field rlt_expiry_date
		datatype date;

	field rlt_dates
		datatype text(30);

{/28.0}

{ 66.0 SMIDI fields not already present }

	{ ----------  Optional - but required if you do UD's in LIMS ---------}
	field SAP_UD_enabled           datatype text(1)                                               ;
	field SAP_UD_phrase            links_to smidi_phrase_translate.identity                       ;
	field SAP_UD_plant             datatype text(4)                                               ;
	field SAP_UD_code_group        datatype text(8)                                               ;
	field SAP_UD_code              datatype text(4)                                               ;
	field SAP_UD_text              datatype text(80)                                              ;
	field SAP_UD_uploaded          datatype boolean                                               ;
	field SAP_batch                datatype text(10)                                              ;
	{ ----------  REQUIRED FIELDS FOR INSPECTION POINTS ----------------- }
	field SAP_MATNR                links_to mlp_header.identity                                   ;
	field product_version          datatype packed_decimal                                        ;
	field SAP_UD_POINTS            datatype boolean true_word 'Yes' false_word 'No' default 'No'  ;
	{ ----------  End required fields for inspection points  ------------ }

{ end 66.0 }


{29.0}

index job_header_i unique on job_name
      oracle_location 'ACTIVE_I';

{/29.0}

{101.0}

	  field Batch_Number
		    datatype text (20);

	  field Material
		    links_to materials.article_code;

	  field Material_Name
		    links_to materials.description;

	  field reference_std_type
		datatype text (20)
		prompt_type choose
      	choose_type RS_TYPE;

	  field registration
		datatype text (20)
		prompt_type choose
      	choose_type CONT_LIC;

	  field stock
		links_to stock.identity;

	  field stock_batch
		links_to stock_batch.batch;
	
	  field complaint_no
		datatype text (20);

	  field stab_study_id
		datatype text (20);

	  field prot_no
		datatype text (20);

	  field location
		links_to location . identity;

	  field API
		datatype text (20)
		prompt_type choose
      	choose_type API_LIST ;

	  field full_testing
		datatype boolean;

	  field em_schedule
		datatype text (1)
		prompt_type choose
      	choose_type EM_SCHED;


        field   parent_batch
                links_to job_header.batch_name; {128.0}

        field   job_type
                datatype identity
                prompt_type phrase
                identities
                phrase_type JOB_TYPE;

        field   expiry_date
                datatype date;

        field   mfg_date
                datatype date
                default NULL ;

        field    archive_box_no
                 datatype text ( 40 );

        field   market
                datatype identity
                prompt_type phrase      
                default 'DEFAULT'
                valid identities
                phrase_type MARKET;


	  field test_profile
		    datatype identity
                prompt_type phrase      
                default 'DEFAULT'
                valid identities
                phrase_type RM_PROFILE;
{\101.0}                

collection retain_samples on sample using retain_associated_job_name ;

table test_sched_header;

field identity                                                          {93.0}
	alias schedule_id
	datatype identity ( 20 )
	allowed_characters '0..9A..Z._-'
	used_for unique_key, display_browse ( 1 );          { *** Custom *** } {30.0}
field description datatype text ( 234 )                                 {93.0}
      used_for display_browse ( 2 );
field modifiable datatype boolean
      used_for modifiable;
field modified_on datatype date
      used_for modified_on;
field modified_by links_to personnel.identity
      used_for modified_by;
field removeflag datatype boolean
      used_for remove_flag;
field group_id links_to group_header.identity
      used_for security_id;
field name                                                              {93.0}
      datatype text ( 100 ) 
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;
field pl_charge_code
      datatype  text(10)
      prompt_type choose
      choose_type CHARGECODE ;

table test_sched_entry;

field identity alias schedule_id										{93.0}
      links_to parent test_sched_header.identity as test_schedule
      used_for unique_key;
field analysis_id
      links_to versioned_analysis.identity
      used_for unique_key;
field order_num datatype packed_decimal
      used_for ordering, unique_key;
field instrument_id
      alias instrument
      links_to instrument.identity;
field instrument_type                                                   {93.0}
      links_to instrument_template . identity;
field instrument_category
      links_to instrument_category . identity;

field std_test datatype boolean
      true_word  'Yes'
      false_word 'No'
      default    'Yes' ;
field replicate_count datatype integer
                format 99
                lower_limit 1
                upper_limit 99 
                default 1;
field is_analysis datatype boolean ;
field component_list
      links_to versioned_c_l_header . comp_list ;

table log_sched_header;

field identity alias schedule_name datatype identity                    {93.0}
      used_for unique_key, display_browse ( 1 );
field description datatype text ( 234 )                                 {93.0}
      used_for display_browse ( 2 );
field modifiable datatype boolean
      used_for modifiable;
field modified_on datatype date
      used_for modified_on;
field modified_by links_to personnel.identity
      used_for modified_by;
field removeflag datatype boolean
      used_for remove_flag;
field repeat_interval datatype interval;
field activation_time datatype date;
field job_template_id
      alias job_template
      links_to job_template.identity;
field template_count alias count datatype packed_decimal;
field group_id links_to group_header.identity
      used_for security_id;
field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;

table log_sched_entry;

field identity alias schedule_name                                      {93.0}
      links_to parent log_sched_header.identity
      used_for unique_key;
field template alias sample_template_id
      links_to samp_tmpl_header.identity
      used_for unique_key;
field offset alias repeat_interval datatype interval;
field order_num datatype packed_decimal
      used_for ordering,unique_key;

table group_header;

field identity datatype identity                                        {93.0}
      used_for unique_key, display_browse ( 1 )
      prompt_type user_defined
      library '$group_prompt'
      routine 'prompt_group';
field description datatype text ( 234 )                                 {93.0}
      used_for display_browse ( 2 );
field modifiable datatype boolean
      used_for modifiable       ;
field modified_on datatype date
      used_for modified_on;
field modified_by links_to personnel.identity
      used_for modified_by;
field removeflag datatype boolean
      used_for remove_flag;
field operator_id
      links_to personnel.identity;
field group_id datatype identity
      used_for security_id;
field parent_group
      links_to group_header . identity ;
field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;
field owner_site
      links_to site.identity;


table grouplink;

field operator_id                                                       {93.0}
      alias operator
      links_to parent personnel.identity
      used_for unique_key;
field group_id alias group
      links_to group_header.identity
      used_for unique_key;
field description datatype text (78)
      used_for display_browse;


TABLE HAZARD;

        FIELD IDENTITY            ALIAS IDENTIFIER                      {93.0}

                DATATYPE IDENTITY
                USED_FOR UNIQUE_KEY, DISPLAY_BROWSE (1);

        FIELD GROUP_ID            ALIAS GROUP

                LINKS_TO GROUP_HEADER . IDENTITY
                USED_FOR SECURITY_ID;

        FIELD DESCRIPTION                                               {93.0}

                DATATYPE TEXT (234)
                USED_FOR DISPLAY_BROWSE (2);

        FIELD LABEL_TEXT

                DATATYPE TEXT ( 22);
                
        FIELD MODIFIED_ON

                DATATYPE DATE
                USED_FOR MODIFIED_ON;

        FIELD MODIFIED_BY

                LINKS_TO PERSONNEL . IDENTITY
                USED_FOR MODIFIED_BY;

        FIELD MODIFIABLE

                DATATYPE BOOLEAN
                USED_FOR MODIFIABLE;

        FIELD REMOVEFLAG

                DATATYPE BOOLEAN
                USED_FOR REMOVE_FLAG ;

	FIELD NAME                                                        {93.0}
		DATATYPE TEXT (100)
		USED_FOR PRIMARY_BROWSE, NAME;
	
	FIELD HAS_ATTACHMENTS
		DATATYPE BOOLEAN
		USED_FOR HAS_ATTACHMENTS;


TABLE SYNTAX              ALIAS NAMESYNTAX ;

        FIELD IDENTITY            ALIAS IDENTIFIER                      {93.0}

                DATATYPE IDENTITY
                USED_FOR UNIQUE_KEY, DISPLAY_BROWSE ( 1 ) ;


        FIELD SYNTAX

                DATATYPE TEXT ( 80);

        FIELD DESCRIPTION                                               {93.0}

                DATATYPE TEXT (234)
                used_for display_browse ( 2 );

        FIELD USER_WRITTEN

                DATATYPE BOOLEAN ;

        FIELD LAST_USED

                DATATYPE TEXT ( 30);

        FIELD MODIFIED_ON

                DATATYPE DATE
                USED_FOR MODIFIED_ON    ;

        FIELD MODIFIED_BY

                LINKS_TO PERSONNEL . IDENTITY
                USED_FOR MODIFIED_BY    ;

        FIELD MODIFIABLE

                DATATYPE BOOLEAN
                USED_FOR MODIFIABLE     ;

        FIELD REMOVEFLAG

                DATATYPE BOOLEAN
                USED_FOR REMOVE_FLAG ;

	FIELD NAME                                                        {93.0}
		DATATYPE TEXT (100)
		USED_FOR PRIMARY_BROWSE, NAME;

	FIELD TABLE_NAME
		DATATYPE TEXT(30);
		
	FIELD FORMULA DATATYPE TEXT ( 500 )
		DEFAULT NULL ;
	
	FIELD HAS_ATTACHMENTS
		DATATYPE BOOLEAN
		USED_FOR HAS_ATTACHMENTS ;


TABLE CUSTOMER ;

        FIELD IDENTITY            ALIAS IDENTIFIER                      {93.0}

                DATATYPE IDENTITY
                USED_FOR UNIQUE_KEY, DISPLAY_BROWSE (1);

        FIELD GROUP_ID            ALIAS GROUP

                LINKS_TO GROUP_HEADER . IDENTITY
                USED_FOR SECURITY_ID;

        FIELD COMPANY_NAME                                              {93.0}

                DATATYPE TEXT (78)
                USED_FOR DISPLAY_BROWSE (2);

        FIELD ADDRESS1

                DATATYPE TEXT (78);

        FIELD ADDRESS2

                DATATYPE TEXT (78);

        FIELD ADDRESS3

                DATATYPE TEXT (78);

        FIELD ADDRESS4

                DATATYPE TEXT (78);

        FIELD ADDRESS5

                DATATYPE TEXT (78);

        FIELD ADDRESS6

                DATATYPE TEXT (78);

        FIELD PHONE_NUM

                DATATYPE TEXT (78);

        FIELD CONTACT

                DATATYPE TEXT (78);

        FIELD MODIFIED_ON

                DATATYPE DATE
                USED_FOR MODIFIED_ON;

        FIELD MODIFIED_BY

                LINKS_TO PERSONNEL . IDENTITY
                USED_FOR MODIFIED_BY ;

        FIELD MODIFIABLE

                DATATYPE BOOLEAN
                USED_FOR MODIFIABLE;

        FIELD REMOVEFLAG

                DATATYPE BOOLEAN
                USED_FOR REMOVE_FLAG ;

        FIELD SUSPENDFLAG

                DATATYPE BOOLEAN ;

        FIELD DESCRIPTION                                               {93.0}

                DATATYPE TEXT (234)
                USED_FOR DISPLAY_BROWSE (3);

        FIELD WEB_PAGE                                                  {93.0}

                DATATYPE TEXT (100);

        FIELD EMAIL                                                     {93.0}

                DATATYPE TEXT (100);

        FIELD NAME                                                      {93.0}
                DATATYPE TEXT (100)
                USED_FOR PRIMARY_BROWSE, NAME;

        FIELD HAS_ATTACHMENTS
                DATATYPE BOOLEAN
                USED_FOR HAS_ATTACHMENTS ;
			
	  FIELD PRICE_LIST_GUID
		    LINKS_TO PRICE_LIST . PRICE_LIST_GUID;
			
	  FIELD RATING
		    DATATYPE IDENTITY
		    DEFAULT 'S'
		    PROMPT_TYPE CHOOSE
		    CHOOSE_TYPE SUPP_RAT;

	  FIELD CATEGORY
		    DATATYPE IDENTITY
		    DEFAULT 'N'
		    PROMPT_TYPE CHOOSE
		    CHOOSE_TYPE SUPP_CAT;

	  FIELD QUOTE_TEMPLATE_ID
		    LINKS_TO REPORT_TEMPLATE.IDENTITY AS QUOTE_TEMPLATE;

	  FIELD QUOTE_TEMPLATE_VERSION
		    LINKS_TO REPORT_TEMPLATE.VERSION AS QUOTE_TEMPLATE;

	  FIELD INVOICE_TEMPLATE_ID
		    LINKS_TO REPORT_TEMPLATE.IDENTITY AS INVOICE_TEMPLATE;

	  FIELD INVOICE_TEMPLATE_VERSION
		    LINKS_TO REPORT_TEMPLATE.VERSION AS INVOICE_TEMPLATE;
		
	FIELD SOW_WORKFLOW_ID
		LINKS_TO WORKFLOW . WORKFLOW_GUID AS SOW_WORKFLOW;
		
	FIELD SOW_WORKFLOW_VERSION
		LINKS_TO WORKFLOW . WORKFLOW_VERSION AS SOW_WORKFLOW;
		
	FIELD ACCOUNT_MANAGER 
		LINKS_TO PERSONNEL.IDENTITY;
	
	FIELD LOGO_BLOB
		LINKS_TO BLOB_VALUES.BLOB_ID;
		
	FIELD INVOICE_WORKFLOW_ID
		LINKS_TO WORKFLOW . WORKFLOW_GUID AS INVOICE_WORKFLOW;
		
	FIELD INVOICE_WORKFLOW_VERSION
		LINKS_TO WORKFLOW . WORKFLOW_VERSION AS INVOICE_WORKFLOW;
	
	FIELD INVOICE_DUE_DAYS
		DATATYPE INTEGER
		LOWER_LIMIT 0
		UPPER_LIMIT 9999
		DEFAULT 0;

	FIELD QUOTE_EXPIRES
		DATATYPE INTEGER
		LOWER_LIMIT 0
		UPPER_LIMIT 9999
		DEFAULT 0;

	FIELD CERT_TEMPLATE_ID
		LINKS_TO CERT_TEMPLATE . CERT_TEMPLATE_ID AS CERT_TEMPLATE ;

	FIELD CERT_TEMPLATE_VERSION
		LINKS_TO CERT_TEMPLATE . CERT_TEMPLATE_VERSION AS CERT_TEMPLATE ;

TABLE LOCATION ;
	FIELD IDENTITY						{93.0}
	      ALIAS IDENTIFIER
	      USED_FOR UNIQUE_KEY, DISPLAY_BROWSE ( 1 )
	      DATATYPE IDENTITY (50);

	FIELD GROUP_ID
	      ALIAS GROUP
	      LINKS_TO GROUP_HEADER . IDENTITY 
	      USED_FOR SECURITY_ID;

	FIELD DESCRIPTION							{93.0}
	      USED_FOR DISPLAY_BROWSE ( 3 )
	      DATATYPE TEXT (234);

	FIELD MODIFIED_ON
	      USED_FOR MODIFIED_ON
	      DATATYPE DATE;

	FIELD MODIFIED_BY
	      LINKS_TO PERSONNEL . IDENTITY 
	      USED_FOR MODIFIED_BY;

	FIELD MODIFIABLE
	      USED_FOR MODIFIABLE
	      DATATYPE BOOLEAN
	      DEFAULT 'YES'
	      TRUE_WORD 'YES'
	      FALSE_WORD 'NO';

	FIELD REMOVEFLAG
	      USED_FOR REMOVE_FLAG
	      DATATYPE BOOLEAN;

	FIELD ORDER_NUMBER
	      USED_FOR ORDERING
	      DATATYPE PACKED_DECIMAL;

	FIELD PARENT_LOCATION								{93.0}
	      LINKS_TO PARENT  LOCATION . IDENTITY ;

	FIELD LOCATION_TYPE									{93.0 Custom field in 9.2 replaces standard field in 10.0 - special procedure required during upgrade }
	      LINKS_TO LOCATION_TYPE . IDENTITY 
	      USED_FOR DISPLAY_BROWSE ( 2 );

	FIELD ASSIGNABLE									 {93.0}
	      USED_FOR ASSIGNABLE
	      DATATYPE BOOLEAN
	      DEFAULT 'T'
	      TRUE_WORD 'T'
	      FALSE_WORD 'F';

	FIELD ICON											{93.0}
	      LINKS_TO ICON . IDENTITY 
	      DEFAULT 'INT_WORLD';

	FIELD NAME
	      USED_FOR PRIMARY_BROWSE, NAME
	      DATATYPE TEXT (100);

	FIELD LATITUDE										{93.0}
	      DATATYPE REAL
	      LOWER_LIMIT -90
	      UPPER_LIMIT 90
	      FORMAT 999.99999999;

	FIELD LONGITUDE										{93.0}
	      DATATYPE REAL
	      LOWER_LIMIT -180
	      UPPER_LIMIT 180
	      FORMAT 999.99999999;

	FIELD HAS_ATTACHMENTS
	      USED_FOR HAS_ATTACHMENTS
	      DATATYPE BOOLEAN;

	FIELD STORAGE_TYPE
	      DATATYPE TEXT(30);

	FIELD STORAGE_UNIT
	      LINKS_TO UNIT_HEADER . IDENTITY ;

	FIELD STORAGE_QUANTITY
	      DATATYPE REAL
	      FORMAT 999999.999;

	FIELD STORAGE_CAPACITY
	      DATATYPE REAL
	      FORMAT 999999.999;

	FIELD AVAILABLE_CAPACITY
	      DATATYPE REAL
	      FORMAT 999999.999;

	FIELD FULL
	      DATATYPE BOOLEAN;

	field entity_template_id
	      links_to entity_template . identity as entity_template ;

	field entity_template_version
	      links_to entity_template . entity_template_version as entity_template
	      default ' 1' ;
	              
	              
	{91.0}

        FIELD FILEPATH

                DATATYPE TEXT (100);

{/91.0}	              

table charge_header;

field charge_type datatype identity (20)                                {93.0}
        used_for unique_key, display_browse ( 1 );
field description datatype text (255)                                   {93.0}
        used_for display_browse ( 2 );
field modifiable datatype boolean
        used_for modifiable;
field modified_on datatype date
        used_for modified_on;
field modified_by links_to personnel.identity
        used_for modified_by;
field group_id
        used_for security_id
        links_to group_header.identity;
field removeflag datatype boolean
        used_for remove_flag;
field name                                                              {93.0}
        datatype text ( 100 )
        used_for primary_browse, name;
field has_attachments
        datatype boolean
        used_for has_attachments;

table charge_entry;

field entry_type links_to parent charge_header.charge_type as charge_header   {93.0}
      used_for unique_key;
field entry_id datatype identity
      used_for unique_key;
field rate datatype real;
field quantity1 datatype integer
        lower_limit '0';
field discount1 datatype real
        format '999.9'
        lower_limit '0.0'
        upper_limit '100.0';
field quantity2 datatype integer
        lower_limit '0';
field discount2 datatype real
        format '999.9'
        lower_limit '0.0'
        upper_limit '100.0';

table project_info;

field project_id alias identifier                                       {93.0}
        datatype identity
        used_for unique_key, display_browse (1);
field browse_description alias browse_descr, description                {93.0}
        datatype text (255)
        used_for display_browse (2);
field status
        datatype text (1);
field start_date
        datatype date;
field end_date
        datatype date;
field charge_code
        datatype identity;
field customer_id alias customer
        links_to customer.identity;
field customer_contact
        datatype text (40);
field project_supervisor
        links_to personnel.identity;
field modifiable datatype boolean
        used_for modifiable     ;
field modified_on datatype date
        used_for modified_on;
field modified_by links_to personnel.identity
        used_for modified_by;
field removeflag datatype boolean
        used_for remove_flag;
field group_id
        used_for security_id
        links_to group_header.identity;
field name                                                              {93.0}
        datatype text (100)
        used_for primary_browse, name;
field has_attachments
        datatype boolean
        used_for has_attachments;

table audit_transaction 
      noindex
      oracle_location 'ACTIVE'
      ;   {31.0}

field transaction
        datatype  packed_decimal
        used_for  unique_key , primary_browse ;

field system_pid
        datatype  text ( 8 ) ;

field user_id
        links_to personnel . identity ;

field transaction_name
        datatype  text ( 234 )
        used_for  display_browse ;

field transaction_date
        datatype  date  ;

field session_id
        links_to access_log . session_id ;

{32.0}

index audit_session_id on session_id
      oracle_location 'ACTIVE_I'
      ;

index audit_transaction_i unique on  transaction
      oracle_location 'ACTIVE_I'
      ;

{/32.0}

table audit_event
      noindex
      oracle_location 'ACTIVE'
      ;  {33.0}

field event
        datatype  packed_decimal
        used_for  unique_key , primary_browse ;

field transaction
        links_to audit_transaction . transaction ;

field table_name                                                        {93.0}
        datatype  text ( 30 )
        used_for  display_browse ( 1 ) ;

field record_key0
        datatype  text ( 255 )
        case_sensitive
        used_for  display_browse ( 2 ) ;

field record_name
        datatype  text ( 255 ) ;

field event_action
        datatype  identity ;

field event_reason
        datatype  text ( 234 )
        prompt_type     phrase 			{34.0}
        phrase_type     audit_text ;

index audit_table_no_index on table_name , record_key0
      oracle_location 'ACTIVE_I'
      ;

index audit_event_i unique on event
      oracle_location 'ACTIVE_I'
      ;

{/34.0}

table audit_data 
      noindex
      oracle_location 'ACTIVE'
      ;    {35.0}

field data
        datatype  packed_decimal
        used_for  unique_key , primary_browse ;

field event
        links_to audit_event . event
        used_for  display_browse ( 1 ) ;

field data_reason
        datatype        text ( 234 )
        prompt_type     phrase
        phrase_type     audit_text ;

field field
        datatype text ( 20 ) ;

field value_before
        datatype text ( 255 )
        default NULL ;

field value_after			{36.0}
        datatype text ( 255 )
        default NULL ;

field date_before
        datatype date
        default NULL ;

field date_after
        datatype date
        default NULL ;

field real_before
        datatype real
        default NULL ;

field real_after
        datatype real
        default NULL ;

index audit_field_index on event, field ;

index audit_field_index on field
      oracle_location 'ACTIVE_I'
      ;

index audit_data_i unique on data
      oracle_location 'ACTIVE_I'
      ;

index audit_event_index on event
      oracle_location 'ACTIVE_I'
      ;
{/36.0}

view audit_values on_table audit_event       ,
                           audit_data        ,
                           audit_transaction ;

field table_name      
	links_to audit_event . table_name 
	used_for unique_key, primary_browse;
field field_name      
	links_to audit_data . field  
	used_for display_browse (2) ;
field record_key0     
	links_to audit_event . record_key0 
	used_for display_browse (3) ;
field record_name
	links_to audit_event . record_name ;
field audit_date      
	links_to audit_transaction . transaction_date 
      used_for display_browse (4) ;
field audit_action    
	links_to audit_event . event_action ;
field user_name       
	links_to audit_transaction . user_id
      used_for display_browse (6) ;
field value_before    
	links_to audit_data . value_before 
      used_for display_browse (5) ;
field value_after     
	links_to audit_data . value_after ;
field date_before    
	links_to audit_data . date_before ;
field date_after     
	links_to audit_data . date_after ;
field real_before    
	links_to audit_data . real_before ;
field real_after     
	links_to audit_data . real_after ;
field event           
	links_to audit_data . event ;
field event_reason           
        links_to audit_event . event_reason ;
field order_num       									{93.0}
	links_to audit_data . data
	used_for unique_key;

{37.0}
field   data_reason     links_to  audit_data . data_reason ;            
field   transaction     links_to  audit_transaction . transaction ;         
{/37.0}

view audit_view on_table audit_transaction ,
                         audit_event       ;

field   event
        links_to audit_event . event
        used_for unique_key;
field   transaction
        links_to audit_event . transaction ;
field   record_key0
        links_to audit_event . record_key0 ;
field   record_name
        links_to audit_event . record_name ;
field   table_name
        links_to audit_event . table_name ;
field   event_action
        links_to audit_event . event_action ;
field   event_reason
        links_to audit_event . event_reason ;
field   transaction_date
        links_to audit_transaction . transaction_date ;
field   user_id
        links_to audit_transaction . user_id ;
field   transaction_name
        links_to audit_transaction . transaction_name ;

select_clause

        select
                e . event,
                e . [transaction],
                e . record_key0,
                e . record_name,
                e . table_name,
                e . event_action,
                e . event_reason,
                t . transaction_date,
                t . user_id,
                t . transaction_name
        from
                audit_event e,
                audit_transaction t
        where
                e . [transaction] = t . [transaction] ;


table license;

field product           datatype identity
                        used_for unique_key;
field checksum          datatype identity;
field expiry_date       datatype identity;
field login_date        datatype identity;
field number_of_users   datatype integer;
field system_id         datatype integer;
field cpu_type          datatype integer;

table tab_header;

field name alias identity
        datatype identity ( 20 )
        used_for unique_key, primary_browse;
field description
        datatype text (234)
        used_for display_browse;
field group_id
        used_for security_id
        links_to group_header.identity;
field modifiable datatype boolean
        used_for modifiable     ;
field modified_on datatype date
        used_for modified_on;
field modified_by links_to personnel.identity
        used_for modified_by;
field removeflag datatype boolean
        used_for remove_flag;

table jobtab_header;

field name alias identity
        datatype identity ( 20 )
        used_for unique_key, primary_browse;
field description
        datatype text (234)
        used_for display_browse;
field group_id
        used_for security_id
        links_to group_header.identity;
field modifiable datatype boolean
        used_for modifiable     ;
field modified_on datatype date
        used_for modified_on;
field modified_by links_to personnel.identity
        used_for modified_by;
field removeflag datatype boolean
        used_for remove_flag;

table barmenu;
field   menu_name datatype identity
        used_for unique_key;
field   menu_number datatype packed_decimal
        used_for unique_key;
field   order_number datatype packed_decimal
        used_for unique_key,ordering;
field   option_number datatype packed_decimal;
field   option_name datatype text(20);
field   help_file datatype text(20);
field   security_level
      datatype    integer
      lower_limit 0
      upper_limit 10;
field   group_id
      links_to group_header.identity
      used_for security_id ;

table smw_menu;

      field menu_name
            datatype identity
            used_for unique_key;

      field entry_number
            datatype packed_decimal
            used_for unique_key;

      field menu_number
            datatype packed_decimal ;

      field order_number
            datatype packed_decimal
            used_for ordering ;

      field option_number
            links_to master_menu . procedure_num ;

      field option_name
            datatype text( 30 );

index smw_menu_number_index on menu_name, menu_number, order_number   ;

table approval;
field   operator_id links_to personnel.identity
        used_for unique_key;
field   entry_type datatype text(20)
        used_for unique_key;
field   entry_id datatype identity
        used_for unique_key;
field   approving_body datatype identity;
field   date_approved datatype date;
field   expiry_date datatype date;

table sig_figs;
field   identity datatype identity                                      {93.0}
        used_for unique_key,display_browse (1);
field   description datatype text (234)                                 {93.0}
        used_for display_browse(2);
field   modifiable datatype boolean
        used_for modifiable;
field   modified_on datatype date
        used_for modified_on;
field   modified_by links_to personnel.identity
        used_for modified_by;
field   removeflag alias remove_flag
        datatype boolean
        used_for remove_flag;
field   group_id links_to group_header.identity
        used_for security_id;
field   name datatype text (100)										{93.0}
        used_for primary_browse, name ;
field   has_attachments
        datatype boolean
        used_for has_attachments ;

table enhanced_worksheet;

field   worksheet_ID datatype identity (20)
        used_for unique_key, primary_browse;
field   worksheet_link datatype packed_decimal;
field   group_id links_to group_header.identity
        used_for security_id;
field   status datatype text (1)
        used_for display_browse (1)
        prompt_type choose
        choose_type WORK_STAT ;
field   old_status datatype text (1);
field   generic_analysis
        links_to versioned_analysis.identity
        used_for display_browse (2);
field   worksheet_type links_to anal_works_templ.sample_source;
field   position datatype integer;
field   current_session datatype integer;
field   user_id alias worksheet_operator
        links_to personnel.identity;
field   generator_id links_to personnel.identity;
field   date_generated datatype date
        used_for display_browse (3);
field   date_completed datatype date;
field   removeflag alias remove_flag
        datatype boolean
        used_for remove_flag;
field   acquisition_count datatype integer;
field   template_id links_to anal_works_templ.template_id;
field   authoriser_id links_to personnel.identity;
field   date_authorised datatype date;

table anal_works_templ;

field   template_id datatype identity
        used_for unique_key, primary_browse;
field   group_id links_to group_header.identity
        used_for security_id;
field   description datatype text (80)
        used_for display_browse (1);
field   status datatype text (1)
        default 'U'
        used_for display_browse (2)
        prompt_type choose
        choose_type TEMP_STAT ;
field   date_approved datatype date;
field   approver_id links_to personnel.identity;
field   sample_source datatype text (1)
        default 'S'
        prompt_type choose
        choose_type SAMP_SOUR;
field   min_samples datatype integer
        default 1
        format 99999999
        lower_limit 1;
field   edit_samples_list datatype boolean;
field   sample_sort datatype text (1)
        default 'J'
        prompt_type choose
        choose_type SAMP_SORT;
field   random_control datatype boolean;
field   random_control_id links_to standard.identity;
field   number_randoms datatype integer
        default 0
        format 99999999
        lower_limit 0;
field   assign_operator datatype boolean;
field   modifiable datatype boolean
        used_for modifiable;
field   modified_on datatype date
        used_for modified_on;
field   modified_by links_to personnel.identity
        used_for modified_by;
field   removeflag datatype boolean
        used_for remove_flag;
field   generic_analysis links_to versioned_analysis.identity;
field   test_sessions datatype integer
        default 1
        format 99999999
        lower_limit 1;
field   comp_rep_flag datatype text (1)
        default 'R'
        prompt_type choose
        choose_type COMP_REP;
field   print_barcodes datatype boolean;
field   result_space datatype boolean;
field   auto_print datatype boolean;
field   printer_id links_to printer.identity;
field   review_required datatype boolean;
field   calibn_required datatype boolean;
field   contrl_required datatype boolean;
field   default_operator links_to personnel.identity;

table c_sample
      prompt_description 'STRUCTURE_SAMPLE'
      noindex
      parent_table sample
      tableset default_table_set
      oracle_location 'COMMITTED'		{38.0}  {39.0}
      ;  

index c_sample_id_text_index unique on id_text ;

index c_sample_job_name_index on job_name ;

index c_sample_status_index unique on id_numeric , status ;

index c_sample_i unique on id_numeric
      oracle_location 'COMMITTED_I'
      ;
      
index c_sample_id_text_index unique on id_text
      oracle_location 'COMMITTED_I'
      ;

index c_sample_group_id_numeric_i unique on status, group_id, id_numeric
      oracle_location 'COMMITTED_I'
      ;

index c_sample_group_id_text_index unique on status, group_id, id_text
      oracle_location 'COMMITTED_I'
      ;

index c_sample_job_name_index on job_name
      oracle_location 'COMMITTED_I'
      ;

{/39.0}


table c_sample_formulation
        noindex
        parent_table sample_formulation
        tableset default_table_set;

table c_test
      noindex
      parent_table test
      tableset default_table_set
      oracle_location 'COMMITTED'
      ; {40.0}

{41.0}

index c_test_i unique on test_number
      rdb_location 'HASH_STORAGE_AREA'
      rdb_specific 'TYPE IS HASHED'
      oracle_location 'COMMITTED_I'
      ;

index c_samp_anal_index on sample , analysis
      oracle_location 'COMMITTED_I'
      ;

index c_test_analysis_index on analysis
      oracle_location 'COMMITTED_I'
      ;

{/41.0}

index c_test_i unique on test_number
        rdb_location 'HASH_STORAGE_AREA'
        rdb_specific 'TYPE IS HASHED' ;

index c_samp_anal_index on sample , analysis ;

index c_test_analysis_index on analysis ;

table c_result 
      noindex
      parent_table result
      tableset default_table_set
      oracle_location 'COMMITTED'
      ;  {42.0}

{43.0}

index c_result_i unique on test_number , name
      oracle_location 'COMMITTED_I'
      ;
{/43.0}

table c_job_header
      parent_table job_header
      noindex
      tableset default_table_set
      oracle_location 'COMMITTED';  {44.0}

{45.0}
index c_job_header_i unique on job_name
      oracle_location 'COMMITTED_I'
      ;
{/45.0}

table c_audit_transaction
      noindex
      parent_table audit_transaction
      tableset default_table_set
      oracle_location 'COMMITTED';  {46.0}

{47.0}
index c_audit_transaction_i unique on transaction
      oracle_location 'COMMITTED_I'
      ; 
{/47.0}

table c_audit_event
      noindex
      parent_table audit_event
      tableset default_table_set
      oracle_location 'COMMITTED'
      ; {48.0}

index c_audit_table_no_index on table_name , record_key0; {49.0}

index c_audit_event_i unique on event
      oracle_location 'COMMITTED_I'
      ;

index c_audit_table_no_index on table_name , record_key0
      oracle_location 'COMMITTED_I'
      ;
{/49.0}

table c_audit_data
      noindex
      parent_table audit_data
      tableset default_table_set
      oracle_location 'COMMITTED'
      ; {50.0}

{51.0}

index c_audit_field_index on event, field ; {51.0}

index c_audit_data_i unique on data
      oracle_location 'COMMITTED_I'
      ;

index c_audit_event_index on event
      oracle_location 'COMMITTED_I'
      ;

index c_audit_field_index on event, field                               {93.0}
      oracle_location 'COMMITTED_I'
      ;
{/51.0}

view c_audit_values
        parent_table audit_values
        tableset default_table_set;

view c_audit_view
        parent_table audit_view
        tableset default_table_set;

select_clause

        select
                e . event,
                e . [transaction],
                e . record_key0,
                e . record_name,
                e . table_name,
                e . event_action,
                e . event_reason,
                t . transaction_date,
                t . user_id,
                t . transaction_name
        from
                c_audit_event e,
                c_audit_transaction t
        where
                e . [transaction] = t . [transaction] ;

table c_workflow_journal
        parent_table workflow_journal
        tableset default_table_set;

table config_header ;

        field identity
              datatype identity ( 30 )
              used_for unique_key , primary_browse ;
        field modified_on
              datatype date
              used_for modified_on ;
        field modified_by
              links_to personnel . identity
              used_for modified_by ;
        field modifiable
              datatype boolean
              used_for modifiable ;
        field removeflag
              datatype boolean
              used_for remove_flag ;
        field user_modifiable
              datatype boolean ;
        field description
              datatype text ( 255 )
              used_for display_browse ;
        field data_type
              datatype identity
              default 'TEXT'
              prompt_type choose
              choose_type CONFG_TYPE ;
        field library
              links_to report . identity ;
        field routine
              datatype text ( 80 )
              prompt_type user_defined
              library '$PROMPT_ROUTINE'
              routine 'prompt_routine';
        field value
              datatype text ( 2000 )
              prompt_type user_defined
              library '$CONFIG_PROMPT'
              routine 'prompt_config' ;
        field category
              datatype identity
              prompt_type phrase
              valid identities
              phrase_type CONFG_CATG ;
        field client_item
              datatype boolean;
        field phrase
              links_to phrase_header . identity ;

table config_item ;

        field identity
              links_to config_header . identity
              used_for unique_key ;
        field operator
              links_to personnel . identity
              used_for unique_key ;
        field group_name
              links_to group_header . identity
              used_for unique_key ;
        field value
              datatype text ( 255 ) ;


table criteria_header ;

        field identity                                                  {93.0}
              datatype identity ( 20 )
              used_for unique_key , display_browse ( 1 );
        field modified_on
              datatype date
              used_for modified_on ;
        field modified_by
              links_to personnel . identity
              used_for modified_by ;
        field modifiable
              datatype boolean
              used_for modifiable ;
        field removeflag
              datatype boolean
              used_for remove_flag ;
        field group_id
              links_to group_header . identity
              used_for security_id;
        field description                                               {93.0}
              datatype text ( 255 )
              used_for display_browse ( 2 );
        field name                                                      {93.0}
              datatype text ( 100 )
              used_for primary_browse, name;
              


table criteria ;

        field identity                                                  {93.0}
              links_to parent criteria_header . identity as Criteria
              used_for unique_key ;
        field table_name                                                {93.0}
              datatype identity ( 30 )
              used_for unique_key ;
        field field_name                                                {93.0}
              datatype identity ( 30 )
              used_for unique_key ;
        field width
              datatype integer
              lower_limit 0
              upper_limit 200 ;
        field description
              datatype text ( 30 ) ;


table criteria_saved ;
              
        field table_name                                                {93.0}
              datatype identity ( 30 )
              used_for unique_key, display_browse(1) ;
        field identity                                                  {93.0}
              datatype identity ( 40 )
              used_for unique_key, display_browse(2), primary_browse ;
        field modified_on
              datatype date
              used_for modified_on ;
        field modified_by
              links_to personnel . identity
              used_for modified_by ;
        field modifiable
              datatype boolean
              used_for modifiable ;
        field removeflag
              datatype boolean
              used_for remove_flag ;
        field group_id
              links_to group_header . identity
              used_for security_id;
        field description
              datatype text ( 255 )
              used_for display_browse(3) ;
        field task_name                                                 {93.0}
              datatype text ( 234 );
        field form                                                      {93.0}
              links_to form . name;
        field name                                                      {93.0}
              datatype text ( 100 )
              used_for name;
        field public_criteria											{93.0}
              datatype boolean
              true_word 'Yes'
              false_word 'No'
              default 'Yes' ;
        field has_attachments
              datatype boolean
              used_for has_attachments;


table criteria_condition ;												{93.0}

        field table_name
              links_to parent criteria_saved.table_name as criteria
              used_for unique_key;
        field criteria_saved
              links_to parent criteria_saved.identity as criteria
              used_for unique_key;
        field criteria_order
              datatype integer
              used_for unique_key, ordering;
        field criteria_field
              datatype text (255);
        field operator
              datatype text ( 10 )
              default 'EQUALS'
              prompt_type choose
              choose_type crit_op;
        field value
              datatype text (255);


table criteria_order ;                                                  {93.0}

        field table_name
              links_to parent criteria_saved.table_name as criteria
              used_for unique_key;
        field criteria_saved
              links_to parent criteria_saved.identity as criteria
              used_for unique_key;
        field field_name
              datatype text (255)
              used_for unique_key;
        field order_number
              datatype packed_decimal
              used_for ordering;
        field crit_order
              datatype text ( 10 )
              prompt_type choose
              choose_type crit_ord;

table criteria_variable ;                                               {93.0}

        field table_name
              links_to parent criteria_saved.table_name as criteria
              used_for unique_key;
        field criteria_saved
              links_to parent criteria_saved.identity as criteria
              used_for unique_key;
        field name
              datatype text (50)
              used_for unique_key, primary_browse;
        field type
              datatype text (20);
        field value
              datatype text (100);
        field report
              links_to report . identity;
        field routine
              datatype text (50);


view samp_job_view on_table sample,
                            versioned_analysis,                                  
                            job_header ; {52.0}


        field id_numeric
              used_for unique_key
              links_to sample.id_numeric;
        field job_name
              links_to sample.job_name;
        field job_status
              links_to job_header.job_status;
        field job_description
              links_to job_header.browse_description;
        field job_date_created
              links_to job_header.date_created;
        field job_date_completed
              links_to job_header.date_completed;
        field job_date_received
              links_to job_header.date_received;
        field job_date_to_start
              links_to job_header.date_to_start;
        field job_submitter_oper
              links_to job_header.submitter_oper;
        field job_samples_to_do
              links_to job_header.samples_to_do;
        field job_group_id
              links_to job_header.group_id;
        field job_template_id
              links_to job_header.template_id;
        field job_sample_template
              links_to job_header.sample_template;
        field job_date_authorised
              links_to job_header.date_authorised;
        field job_authoriser
              links_to job_header.authoriser;
        field job_authorisation_notes
              links_to job_header.authorisation_notes;
        field id_text
              links_to sample.id_text;
        field sample_status
              alias status
              links_to sample.status;
        field sample_old_status
              links_to sample.old_status;
        field compared
              links_to sample.compared;
        field on_spec
              links_to sample.on_spec;
        field re_sampled
              links_to sample.re_sampled;
        field original_sample
              links_to sample.original_sample;
        field link_number
              links_to sample.link_number;
        field login_date
              links_to sample.login_date;
        field login_by
              links_to sample.login_by;
        field sampled_date
              links_to sample.sampled_date;
        field recd_date
              links_to sample.recd_date;
        field date_started
              links_to sample.date_started;
        field starter
              links_to sample.starter;
        field dateresreq
              links_to sample.dateresreq;
        field date_completed
              links_to sample.date_completed;
        field completer
              links_to sample.completer;
        field dateresavail
              links_to sample.dateresavail;
        field date_authorised
              links_to sample.date_authorised;
        field authoriser
              links_to sample.authoriser;
        field authorisation_notes
              links_to sample.authorisation_notes;
        field product
              links_to sample.product;
        field product_version
              links_to sample.product_version;
        field grade_code
              links_to sample.grade_code;
        field tests_to_do
              links_to sample.tests_to_do;
        field on_wks
              links_to sample.on_wks;
        field project_id
              links_to sample.project_id;
        field batch_name
              links_to sample.batch_name;
        field sampling_point
              links_to sample.sampling_point;
        field sample_type
              links_to sample.sample_type;
        field sample_name
              links_to sample.sample_name;
        field description
              links_to sample.description;
        field preparation
              links_to sample.preparation;
        field hazard
              links_to sample.hazard;
        field substance                                                 {93.0}
              links_to sample.substance;
        field priority
              links_to sample.priority;
        field location_id
              links_to sample.location;
        field customer_id
              links_to sample.customer_id;
        field invoice_number
              links_to sample.invoice_number;
        field test_schedule
              links_to sample.test_schedule;
        field template_id
              links_to sample.template_id;
        field comp_prod_name
              links_to sample.comp_prod_name;
        field comp_prod_ver
              links_to sample.comp_prod_ver;
        field comp_prod_grade
              links_to sample.comp_prod_grade;
        field standard
              links_to sample.standard;
        field batch_id
              links_to sample.batch_id;
		field job_lot_id
			  links_to job_header.lot_id;

{53.0}
        field group_id 
              links_to versioned_analysis.group_id
              used_for security_id;
{/53.0}

view c_samp_job_view
        parent_table samp_job_view
        tableset default_table_set;

view archive_sj_view
        parent_table samp_job_view
        tableset archive_table_set;

view samp_test_view on_table sample,
                             versioned_analysis,
                             test;  {54.0}

        field id_numeric
              links_to sample.id_numeric
              used_for unique_key, primary_browse;
        field id_text
              links_to sample.id_text;
        field status
              links_to sample.status;
        field test_number
              links_to test.test_number
	      used_for unique_key;
        field analysis
              links_to test.analysis
              used_for display_browse (1);
        field test_count
              links_to test.test_count
              used_for display_browse (2);
        field test_status
              links_to test.status
              used_for display_browse (3);
        field instrument
              links_to test.instrument
              used_for display_browse (4);
        field product
              links_to sample . product ;
        field product_version
              links_to sample . product_version ;
        field standard
              links_to sample . standard ;
        field standard_id
              links_to sample . standard_id ;
        field preparation_batch
              links_to test . preparation_batch ;
        field instrument_batch
              links_to test . instrument_batch ;
        field parent_test
              links_to test . parent_test ;
        field job_name
              links_to sample . job_name ;
        field sample_priority
              links_to sample . priority ;
        field test_priority
              links_to test . test_priority ;
        field component_list alias comp_list
              links_to test . component_list ;
        field worksheet alias worksheet_id
              links_to test . worksheet ;
        field sampling_point
              links_to sample.sampling_point;
        field recd_date
              links_to sample.recd_date;
        field sample_type
              links_to sample.sample_type;
        field external_id
              links_to sample.external_id
              used_for display_browse ( 5 ) ;
              
{55.0}
 	field analysis_version					{CC2002-094}
              links_to versioned_analysis.analysis_version;      


        field template_id                                               {*** custom ***} 
              links_to sample . template_id ;
        field group_id                                                  {*** custom ***}
              links_to versioned_analysis.group_id
              used_for security_id;
	field login_date						{ MF 04/12/06 CC No.06D-0524}
              links_to sample.login_date;
       
        field sampled_date                                              { MF 04/12/06 CC No.06D-0524}
              links_to sample.sampled_date;

{/55.0}              

view c_samp_test_view
        parent_table samp_test_view
        tableset default_table_set;

view archive_st_view
        parent_table samp_test_view
        tableset archive_table_set;

view mlp_view on_table mlp_header,
                       mlp_values,
                       mlp_level,
                       mlp_components ;

        field product_id
              links_to mlp_components . product_id
              used_for unique_key, primary_browse;
        field product_version
              links_to mlp_components . product_version
              used_for unique_key, display_browse;
        field analysis_id
              links_to mlp_components . analysis_id
              used_for unique_key, display_browse;
        field component_name
              links_to mlp_components . component_name
              used_for unique_key, display_browse;
        field component_type
              links_to mlp_components . component_type
              used_for display_browse;
        field level_id
              links_to mlp_level . level_id
              used_for unique_key;
        field level_order
              links_to mlp_values . min_limit;
        field continue_checking
              links_to mlp_values . text_spec;
        field message_action
              links_to mlp_level . message_action;
        field report_action
              links_to mlp_level . report_action;
        field result_action
              links_to mlp_level . result_action;
        field display_message
              links_to mlp_level . display_message;
        field report_name
              links_to mlp_level . report_name;
        field routine_name
              links_to mlp_level . routine_name;
        field min_limit
              links_to mlp_values . min_limit;
        field max_limit
              links_to mlp_values . max_limit;
        field text_spec
              links_to mlp_values . text_spec;
        field text_phrase
              links_to mlp_values . text_phrase;
        field boolean_pass
              links_to mlp_values . boolean_pass;
        field name                                                      {93.0}
              links_to mlp_header . name;
        field out_of_range_backcolor
              links_to mlp_values .out_of_range_backcolor;
        field out_of_range_forecolor
              links_to mlp_values .out_of_range_forecolor;

        field order_num                                                 
              links_to mlp_components . order_num;       
        field units                                      
              links_to mlp_components .  units;                         
{/56.0}
        field entry_code
              links_to mlp_values . entry_code;


{57.0}
select_clause

        SELECT
                MC  . PRODUCT_ID,
                MC  . PRODUCT_VERSION,
                MC  . ANALYSIS_ID,
                MC  . COMPONENT_NAME,
                MC  . COMPONENT_TYPE,
                ML  . LEVEL_ID,
                MHV . MIN_LIMIT,
                MHV . TEXT_SPEC,
                ML  . MESSAGE_ACTION,
                ML  . REPORT_ACTION,
                ML  . RESULT_ACTION,
                ML  . DISPLAY_MESSAGE,
                ML  . REPORT_NAME,
                ML  . ROUTINE_NAME,
                MCV . MIN_LIMIT,
                MCV . MAX_LIMIT,
                MCV . TEXT_SPEC,
                MCV . TEXT_PHRASE,
                MCV . BOOLEAN_PASS,
                MH  . NAME,							 /*93.0*/
                MCV . OUT_OF_RANGE_BACKCOLOR,
                MCV . OUT_OF_RANGE_FORECOLOR,
                MC  . ORDER_NUM,          /* custom */
                MC  . UNITS,               /* custom */ 
                MCV . ENTRY_CODE
        FROM
                MLP_HEADER MH,
                MLP_VALUES MHV,
                MLP_LEVEL ML,
                MLP_COMPONENTS MC,
                MLP_VALUES MCV
        WHERE
                MH . ENTRY_CODE      = MHV . ENTRY_CODE      AND
                ML . LEVEL_ID        = MHV . LEVEL_ID        AND
                ML . LEVEL_ID        = MCV . LEVEL_ID        AND
                MC . PRODUCT_ID      = MH  . [IDENTITY]      AND
                MC . PRODUCT_VERSION = MH  . PRODUCT_VERSION AND
                MC . ENTRY_CODE      = MCV . ENTRY_CODE ;
{/57.0}

table help_context ;
field identity                                                          {93.0}
      datatype identity( 30 )
      used_for unique_key, display_browse (1) ;
field modified_on
      datatype date
      used_for modified_on ;
field modified_by
      links_to personnel.identity
      used_for modified_by;
field keyword
      datatype text ( 30 );
field title                                                             {93.0}
      datatype text ( 80 )
      used_for display_browse (2);
field mnemonic                                                          {93.0}
      datatype identity ( 10 )
      prompt_type user_defined
      library '$LTE_HELP'
      routine 'prompt_mnemonic';
field modifiable
      datatype boolean
      used_for modifiable;
field remove_flag
      datatype boolean
      used_for remove_flag;
field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name ;

table chapter;
field identity                                                          {93.0}
      datatype identity( 20 )
      used_for unique_key, display_browse (1) ;
field modified_on
      datatype date
      used_for modified_on ;
field modified_by
      links_to personnel.identity
      used_for modified_by;
field title                                                             {93.0}
      datatype text ( 80 )
      used_for display_browse (2);
field order_num
      datatype packed_decimal
      used_for ordering;
field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name ;

table contents;
field chapter_id
      links_to chapter . identity
      used_for unique_key;
field context_id
      links_to help_context . identity
      used_for unique_key;
field order_num
      datatype packed_decimal
      used_for ordering;

table reporter;
field identity
        datatype packed_decimal
        used_for unique_key, primary_browse;
field title
        datatype text (30)
        used_for display_browse;
field group_id alias group
        links_to group_header.identity
        used_for security_id;

table versioned_c_l_header rename_table comp_list_header ;

field analysis                                                          {93.0}
                    links_to parent versioned_analysis.identity as versioned_analysis
                    used_for unique_key;
field analysis_version                                                  {93.0}
                    links_to versioned_analysis.analysis_version as versioned_analysis
                    used_for unique_key;
field comp_list
                    datatype identity
                    used_for unique_key, primary_browse;
field description
                    datatype text (255)
                    used_for display_browse;
field group_id
                    links_to group_header . identity
                    used_for security_id;
field pl_charge_code
                    datatype text (10)
                    prompt_type choose
                    choose_type CHARGECODE ;

table versioned_c_l_entry rename_table comp_list_entry;

field analysis                                                          {93.0}
                    links_to parent versioned_c_l_header.analysis as versioned_c_l_header
                    used_for unique_key;
field analysis_version                                                  {93.0}
                    links_to parent versioned_c_l_header.analysis_version as versioned_c_l_header
                    used_for unique_key;
field comp_list                                                         {93.0}
                    links_to parent versioned_c_l_header.comp_list as versioned_c_l_header
                    used_for unique_key;
field name
                    links_to versioned_component.name 
                    case_sensitive
                    used_for unique_key, name, translation;
field order_number
                    datatype packed_decimal
                    used_for ordering;
field default_value
                    datatype text (234);
field replicate_count
                    datatype integer
                    default     1
                    lower_limit 1
                    upper_limit 999;
field result_entry
                    datatype boolean ;
field create_always
                    datatype boolean
                    true_word  'Yes'
                    false_word 'No'
                    default    'Yes' ;
field spike_value
                    datatype real
                    format '999.99'
                    lower_limit 0.0 ;

field surrogate_mlp links_to mlp_header . identity
                    default NULL ;

table limit_calculation;

	field identity            alias identifier
	      datatype identity
	      used_for unique_key;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name;
		  
	field description
	      datatype text (234)
	      used_for display_browse ;

	field modified_on
	      datatype date
	      used_for modified_on    ;

	field modified_by
	
	      links_to personnel . identity
	      used_for modified_by    ;

	field modifiable
	
	      datatype boolean
	      used_for modifiable     ;

	field removeflag
	
	      datatype boolean
	      used_for remove_flag ;

	field has_attachments

	      datatype boolean
	      used_for has_attachments ;

view samp_job_test_result on_table sample ,
                               job_header ,
                               test       ,
                               result     ;

        field id_numeric
              used_for unique_key
              links_to sample.id_numeric;
        field job_name                                                  {93.0}
              used_for unique_key
              links_to sample.job_name;
        field job_status
              links_to job_header.job_status;
        field job_description
              links_to job_header.browse_description;
        field job_date_created
              links_to job_header.date_created;
        field job_date_completed
              links_to job_header.date_completed;
        field job_date_received
              links_to job_header.date_received;
        field job_date_to_start
              links_to job_header.date_to_start;
        field job_submitter_oper
              links_to job_header.submitter_oper;
        field job_samples_to_do
              links_to job_header.samples_to_do;
        field job_group_id
              links_to job_header.group_id;
        field job_template_id
              links_to job_header.template_id;
        field job_sample_template
              links_to job_header.sample_template;
        field job_date_authorised
              links_to job_header.date_authorised;
        field job_authoriser
              links_to job_header.authoriser;
        field job_authorisation_notes
              links_to job_header.authorisation_notes;
        field id_text
              links_to sample.id_text;
        field status
              links_to sample.status;
        field sample_old_status
              links_to sample.old_status;
        field compared
              links_to sample.compared;
        field on_spec
              links_to sample.on_spec;
        field re_sampled
              links_to sample.re_sampled;
        field original_sample
              links_to sample.original_sample;
        field link_number
              links_to sample.link_number;
        field login_date
              links_to sample.login_date;
        field login_by
              links_to sample.login_by;
        field sampled_date
              links_to sample.sampled_date;
        field recd_date
              links_to sample.recd_date;
        field date_started
              links_to sample.date_started;
        field starter
              links_to sample.starter;
        field dateresreq
              links_to sample.dateresreq;
        field date_completed
              links_to sample.date_completed;
        field completer
              links_to sample.completer;
        field dateresavail
              links_to sample.dateresavail;
        field sample_date_authorised
              links_to sample.date_authorised;
        field authoriser
              links_to sample.authoriser;
        field authorisation_notes
              links_to sample.authorisation_notes;
        field product
              links_to sample.product;
        field product_version
              links_to sample.product_version;
        field grade_code
              links_to sample.grade_code;
        field tests_to_do
              links_to sample.tests_to_do;
        field on_wks
              links_to sample.on_wks;
        field project_id
              links_to sample.project_id;
        field batch_name
              links_to sample.batch_name;
        field sampling_point
              links_to sample.sampling_point;
        field sample_type
              links_to sample.sample_type;
        field sample_name
              links_to sample.sample_name;
        field description
              links_to sample.description;
        field preparation
              links_to sample.preparation;
        field hazard
              links_to sample.hazard;
        field substance                                                 {93.0}
              links_to sample.substance;
        field priority
              links_to sample.priority;
        field location_id
              links_to sample.location;
        field customer_id
              links_to sample.customer_id;
        field invoice_number
              links_to sample.invoice_number;
        field test_schedule
              links_to sample.test_schedule;
        field template_id
              links_to sample.template_id;
        field comp_prod_name
              links_to sample.comp_prod_name;
        field comp_prod_ver
              links_to sample.comp_prod_ver;
        field comp_prod_grade
              links_to sample.comp_prod_grade;
        field standard
              links_to sample.standard;
        field batch_id
              links_to sample.batch_id;
        field test_number                                               {93.0}{70.0}
              used_for unique_key
              links_to test.test_number;
        field analysis
              links_to test.analysis;
        field test_status
              links_to test.status;
        field instrument
              links_to test.instrument;
        field component_name                                            {93.0}
              used_for unique_key
              links_to result.name;
        field result_type
              links_to result.result_type;
        field result_status
              links_to result.status;
        field result_text
              links_to result.text;
        field result_value
              links_to result.value;
        field units
              links_to result.units;
        field minimum
              links_to result.minimum;
        field maximum
              links_to result.maximum;
        field out_of_range
              links_to result.out_of_range;
        field date_result_entered
              links_to result.entered_on;
        field result_entered_by
              links_to result.entered_by;
        field date_result_authorised
              links_to result.date_authorised;
        field result_authoriser
              links_to result.authoriser;

        field group_id alias group
              links_to versioned_analysis.group_id
              used_for security_id;  {58.0}

view samp_test_result on_table sample ,
                               test   ,
                               result ;

        field id_numeric
              used_for unique_key, display_browse(1)
              links_to sample.id_numeric;
        field test_number
              used_for unique_key, display_browse(2)
              links_to test .test_number;
        field component_name
              used_for unique_key, display_browse(4)
              links_to result.name;
        field job_name
              links_to sample.job_name;
        field id_text
              links_to sample.id_text;
        field status
              links_to sample.status;
        field sample_old_status
              links_to sample.old_status;
        field compared
              links_to sample.compared;
        field on_spec
              links_to sample.on_spec;
        field re_sampled
              links_to sample.re_sampled;
        field original_sample
              links_to sample.original_sample;
        field link_number
              links_to sample.link_number;
        field login_date
              links_to sample.login_date;
        field login_by
              links_to sample.login_by;
        field sampled_date
              links_to sample.sampled_date;
        field recd_date
              links_to sample.recd_date;
        field date_started
              links_to sample.date_started;
        field starter
              links_to sample.starter;
        field dateresreq
              links_to sample.dateresreq;
        field date_completed
              links_to sample.date_completed;
        field completer
              links_to sample.completer;
        field dateresavail
              links_to sample.dateresavail;
        field sample_date_authorised
              links_to sample.date_authorised;
        field authoriser
              links_to sample.authoriser;
        field authorisation_notes
              links_to sample.authorisation_notes;
        field product
              links_to sample.product;
        field product_version
              links_to sample.product_version;
        field grade_code
              links_to sample.grade_code;
        field tests_to_do
              links_to sample.tests_to_do;
        field on_wks
              links_to sample.on_wks;
        field project_id
              links_to sample.project_id;
        field batch_name
              links_to sample.batch_name;
        field sampling_point
              links_to sample.sampling_point;
        field sample_type
              links_to sample.sample_type;
        field sample_name
              links_to sample.sample_name;
        field description
              links_to sample.description;
        field preparation
              links_to sample.preparation;
        field hazard
              links_to sample.hazard;
        field substance                                                 {93.0}
              links_to sample.substance;
        field priority
              links_to sample.priority;
        field location_id
              links_to sample.location;
        field customer_id
              links_to sample.customer_id;
        field invoice_number
              links_to sample.invoice_number;
        field test_schedule
              links_to sample.test_schedule;
        field template_id
              links_to sample.template_id;
        field comp_prod_name
              links_to sample.comp_prod_name;
        field comp_prod_ver
              links_to sample.comp_prod_ver;
        field comp_prod_grade
              links_to sample.comp_prod_grade;
        field standard
              links_to sample.standard;
        field batch_id
              links_to sample.batch_id;
        field preparation_batch
              links_to test . preparation_batch ;
        field instrument_batch
              links_to test . instrument_batch ;
        field analysis
              used_for display_browse(3)
              links_to test.analysis;
        field test_status
              links_to test.status;
        field instrument
              links_to test.instrument;
        field replicate_test
              links_to test . replicate_test;
        field test_count
              links_to test . test_count ;
        field result_type
              links_to result.result_type;
        field result_status
              links_to result.status;
        field result_text
              links_to result.text;
        field result_value
              links_to result.value;
        field units
              links_to result.units;
        field minimum
              links_to result.minimum;
        field maximum
              links_to result.maximum;
        field out_of_range
              links_to result.out_of_range;
        field date_result_entered
              links_to result.entered_on;
        field result_entered_by
              links_to result.entered_by;
        field date_result_authorised
              links_to result.date_authorised;
        field result_authoriser
              links_to result.authoriser;

        field group_id alias group
              links_to versioned_analysis.group_id
              used_for security_id;  {59.0}

{60.0}
        { =============================== }
        { JMW, Modification, 21/08/96     }
        { =============================== }
        { Elan BIOLIMS, JOG, 21/05/96     }
        { The order of results in a test  }
        { =============================== }
        field res_order 
              links_to result . order_number ;
{/60.0}

field result_inst_used    links_to result.instrument_used ;     { 106.0 }
field result_below_lod    links_to result.result_below_lod ;     { 106.0 }

view limit_view on_table mlp_values, mlp_components ;

        field level_entry_code
              links_to mlp_values . entry_code
              used_for unique_key, primary_browse;
        field level_id
              links_to mlp_values . level_id
              used_for unique_key, display_browse;
        field level_order
              links_to mlp_values . min_limit;
        field continue_checking
              links_to mlp_values . text_spec;
        field limit_entry_code
              links_to mlp_values . entry_code
              used_for unique_key;
        field min_limit
              links_to mlp_values . min_limit;
        field max_limit
              links_to mlp_values . max_limit;
        field text_spec
              links_to mlp_values . text_spec;
        field calculation
              links_to mlp_values . calculation;
        field text_phrase
              links_to mlp_values . text_phrase;
        field boolean_pass
              links_to mlp_values . boolean_pass;
        field places
              links_to mlp_components . places;
        field out_of_range_backcolor
              links_to mlp_values . out_of_range_backcolor;
        field out_of_range_forecolor
              links_to mlp_values . out_of_range_forecolor;

select_clause

        SELECT
                MHV . ENTRY_CODE,
                MHV . LEVEL_ID,
                MHV . MIN_LIMIT,
                MHV . TEXT_SPEC,
                MCV . ENTRY_CODE,
                MCV . MIN_LIMIT,
                MCV . MAX_LIMIT,
                MCV . TEXT_SPEC,
                MCV . CALCULATION,
                MCV . TEXT_PHRASE,
                MCV . BOOLEAN_PASS,
                MCC . PLACES,
                MHV . OUT_OF_RANGE_BACKCOLOR,
                MHV . OUT_OF_RANGE_FORECOLOR

        FROM
                MLP_VALUES MHV,
                MLP_VALUES MCV,
                MLP_COMPONENTS MCC

        WHERE
                MCV . LEVEL_ID = MHV . LEVEL_ID AND
                MCV . ENTRY_CODE = MCC .ENTRY_CODE ;

table unit_header;

        field   identity
                alias                   unit_id , symbol_id
                datatype                text(40)
                used_for                unique_key , primary_browse
                allowed_characters      '0..9a..zA..Z /*^+-.[]()%_#'
		case_sensitive
                prompt_description      'LTE_UNIT_IDENTITY' ;

        field   system
                alias                   protocol
                datatype                text(4)
                      default           'ENGL'
                prompt_type             choose
                choose_type             UNIT_PROT ;

        field   class
                datatype                text(2)
                      default           'B'
                prompt_type             choose
                choose_type             UNIT_CLASS ;

        field   quantity
                alias                   base_type , type
                datatype                text(10)
                used_for                display_browse(1)
                    default           'A'
                prompt_type             choose
                choose_type             UNIT_TYPE;

        field   description                                             {93.0}
                alias                   common_name
                datatype                text(60)
                used_for                display_browse(2)
                allowed_characters      '0..9a..zA..Z /*^+-.[]()%_#'
                prompt_description      'LTE_UNIT_DESCRIPTION' ;

        field   derivation
                alias                   formula , expression
                datatype                text(40)
                allowed_characters      '0..9a..zA..Z /*^+-.[]()%_#'
                default                 '1' ;

        field   complement
                datatype                text(40)
                allowed_characters      '0..9a..zA..Z /*^+-.[]()%_#';

        field   modified_on
                datatype                date
                used_for                modified_on;

        field   modified_by
                links_to                personnel . identity
                used_for                modified_by;

        field   modifiable
                datatype                boolean
                used_for                modifiable;

        field   removeflag
                datatype                boolean
                used_for                remove_flag;

table unit_alias;

        field   parent_id                                               {93.0}
                links_to parent         unit_header . identity as unit_header
                used_for                unique_key
                case_sensitive ;

        field   identity
                alias                   alias_id
                datatype                text(40)
                used_for                unique_key , primary_browse
                case_sensitive
                allowed_characters      '0..9a..zA..Z /*^+-.[]()%_#'
                prompt_description      'Alias_ID';

        field   order_number
                datatype                packed_decimal
                used_for                ordering;

TABLE batch_tmpl_header ;

        field identity alias identifier                                 {93.0}
              datatype identity(10)
              used_for unique_key, display_browse (1);

        field group_id alias group
              links_to group_header.identity
              used_for security_id;

        field description datatype text ( 234 )                         {93.0}
              used_for display_browse (2);

        field analysis links_to analysis .identity;

        field limits   links_to mlp_header . identity ;

        field batch_class
              datatype identity ( 10 )
              default  'BASE'
              prompt_type choose
              choose_type BATCH_TYPE ;

        field modified_on
              datatype       date
              used_for       modified_on ;

        field modified_by
              links_to personnel.identity
              used_for modified_by;

        field modifiable
              datatype boolean
              used_for modifiable;

        field removeflag
              datatype boolean
              used_for remove_flag;

        field syntax
              links_to syntax . identity ;

        field edit_criteria
              datatype boolean ;

        field minimum_samples
              datatype integer
              default  1
              lower_limit 0
              upper_limit 999 ;

        field maximum_samples
              datatype integer
              default  0
              lower_limit 0
              upper_limit 999 ;

        field automatic_select
              datatype boolean ;

        field edit_list
              datatype boolean
              true_word  'Yes'
              false_word 'No'
              default    'Yes' ;

        field random_control
              links_to standard . identity ;

        field random_number
              datatype integer
              default  0
              lower_limit 0
              upper_limit 999 ;

        field print_on_creation
              datatype boolean ;

        field printer
              links_to printer . identity ;

        field compression
              datatype text ( 1 )
              prompt_type choose
              choose_type BATCH_COMP
              default  'L' ;

        field name                                                      {93.0}
              datatype text ( 100 )
              used_for primary_browse, name ;

        field has_attachments
              datatype boolean
              used_for has_attachments ;

        field rack_template_id
              links_to lab_rack_template . lab_rack_template_id as rack_template ;

        field rack_template_version
              links_to lab_rack_template . lab_rack_template_version as rack_template ;	  

        field automatic_select_standards
              datatype boolean ;			  

TABLE batch_tmpl_entry ;

        field identity
              links_to parent batch_tmpl_header . identity
              used_for unique_key ;

        field order_number
              datatype packed_decimal
              used_for ordering ,
                        unique_key ;

        field type
              datatype identity ;

        field repeat_count
              datatype integer ;

        field parent
              datatype integer ;

        field limit
              links_to mlp_header . identity ;

        field standard
              links_to standard . identity ;

        field component_list
              links_to comp_list_header . comp_list ;

        field section
              datatype text ( 1 ) ;
			  
TABLE batch_tmpl_standard ;

        field identity
              links_to parent batch_tmpl_header . identity
              used_for unique_key ;

        field order_number
              datatype packed_decimal
              used_for ordering ,
                        unique_key ;			  
			  
        field standard
              links_to standard . identity ;  

TABLE batch_header ;

        field identity
              datatype identity ( 20 )
              prompt_type user_defined
              library '$PROMPT_BATCH'
              routine 'prompt_batch'
              used_for unique_key ;

        field status
              datatype text ( 1 )
              prompt_type choose
              choose_type BATCH_STAT ;

        field date_created
              datatype date ;

        field creator
              links_to personnel . identity ;

        field date_completed
              datatype date ;

        field completer
              links_to personnel . identity ;

        field date_reviewed
              datatype date ;

        field reviewer
              links_to personnel . identity ;

        field date_authorised
              datatype date ;

        field authoriser
              links_to personnel . identity ;

        field authorisation_notes
              datatype text ( 255 ) ;

        field date_cancelled
              datatype date ;

        field canceller
              links_to personnel . identity ;

        field limits
              links_to mlp_header . identity ;

        field analysis
              links_to analysis . identity ;

        field description
              datatype text (255)
              used_for display_browse ;

        field batch_class
              links_to batch_tmpl_header . batch_class ;

        field template_id
              links_to batch_tmpl_header . identity ;

        field review_status
              datatype                 text (1)
              default 'F'
              prompt_type choose       choose_type LIMIT_COMP;

        field cds_project
              datatype text (12)
              prompt_type phrase
              identities
              phrase_type MCPROJECT ;

        field cds_channel_number
              datatype integer ;

        field cds_rsf_name
              datatype text (8) ;

        field cds_comments
              datatype text(60) ;

        field cds_template_name
              datatype text (8);

        field cds_analysis_name
              datatype text (14)
              prompt_type phrase
              identities
              phrase_type MCANAL ;

        field cds_method_name
              datatype text (10)
              prompt_type phrase
              identities
              phrase_type MCTEMP ;

        field cds_control_name
              datatype text (8) ;

        field cds_calibration_name
              datatype text (8) ;

        field cds_subtract_name
              datatype text (14) ;

        field cds_subtract_sample
              datatype integer ;

        field cds_sub_injection alias cds_subtract_injection
              datatype integer ;

        field cds_rvs_calib_name alias cds_rvs_calibration_name
              datatype text (8) ;

        field cds_amount_sample alias cds_amount_sample_field
              datatype text (20) ;

        field cds_instrument
              datatype text (20)
              prompt_type phrase
              identities
              phrase_type MCINST ;

        field cds_append_analysis
              datatype boolean
              true_word 'Append'
              false_word 'Overwrite'
              default 'Overwrite' ;

        field analyst
              links_to personnel . identity ;

        field instrument
              links_to instrument . identity ;

        field start_date
              datatype date ;

        field end_date
              datatype date ;

        field batch_comment
              datatype text ( 255 );
              
        field has_attachments
              datatype boolean
              used_for has_attachments ;

        field workflow_node
              default 'FBBB59FA-DCD3-482F-91C8-D03BFF3FDFA8'
              links_to workflow_node . workflow_node_guid ;

        field entity_template_id
              links_to entity_template . identity as entity_template ;

        field entity_template_version
              links_to entity_template . entity_template_version as entity_template ;

        field rack_template_id
              links_to lab_rack_template . lab_rack_template_id as rack_template ;

        field rack_template_version
              links_to lab_rack_template . lab_rack_template_version as rack_template ;

        field rack_start_position
              datatype text ( 10 ) ;

        field plate_id
              links_to plate . plate_id as plate ;

        field system_batch
              datatype boolean ;

      field has_notebook_link
              datatype boolean
              used_for has_notebook_link;

TABLE batch_entry ;

        field identity
              links_to parent batch_header . identity as batch_header
              used_for unique_key ;

        field order_number
              datatype packed_decimal
              used_for ordering ,
                       unique_key ;

        field test
              used_for display_browse
              links_to test . test_number ;

        field type
              used_for display_browse
              datatype identity ;

        field repeat_section
              datatype integer ;

        field review_status
              datatype                 text (1)
              default 'F'
              prompt_type choose       choose_type LIMIT_COMP;

        field template_entry_id
              links_to batch_tmpl_entry . identity as template_entry ;

        field template_entry_order
              links_to  batch_tmpl_entry . order_number as template_entry ;

        field position
              datatype integer
              default -1 ;

        field rack_location
              used_for display_browse
              datatype text (10) ;

        field plate_id
              links_to plate . plate_id as plate ;

        field plate_row_number
              datatype integer
              default -1 ;

        field plate_column_number
              datatype integer
              default -1 ;
			  
TABLE batch_standard ;

        field batch_id
              links_to parent batch_header . identity as batch_header
              used_for unique_key ;

        field standard_id
              links_to standard_versions . identity as standard_version
              used_for unique_key ;

        field version
              links_to standard_versions . version as standard_version ;

        field order_number
              datatype packed_decimal
              used_for ordering ;

TABLE c_batch_header

        parent_table batch_header
        tableset     default_table_set ;

TABLE c_batch_entry

        parent_table batch_entry
        tableset     default_table_set ;

table increments ;

        field major alias table
              datatype text ( 40 )
              used_for unique_key ;

        field minor alias entity
              datatype text ( 40 )
              used_for unique_key ;

        field lastval alias value
              datatype integer ;

        field caching
              datatype integer ;
       
{ Views to implement select on the non versioned tables. }
{ The select statement for the next four views should    }
{ have the same predicates for the versioned_analysis    }
{ table.                                                 }

view analysis_view alias analysis on_table versioned_analysis ;

        field identity alias identifier
              links_to versioned_analysis . identity
              used_for unique_key ;
        field analysis_version                                          {93.0}
              links_to versioned_analysis . analysis_version;
        field group_id
              links_to versioned_analysis . group_id
              used_for security_id ;
        field analysis_type
              links_to versioned_analysis . analysis_type ;
        field description
              links_to versioned_analysis . description
              used_for display_browse ;
        field insttype_id
              links_to versioned_analysis . insttype_id;
        field instcat_id
              links_to versioned_analysis . instcat_id;
        field preparation_id
              links_to versioned_analysis . preparation_id;
        field expected_time
              links_to versioned_analysis . expected_time;
        field chargecode
              links_to versioned_analysis . chargecode;
        field result_screen
              links_to versioned_analysis . result_screen;
        field modified_on
              links_to versioned_analysis . modified_on
              used_for modified_on ;
        field modified_by
              links_to versioned_analysis . modified_by
              used_for modified_by ;
        field modifiable
              links_to versioned_analysis . modifiable
              used_for modifiable ;
        field removeflag
              links_to versioned_analysis . removeflag
              used_for remove_flag ;
        field calculation
              links_to versioned_analysis . calculation;
        field replicates
              links_to versioned_analysis . replicates;
        field access_flags
              links_to versioned_analysis . access_flags;
        field comp_replicates
              links_to versioned_analysis . comp_replicates;
        field generic_analysis
              links_to versioned_analysis . generic_analysis;
        field approval_reqd
              links_to versioned_analysis . approval_reqd;
        field allow_category
              links_to versioned_analysis . allow_category;
        field approval_status
              links_to versioned_analysis . approval_status ;
        field inspection_plan
              links_to versioned_analysis . inspection_plan ;
        field sampling_plan_type
              links_to versioned_analysis . sampling_plan_type ;
        field auto_validate
              links_to versioned_analysis . auto_validate;
	field instrument_required                                         {93.0}
	      links_to versioned_analysis . instrument_required;
        field name                                                      {93.0}
              links_to versioned_analysis . name;
        field active
              links_to versioned_analysis . active
              used_for active_flag;
        field active_from
              links_to versioned_analysis . active_from
              used_for active_start_date;
        field active_to
              links_to versioned_analysis . active_to
              used_for active_end_date;
        field workflow_id
              links_to versioned_analysis . workflow_id;
        field entity_template_id
              links_to versioned_analysis . entity_template_id;

select_clause

        SELECT
                A1 . [IDENTITY]             ,
                A1 . ANALYSIS_VERSION       ,
                A1 . GROUP_ID               ,
                A1 . ANALYSIS_TYPE          ,
                A1 . DESCRIPTION            ,
                A1 . INSTTYPE_ID            ,
                A1 . INSTCAT_ID             ,
                A1 . PREPARATION_ID         ,
                A1 . EXPECTED_TIME          ,
                A1 . CHARGECODE             ,
                A1 . RESULT_SCREEN          ,
                A1 . MODIFIED_ON            ,
                A1 . MODIFIED_BY            ,
                A1 . MODIFIABLE             ,
                A1 . REMOVEFLAG             ,
                A1 . CALCULATION            ,
                A1 . REPLICATES             ,
                A1 . ACCESS_FLAGS           ,
                A1 . COMP_REPLICATES        ,
                A1 . GENERIC_ANALYSIS       ,
                A1 . APPROVAL_REQD          ,
                A1 . ALLOW_CATEGORY         ,
                A1 . APPROVAL_STATUS        ,
                A1 . INSPECTION_PLAN        ,
                A1 . SAMPLING_PLAN_TYPE     ,
                A1 . AUTO_VALIDATE          ,
                A1 . INSTRUMENT_REQUIRED    ,				/*93.0*/
                A1 . NAME                   ,				/*93.0*/
                A1 . ACTIVE                 ,
                A1 . ACTIVE_FROM            ,
                A1 . ACTIVE_TO              ,
                A1 . WORKFLOW_ID            ,
                A1 . ENTITY_TEMPLATE_ID     

        FROM
                VERSIONED_ANALYSIS A1

        WHERE
                ANALYSIS_VERSION = ( SELECT MAX ( ANALYSIS_VERSION )
                                     FROM VERSIONED_ANALYSIS A2
                                     WHERE A2.[IDENTITY] = A1.[IDENTITY]  AND
                                           A2 . APPROVAL_STATUS = 'A' AND
                                           A2 . ACTIVE          = 'T' AND
                                           A2 . REMOVEFLAG      = 'F' ) ;

view component_view alias component on_table versioned_analysis,
                                             versioned_component ;

        field analysis alias analysis_id
              links_to versioned_component . analysis
              used_for unique_key ;
        field analysis_version
              links_to versioned_component . analysis_version ;
        field name
              links_to versioned_component . name
              used_for unique_key ;
        field order_number alias component_number
              links_to versioned_component . order_number
              used_for ordering ;
        field result_type
              links_to versioned_component . result_type ;
        field units
              links_to versioned_component . units ;
        field minimum alias min
              links_to versioned_component . minimum ;
        field maximum alias max
              links_to versioned_component . maximum ;
        field true_word alias extrue
              links_to versioned_component . true_word ;
        field false_word alias exfalse
              links_to versioned_component . false_word ;
        field allowed_characters alias range
              links_to versioned_component . allowed_characters ;
        field calculation alias calculation_id
              links_to versioned_component . calculation ;
        field places
              links_to versioned_component . places ;
        field rep_control
              links_to versioned_component . rep_control ;
        field replicates
              links_to versioned_component . replicates ;
        field sig_figs_number
              links_to versioned_component . sig_figs_number ;
        field sig_figs_rounding
              links_to versioned_component . sig_figs_rounding ;
        field sig_figs_filter
              links_to versioned_component . sig_figs_filter ;
        field minimum_pql
              links_to versioned_component . minimum_pql ;
        field maximum_pql
              links_to versioned_component . maximum_pql ;
        field pql_calculation
              links_to versioned_component . pql_calculation ;
        field formula
              links_to versioned_component . formula ;
        field matrix_no
              links_to versioned_component . matrix_no ;
        field matrix_name
              links_to versioned_component . matrix_name ;
        field column_no
              links_to versioned_component . column_no ;
        field column_name
              links_to versioned_component . column_name ;
        field row_no
              links_to versioned_component . row_no ;
        field row_name
              links_to versioned_component . row_name ;
        field uncertainty_text
              links_to versioned_component . uncertainty_text ;
        field entity_criteria
              links_to versioned_component . entity_criteria ;
        field entity_full_id
              links_to versioned_component . entity_full_id ;

select_clause

        SELECT
                C . ANALYSIS,
                C . ANALYSIS_VERSION,
                C . NAME,
                C . ORDER_NUMBER,
                C . RESULT_TYPE,
                C . UNITS,
                C . MINIMUM,
                C . MAXIMUM,
                C . TRUE_WORD,
                C . FALSE_WORD,
                C . ALLOWED_CHARACTERS,
                C . CALCULATION,
                C . PLACES,
                C . REP_CONTROL,
                C . REPLICATES,
                C . SIG_FIGS_NUMBER,
                C . SIG_FIGS_ROUNDING,
                C . SIG_FIGS_FILTER,
                C . MINIMUM_PQL,
                C . MAXIMUM_PQL,
                C . PQL_CALCULATION,
                C . FORMULA,
                C . MATRIX_NO,
                C . MATRIX_NAME,
                C . COLUMN_NO,
                C . COLUMN_NAME,
                C . ROW_NO,
                C . ROW_NAME,
                C . UNCERTAINTY_TEXT,
                C . ENTITY_CRITERIA,
                C . ENTITY_FULL_ID

        FROM
                VERSIONED_COMPONENT C

        WHERE
                ANALYSIS_VERSION = ( SELECT MAX ( ANALYSIS_VERSION )
                                     FROM VERSIONED_ANALYSIS A2
                                     WHERE A2 . [IDENTITY] = C . ANALYSIS  AND
                                           A2 . APPROVAL_STATUS = 'A' AND
                                           A2 . ACTIVE          = 'T' AND
                                           A2 . REMOVEFLAG      = 'F' ) ;

view complist_header_view alias comp_list_header
      on_table versioned_analysis, versioned_c_l_header ;

        field analysis
              links_to versioned_c_l_header . analysis
              used_for unique_key ;
        field analysis_version
              links_to versioned_c_l_header . analysis_version ;
        field comp_list
              links_to versioned_c_l_header . comp_list
              used_for unique_key ;
        field description
              links_to versioned_c_l_header . description
              used_for display_browse ;
        field group_id
              links_to versioned_c_l_header . group_id
              used_for security_id ;

select_clause

        SELECT
                CLH . ANALYSIS,
                CLH . ANALYSIS_VERSION,
                CLH . COMP_LIST,
                CLH . DESCRIPTION,
                CLH . GROUP_ID

        FROM
                VERSIONED_C_L_HEADER CLH

        WHERE
                ANALYSIS_VERSION = ( SELECT MAX ( ANALYSIS_VERSION )
                                     FROM VERSIONED_ANALYSIS A2
                                     WHERE A2 . [IDENTITY] = CLH . ANALYSIS  AND
                                           A2 . APPROVAL_STATUS = 'A' AND
                                           A2 . ACTIVE          = 'T' AND
                                           A2 . REMOVEFLAG      = 'F' ) ;

view complist_entry_view alias comp_list_entry
     on_table versioned_analysis, versioned_c_l_entry ;

        field analysis
              links_to versioned_c_l_entry . analysis
              used_for unique_key ;
        field analysis_version
              links_to versioned_c_l_entry . analysis_version ;
        field comp_list
              links_to versioned_c_l_entry . comp_list
              used_for unique_key ;
        field name
              links_to versioned_c_l_entry . name
              used_for unique_key ;
        field order_number
              links_to versioned_c_l_entry . order_number
              used_for ordering ;
        field default_value
              links_to versioned_c_l_entry . default_value ;
        field replicate_count
              links_to versioned_c_l_entry . replicate_count ;
        field result_entry
              links_to versioned_c_l_entry . result_entry ;
        field create_always
              links_to versioned_c_l_entry . create_always ;
        field spike_value
              links_to versioned_c_l_entry . spike_value ;
        field surrogate_mlp
              links_to versioned_c_l_entry . surrogate_mlp ;

select_clause

        SELECT
                CLE . ANALYSIS ,
                CLE . ANALYSIS_VERSION ,
                CLE . COMP_LIST ,
                CLE . NAME ,
                CLE . ORDER_NUMBER ,
                CLE . DEFAULT_VALUE ,
                CLE . REPLICATE_COUNT,
                CLE . RESULT_ENTRY,
                CLE . CREATE_ALWAYS,
                CLE . SPIKE_VALUE,
                CLE . SURROGATE_MLP

        FROM
                VERSIONED_C_L_ENTRY CLE

        WHERE
                ANALYSIS_VERSION = ( SELECT MAX ( ANALYSIS_VERSION )
                                     FROM VERSIONED_ANALYSIS A2
                                     WHERE A2 . [IDENTITY] = CLE . ANALYSIS  AND
                                           A2 . APPROVAL_STATUS = 'A' AND
                                           A2 . ACTIVE          = 'T' AND
                                           A2 . REMOVEFLAG      = 'F' ) ;

table blob_values ;

        field blob_id
              datatype packed_decimal
              used_for unique_key ;
        field is_binary
              datatype boolean;
        field table_name
              datatype identity ( 40 ) ;
        field field_name
              datatype identity ( 40 ) ;
        field stored_file_name
              datatype text (1024);
        field blob_field
              datatype blob ;

table archive_job_header
        parent_table job_header
        tableset archive_table_set;

table archive_sample
        prompt_description 'STRUCTURE_SAMPLE'
        noindex
        parent_table sample
        tableset archive_table_set;

index arc_sample_id_text_index unique on id_text ;

index arc_sample_job_name_index on job_name ;

index arc_sample_status_index unique on id_numeric , status ;

table archive_s_formulation
        noindex
        parent_table sample_formulation
        tableset archive_table_set;

table archive_test
        noindex
        parent_table test
        tableset archive_table_set;

index arc_test_i unique on test_number
        rdb_location 'HASH_STORAGE_AREA'
        rdb_specific 'TYPE IS HASHED' ;

index arc_samp_anal_index on sample , analysis ;

index arc_test_analysis_index on analysis ;

table archive_result
        parent_table result
        tableset archive_table_set;

table archive_audit_trans
        parent_table audit_transaction
        tableset archive_table_set;

table archive_audit_event
        parent_table audit_event
        tableset archive_table_set;

index arc_audit_table_no_index on table_name , record_key0;

table archive_audit_data
        parent_table audit_data
        tableset archive_table_set;

index arc_audit_field_index on field;

view archive_audit_values
        parent_table audit_values
        tableset archive_table_set;

view archive_audit_view
        parent_table audit_view
        tableset archive_table_set;

select_clause

        select
                e . event,
                e . [transaction],
                e . record_key0,
                e . record_name,
                e . table_name,
                e . event_action,
                e . event_reason,
                t . transaction_date,
                t . user_id,
                t . transaction_name
        from
                archive_audit_event e,
                archive_audit_trans t
        where
                e . [transaction] = t . [transaction] ;

TABLE archive_batch_header
        parent_table batch_header
        tableset     archive_table_set ;

TABLE archive_batch_entry
        parent_table batch_entry
        tableset     archive_table_set ;

table archive_workflow_journal
        parent_table workflow_journal
        tableset archive_table_set;

table list_result_format ;

        field identity                                                  {93.0}
              datatype identity
              used_for unique_key, display_browse ( 1 );
        field group_id alias group
              used_for security_id
              links_to group_header . identity;
        field description                                               {93.0}
              datatype text ( 234 )
              used_for display_browse ( 2 );
        field modified_on datatype date
              used_for modified_on;
        field modified_by links_to personnel.identity
              used_for modified_by;
        field modifiable datatype boolean
              used_for modifiable;
        field removeflag datatype boolean
              used_for remove_flag;
        field form_title
              datatype text ( 234 ) ;
        field replicate_title
              datatype text ( 234 ) ;
        field value_title
              datatype text ( 234 ) ;
        field max_replicates
              datatype integer
              lower_limit 0 ;
        field library
              links_to report . identity ;
        field callback_routine
              datatype identity ( 50 )
              prompt_type user_defined
              library '$PROMPT_ROUTINE'
              routine 'prompt_routine';
        field name                                                      {93.0}
              datatype text ( 100 )
              used_for primary_browse, name ;
        field has_attachments
              datatype boolean
              used_for has_attachments ;

table list_result ;

        field test_number
              links_to result . test_number
              used_for unique_key;
        field name alias component_name
              links_to result . name
              used_for unique_key;
        field replicate_number
              datatype packed_decimal
              used_for unique_key;
        field result_value
              datatype real;
        field result_string
              datatype text (234);

table standard_concentration ;

        field identity                                                  {93.0}
              links_to parent standard_versions . identity as standard_version
              used_for unique_key ;
        field version                                                   {93.0}
              links_to parent standard_versions . version as standard_version
              used_for unique_key ;
        field name  datatype text ( 40 )                                {93.0}
              case_sensitive
              used_for unique_key ;
        field order_number
              datatype packed_decimal
              used_for ordering ;
        field amount
              datatype real
              lower_limit 0.0 ;
        field units                                                     {93.0}
              links_to unit_header.identity;

table inspection_header ;

        field identity alias identifier                                 {93.0}
              datatype identity
              used_for unique_key, display_browse (1);
        field group_id alias group
              links_to group_header.identity
              used_for security_id ;
        field description                                               {93.0}
              datatype text ( 234 )
              used_for display_browse (2);
        field modified_on
              datatype date
              used_for modified_on ;
        field modified_by
              links_to personnel.identity
              used_for modified_by ;
        field modifiable
              datatype boolean
              used_for modifiable ;
        field removeflag
              datatype boolean
              used_for remove_flag ;
        field inspection_type
              datatype identity
              default 'ROUND'
              prompt_type choose
              choose_type INSP_TYPE;
        field name                                                      {93.0}
              datatype text ( 100 )
              used_for primary_browse, name ;
        field has_attachments
              datatype boolean
              used_for has_attachments ;

table inspection_record ;

        field inspection_identity
              links_to parent inspection_header.identity
              used_for unique_key;
        field order_num
              datatype packed_decimal
              used_for unique_key, ordering;
        field inspection_user_type
              datatype identity
              default 'USER'
              prompt_type choose
              choose_type INSP_USER;
        field personnel_id
              links_to personnel.identity;
        field role_id
              links_to role_header.identity;
        field inspection_text
              datatype text ( 234 );

table inspector ;

        field table_name                                                {93.0}
              datatype text ( 30 )
              used_for unique_key ;
        field record_key0
              datatype text ( 50 )
              used_for unique_key ;
        field version
              datatype packed_decimal
              used_for unique_key ;
        field order_num
              datatype packed_decimal
              used_for unique_key, 
              ordering;
        field inspection_user_type
              links_to inspection_record.inspection_user_type ;
        field personnel_id
              links_to personnel.identity;
        field role_id
              links_to role_header.identity;
        field inspection_identity
              links_to inspection_header.identity ;
        field status
              datatype text ( 1 ) ;
        field inspection_text
              datatype text ( 234 ) ;
        field old_status
              datatype text ( 1 ) ;
	field modified_on
              datatype date
              used_for modified_on ;
        field modified_by
              links_to personnel.identity
              used_for modified_by ;
        field approval_user									{93.0}
              links_to personnel . identity ;
        field approval_date
              datatype date ;
        field actual_user
              links_to personnel . identity ;
        field inspection_presenter
              links_to personnel . identity ;
        field inspection_reason
              datatype text ( 234 );

view sample_inspect_view on_table sample, inspector, role_assignment ;

        field id_numeric                                                {93.0}
              links_to sample.id_numeric
              descending
              used_for unique_key , primary_browse;
        field id_text
              links_to sample.id_text
              used_for display_browse ( 1 );
        field status
              links_to sample.status;
        field audits_reviewed
              links_to sample.audits_reviewed;                          {137.0}
        field version
              links_to inspector . version
              used_for unique_key;
        field order_num
              links_to inspector . order_num
              used_for unique_key;
        field inspection_user_type
              links_to inspection_record.inspection_user_type ;
        field personnel_id alias inspector_personnel_id                 {93.0}
              links_to personnel.identity
              used_for unique_key, display_browse ( 2 );
        field role_id                                                   {93.0}
              links_to role_header.identity
              used_for unique_key, display_browse ( 3 );
        field inspection_identity
              links_to inspection_header.identity ;
        field inspection_status
              links_to inspector . status;
        field inspection_text
              links_to inspector . inspection_text;
        field inspection_presenter
              links_to inspector . inspection_presenter;
        field inspection_reason
              links_to inspector . inspection_reason
              used_for display_browse ( 4 );
        field role_personnel_id
              links_to personnel.identity
              used_for unique_key;
        field role_group_id
              links_to group_header.identity
              used_for unique_key;

select_clause

        SELECT
                S . ID_NUMERIC,
                S . ID_TEXT,
                S . STATUS,
                I . VERSION,
                I . ORDER_NUM,
                I . INSPECTION_USER_TYPE,
                I . PERSONNEL_ID,
                I . ROLE_ID,
                I . INSPECTION_IDENTITY,
                I . STATUS,
                I . INSPECTION_TEXT,
                I . INSPECTION_PRESENTER,
                I . INSPECTION_REASON,
                R . OPERATOR_ID,
                R . GROUP_ID

        FROM
                SAMPLE S,
                INSPECTOR I
                LEFT OUTER JOIN ROLE_ASSIGNMENT R ON R.ROLE_ID = I.ROLE_ID 

        WHERE
                I . RECORD_KEY0 = S . ID_NUMERIC AND
                I . TABLE_NAME  ='SAMPLE' ;


view test_inspect_view on_table test, inspector, role_assignment ;

        field test_number
              links_to test.test_number
              used_for unique_key, primary_browse;
        field status
              links_to test . status ;
        field version
              links_to inspector . version ;
        field inspection_user_type
              links_to inspection_record.inspection_user_type ;
        field personnel_id
              links_to personnel.identity;
        field role_id
              links_to role_header.identity;
        field inspection_status
              links_to inspector . status;
        field inspection_text
              links_to inspector . inspection_text
              used_for display_browse ( 1 );
        field role_personnel_id
              links_to personnel.identity;

select_clause

        SELECT

                T . TEST_NUMBER,
                T . STATUS,
                I . VERSION,
                I . INSPECTION_USER_TYPE,
                I . PERSONNEL_ID,
                I . ROLE_ID,
                I . STATUS,
                I . INSPECTION_TEXT,
                R . OPERATOR_ID

        FROM
                TEST T,
                INSPECTOR I
                LEFT OUTER JOIN ROLE_ASSIGNMENT R ON R.ROLE_ID = I.ROLE_ID 

        WHERE
                I . RECORD_KEY0 = T . TEST_NUMBER AND
                I . TABLE_NAME  = 'TEST' ;

view job_inspect_view on_table job_header, inspector, role_assignment ;

        field job_name
              links_to job_header . job_name
              used_for unique_key, primary_browse;
        field status
              links_to job_header . job_status ;
        field version
              links_to inspector . version ;
        field inspection_user_type
              links_to inspection_record.inspection_user_type ;
        field personnel_id
              links_to personnel.identity;
        field role_id
              links_to role_header.identity;
        field inspection_status
              links_to inspector . status;
        field inspection_text
              links_to inspector . inspection_text
              used_for display_browse ( 1 );
        field role_personnel_id
              links_to personnel.identity;

select_clause

        SELECT

                J . JOB_NAME,
                J . JOB_STATUS,
                I . VERSION,
                I . INSPECTION_USER_TYPE,
                I . PERSONNEL_ID,
                I . ROLE_ID,
                I . STATUS,
                I . INSPECTION_TEXT,
                R . OPERATOR_ID

        FROM
                JOB_HEADER J,
                INSPECTOR I
                LEFT OUTER JOIN ROLE_ASSIGNMENT R ON R.ROLE_ID = I.ROLE_ID 

        WHERE
                I . RECORD_KEY0 = J . JOB_NAME AND
                I . TABLE_NAME  = 'JOB_HEADER' ;

{ Ad-Hoc reporter templates tables }

table report_tmpl_header ;

        field template_id
              datatype identity ( 20 )
              used_for primary_browse
              used_for unique_key;
        field template_type
              datatype identity
              used_for display_browse ( 1 ) ;
        field description
              used_for display_browse ( 2 )
              datatype text ( 234 );
        field group_id
              used_for security_id
              links_to group_header . identity ;
        field initialised
              datatype boolean ;
        field modified_on
              datatype date
              used_for modified_on;
        field modified_by
              links_to personnel . identity
              used_for modified_by;
        field modifiable
              datatype boolean
              used_for modifiable;

table report_tmpl_doc_header ;

        field template_id
              links_to report_tmpl_header . template_id
              used_for unique_key;
        field font_record
              links_to report_tmpl_font . font_number ;
        field tab_record
              links_to report_tmpl_tabs . tab_number ;
        field none
              datatype boolean ;
        field head_foot_border
              datatype boolean ;
        field box
              datatype boolean ;


table report_tmpl_doc_footer ;

        field template_id
              links_to report_tmpl_header . template_id
              used_for unique_key;
        field font_record
              links_to report_tmpl_font . font_number ;
        field tab_record
              links_to report_tmpl_tabs . tab_number ;
        field none
              datatype boolean ;
        field head_foot_border
              datatype boolean ;
        field box
              datatype boolean ;


table report_tmpl_adv_opts ;

        field template_id
              links_to report_tmpl_header . template_id
              used_for unique_key;
        field server_template
              datatype boolean ;
        field appl_template
              datatype boolean ;
        field template_name
              datatype text (234) ;
        field server_tmpl_name
              datatype text (234) ;
        field run_macro
              datatype boolean ;
        field macro_name
              datatype text (234)
              prompt_type phrase
                noidentities
              phrase_type macro_name ;
        field ss_macro_name
              datatype text (234)
              prompt_type phrase
                noidentities
              phrase_type ss_macro ;
        field doc_to_use
              datatype text (234) ;
        field ss_doc_sheet
              datatype text (2)
              default '1'
              allowed_characters '0..9' ;
        field insert_at_top
              datatype boolean ;
        field insert_at_bottom
              datatype boolean ;
        field insert_at_bookmark
              datatype boolean ;
        field bookmark_name
              datatype text (234)
              prompt_type phrase
                noidentities
              phrase_type bookmark ;


table report_tmpl_layout ;

        field link_number
              datatype packed_decimal
              used_for unique_key;
        field template_id
              links_to report_tmpl_header . template_id ;
        field order_number
              datatype packed_decimal
              used_for ordering ;
        field block_type
              datatype text ( 20 ) ;
        field rec_key0
              datatype packed_decimal ;

table report_tmpl_data_block ;

        field data_block_number
              datatype packed_decimal
              used_for unique_key;
        field template_id
              links_to report_tmpl_header . template_id ;
        field order_number
              datatype packed_decimal
              used_for ordering ;
        field in_border_single
              datatype boolean ;
        field in_border_double
              datatype boolean ;
        field in_border_none
              datatype boolean ;
        field out_border_single
              datatype boolean ;
        field out_border_double
              datatype boolean ;
        field out_border_none
              datatype boolean ;
        field col_widths_auto
              datatype boolean ;
        field col_widths_wrap
              datatype boolean ;
        field col_widths_man
              datatype boolean ;
        field units
              datatype boolean
              true_word 'In'
              false_word 'Cm' ;
        field col_widths_val
              datatype real ;
        field tab_separated
              datatype boolean ;
        field comma_separated
              datatype boolean ;
        field user_separator
              datatype boolean ;
        field separator_value
              datatype text ( 5 ) ;
        field outline
              datatype boolean ;
        field left_border
              datatype boolean ;
        field right_border
              datatype boolean ;
        field top_border
              datatype boolean ;
        field bottom_border
              datatype boolean ;
        field insert_col
              default 'A'
              datatype text (2)
              allowed_characters 'a..zA..Z' ;
        field insert_row
              datatype text (3)
              default '0'
              allowed_characters '0..9' ;
        field font_record
              links_to report_tmpl_font . font_number ;

table report_tmpl_text_block ;

        field data_block_number
              datatype packed_decimal
              used_for unique_key;
        field template_id
              links_to report_tmpl_header . template_id ;
        field order_number
              datatype packed_decimal
              used_for ordering ;
        field insert_col
              default 'A'
              datatype text (2)
              allowed_characters 'a..zA..Z' ;
        field insert_row
              datatype text (3)
              default '0'
              allowed_characters '0..9' ;
        field box_height
              datatype real
              format 9999.99
              default 300.00 ;
        field box_width
              datatype real
              format 9999.99
              default 500.00 ;
        field font_record
              links_to report_tmpl_font . font_number ;
        field tab_record
              links_to report_tmpl_tabs . tab_number ;

table report_tmpl_graph_block ;

        field data_block_number
              datatype packed_decimal
              used_for unique_key;
        field template_id
              links_to report_tmpl_header . template_id ;
        field order_number
              datatype packed_decimal
              used_for ordering ;
        field graph_style
              datatype text (40)
              prompt_type phrase
                noidentities
                valid
              phrase_type graphstyle ;
        field x_axis_field
              datatype text ( 40 ) ;
        field x_axis_text
              datatype text ( 40 ) ;
        field y_axis_field
              datatype text ( 40 ) ;
        field y_axis_text
              datatype text ( 40 ) ;
        field insert_col
              default 'A'
              datatype text (2)
              allowed_characters 'a..zA..Z' ;
        field insert_row
              datatype text (3)
              default '0'
              allowed_characters '0..9' ;
        field chart_height
              datatype real
              format 9999.99
              default 100 ;
        field chart_width
              datatype real
              format 9999.99
              default 200 ;
        field title
              datatype text (40) ;

table report_tmpl_font ;

        field font_number
              datatype packed_decimal
              used_for unique_key;
        field template_id
              links_to report_tmpl_header . template_id ;
        field order_number
              datatype packed_decimal
              used_for ordering ;
        field font
              datatype text (40)
              default 'Times New Roman'
              prompt_type phrase
                noidentities
                valid
              phrase_type tmpl_fonts;
        field font_size
              datatype integer
              format 99
              default 10
              lower_limit 1 ;
        field bold
              datatype boolean ;
        field underlined
              datatype boolean ;
        field italics
              datatype boolean ;
        field left
              datatype boolean ;
        field right
              datatype boolean ;
        field centre
              datatype boolean ;
        field fill
              datatype boolean ;

table report_tmpl_tabs ;

        field tab_number
              datatype packed_decimal
              used_for ordering
              used_for unique_key;
        field template_id
              links_to report_tmpl_header . template_id ;
        field align_left
              datatype boolean ;
        field align_right
              datatype boolean ;
        field align_centre
              datatype boolean ;
        field align_dec
              datatype boolean ;
        field align_bar
              datatype boolean ;
        field leader_none
              datatype boolean ;
        field leader_full_stop
              datatype boolean ;
        field leader_hyphen
              datatype boolean ;
        field leader_underscore
              datatype boolean ;
        field tab_stops
              datatype text ( 40 )
              allowed_characters '0..9,.' ;
        field units
              datatype boolean
              true_word 'In'
              false_word 'Cm' ;

view inspect_history_view on_table sample,inspector ;

        field id_numeric                                                {93.0}
              links_to sample.id_numeric
              descending
              used_for unique_key, primary_browse;
        field id_text
              links_to sample.id_text
              used_for display_browse ( 1 ) ;
        field status
              links_to sample.status
              used_for display_browse ( 2 );
        field login_date
              links_to sample.login_date
              used_for display_browse ( 3 );

select_clause

        SELECT DISTINCT
                S . ID_NUMERIC,
                S . ID_TEXT,
                S . STATUS,
                S . LOGIN_DATE

        FROM
                SAMPLE S,
                INSPECTOR I

        WHERE
                I . RECORD_KEY0 = S . ID_NUMERIC AND
                I . TABLE_NAME  ='SAMPLE' ;

TABLE BATCH_SQC_HEADER;

   field identity
            alias               identifier
            datatype            identity (20)
            used_for            unique_key,primary_browse;

   field group_id
            alias               group
            links_to            group_header.identity
            used_for            security_id;

   field description
            datatype            text (255)
            used_for            display_browse (1);

   field modified_on
            datatype            date
            used_for            modified_on;

   field modified_by
            links_to            personnel.identity
            used_for            modified_by;

   field modifiable
            datatype            boolean
            used_for            modifiable;

   field removeflag
            datatype            boolean
            used_for            remove_flag;

   field analysis
            links_to            analysis . identity ;

   field component
            links_to            component . name ;

   field component_2
            links_to            component . name ;

   field standard
            datatype            identity
            prompt_type         phrase
            phrase_type         SQC_STAN ;

   field instrument
            links_to            instrument . identity ;

   field points
            datatype            integer
            default             '20'
            lower_limit         '0'     ;


TABLE BATCH_TMPL_SQC;

   field identity                                                       {93.0}
            links_to            parent batch_tmpl_header . identity
            used_for            unique_key ;

   field chart                                                          {93.0}
            links_to            parent batch_sqc_header . identity
            used_for            unique_key ;

   field order_number
            datatype            packed_decimal
            used_for            ordering;

VIEW BATCH_SQC_ACTIVE_VIEW
{ Batch SQC on Active Batch and Active Data }

ON_TABLE BATCH_HEADER,BATCH_ENTRY,SAMPLE,TEST,RESULT ;

   field batch_header
            links_to            batch_header . identity
            used_for		unique_key, primary_browse;

   field batch_template
            links_to            batch_header . template_id
            used_for		display_browse;

   field analysis
            links_to            test . analysis
            used_for		display_browse;

   field instrument
            links_to            test . instrument
            used_for		display_browse;

   field product
            links_to            sample . product
            used_for		display_browse;

   field product_version
            links_to            sample . product_version
            used_for		display_browse;

   field standard
            links_to            sample . standard_type ;

   field id_numeric
            links_to            sample . id_numeric
            used_for		unique_key ;

   field id_text
            links_to            sample . id_text ;

   field test_number
            links_to            test . test_number
            used_for		unique_key ;

   field name
            links_to            result . name
            used_for		unique_key ;

   field text
            links_to            result . text ;

   field units
            links_to            result . units ;

   field entered_on
            links_to            result . entered_on ;

   field surrogate_mlp
            links_to            result . surrogate_mlp ;

   field surrogate_mlp_version
            links_to            result . surrogate_mlp_version ;

SELECT_CLAUSE

SELECT
   h . [identity]            ,
   h . template_id           ,
   t . analysis              ,
   t . instrument            ,
   s . product               ,
   s . product_version       ,
   s . standard_type         ,
   s . id_numeric            ,
   s . id_text               ,
   r . test_number           ,
   r . name                  ,
   r . text                  ,
   r . units                 ,
   r . entered_on            ,
   r . surrogate_mlp         ,
   r . surrogate_mlp_version
FROM
  batch_header h ,
  batch_entry  e ,
  test         t ,
  sample       s ,
  result       r
WHERE
  ( h . status      <> 'X'            ) AND
  ( e . [identity]  = h . [identity]  ) AND
  ( t . test_number = e . test        ) AND
  ( s . id_numeric  = t . sample      ) AND
  ( r . test_number = e . test        ) AND
  ( r . status IN ( 'A' , 'E' , 'M' ) ) ;


VIEW BATCH_SQC_COMMITTED_VIEW
{ Batch SQC on Commeitted Batch and Active Data }

ON_TABLE C_BATCH_HEADER,C_BATCH_ENTRY,C_SAMPLE,C_TEST,C_RESULT ;

   field batch_header
            links_to            batch_header . identity
            used_for		unique_key;

   field batch_template
            links_to            batch_header . template_id
            used_for		display_browse;

   field analysis
            links_to            test . analysis
            used_for		display_browse;

   field instrument
            links_to            test . instrument
            used_for		display_browse;

   field product
            links_to            sample . product
            used_for		display_browse;

   field product_version
            links_to            sample . product_version
            used_for		display_browse;

   field standard
            links_to            sample . standard_type ;

   field id_numeric
            links_to            sample . id_numeric 
            used_for		unique_key ;

   field id_text
            links_to            sample . id_text ;

   field test_number
            links_to            test . test_number 
            used_for		unique_key ;

   field name
            links_to            result . name 
            used_for		unique_key ;

   field text
            links_to            result . text ;

   field units
            links_to            result . units ;

   field entered_on
            links_to            result . entered_on ;

   field surrogate_mlp
            links_to            result . surrogate_mlp ;

   field surrogate_mlp_version
            links_to            result . surrogate_mlp_version ;

SELECT_CLAUSE

SELECT
   h . [identity]            ,
   h . template_id           ,
   t . analysis              ,
   t . instrument            ,
   s . product               ,
   s . product_version       ,
   s . standard_type         ,
   s . id_numeric            ,
   s . id_text               ,
   r . test_number           ,
   r . name                  ,
   r . text                  ,
   r . units                 ,
   r . entered_on            ,
   r . surrogate_mlp         ,
   r . surrogate_mlp_version
FROM
  c_batch_header h ,
  c_batch_entry  e ,
  c_test         t ,
  c_sample       s ,
  c_result       r
WHERE
  ( h . status      <> 'X'            ) AND
  ( e . [identity]  = h . [identity]  ) AND
  ( t . test_number = e . test        ) AND
  ( s . id_numeric  = t . sample      ) AND
  ( r . test_number = e . test        ) AND
  ( r . status IN ( 'A' , 'E' , 'M' )) ;


TABLE TIMER_SCHEDULE;

        field identity
              datatype            identity
              used_for            unique_key,primary_browse;

        field group_id
              links_to            group_header.identity
              used_for            security_id;

        field description
              datatype            text (255)
              used_for            display_browse;

        field library
              links_to            report . identity ;

        field routine
              datatype            text (50)
              prompt_type         user_defined
              library             '$PROMPT_ROUTINE'
              routine             'prompt_routine';

        field modified_on
              datatype            date
              used_for            modified_on;

        field modified_by
              links_to            personnel.identity
              used_for            modified_by;

        field modifiable
              datatype            boolean
              used_for            modifiable;

        field removeflag
              datatype            boolean
              used_for            remove_flag;



table cgi_script ;

    field identity                                                      {93.0}
                datatype identity (20)
                used_for unique_key, display_browse ( 1 );
    field description datatype text(234)                                {93.0}
                used_for display_browse ( 2 );
    field report
                links_to report.identity ;
    field routine
                datatype text (50)
                PROMPT_TYPE user_defined
                LIBRARY '$PROMPT_ROUTINE'
                ROUTINE 'prompt_routine';
    field modified_on
                datatype date
                used_for modified_on ;
    field modified_by
                links_to personnel.identity
                used_for modified_by ;
    field modifiable
                datatype boolean
                used_for modifiable ;
    field removeflag
                datatype boolean
                used_for remove_flag ;
    field security_level
                datatype integer
                lower_limit 0
                upper_limit 10 ;
    field security_area
                datatype text (20)
                allowed_characters '0..9a..zA..Z-_' ;
    field name                                                          {93.0}
                datatype text ( 100 )
                used_for primary_browse, name;
    field has_attachments
                datatype boolean
                used_for has_attachments ;

table client_access ;

        field ip_address                                                {93.0}
              datatype text ( 39 )
              used_for unique_key ;

        field access_mode
                datatype boolean
                true_word 'Enabled'
                false_word 'Disabled' ;

        field max_sessions
                datatype integer
                format 9999
                default 1
                lower_limit 1
                upper_limit 9999;

table obsolete_esig_menu_level rename_table esig_menu_level;

        field menu_number
                used_for unique_key
                links_to master_menu . procedure_num ;

        field esig_level
                datatype identity
                prompt_type phrase
                identities
                phrase_type ESIG_LEVEL ;

        field esig_reason
                datatype text ( 80 ) ;

view esig_menu_level_view alias esig_menu_level on_table master_menu ;

        field menu_number
            links_to master_menu . procedure_num
            used_for unique_key ;
        field esig_level
            links_to master_menu . esig_level ;
        field esig_reason
            links_to master_menu . esig_reason ;

select_clause
      SELECT
		master_menu . procedure_num ,
		master_menu . esig_level    ,
		master_menu . esig_reason
      FROM
		master_menu ;


table access_log
      noindex
      oracle_location 'ACTIVE_MISC'
      ; {61.0}

field session_id
        datatype packed_decimal
        used_for unique_key ;
field operator
        links_to personnel . identity
        used_for display_browse ( 1 ) ;
field ip_address                                                        {93.0}
        datatype text (39) ; {IPv6 addresses are eight groups of four hexadecimal digits, separated by a colon}
field server_pid
        datatype text ( 10 ) ;
field server_os_username
        datatype text ( 20 ) ;
field server_name
        datatype text ( 15 ) ;
field server_date
        datatype date ;
field server_date_text
        datatype text ( 23 ) ;
field server_timezone
        datatype text ( 80 ) ;
field server_timezone_dls
        datatype boolean ;
field client_os_username
        datatype text ( 20 ) ;
field client_name
        datatype text ( 15 ) ;
field client_date
        datatype text ( 23 ) ;
field client_timezone
        datatype text ( 80 ) ;
field client_timezone_dls
        datatype boolean ;
field login_type
	datatype identity
	prompt_type choose
	choose_type LOGIN_TYPE
	default '0' ;
field action
        datatype text ( 234) ;
field result
        datatype boolean
        true_word 'Success'
        false_word 'Failed' ;
field logout_date
        datatype date ;					{62.0}


index access_log_i unique on session_id      
      oracle_location 'ACTIVE_MISC_I'
      ;
{/62.0}

table lims_table ;

        field table_name
                datatype identity (40)
                used_for unique_key, primary_browse;
        field group_field
                datatype identity (20);
        field table_set
                datatype text (234);
        field parent_table
                datatype text (20);

table messaging ;

        field message_number
              datatype packed_decimal
              used_for unique_key ;
        field read
              datatype boolean ;
        field from_operator_id alias from
              links_to personnel . identity 
              used_for primary_browse ;
        field date_sent
              datatype date ;
        field category
              datatype identity
              prompt_type choose
              choose_type MSG_CATGRY 
              used_for display_browse ( 2 );
        field subject
              datatype text ( 100 )
              used_for display_browse ( 3 );
        field message_text
              datatype text ( 2000 )
              used_for display_browse ( 4 );
        field operator_id alias to
              links_to personnel . identity
              used_for display_browse ;
        field date_read
              datatype date ;
        field removeflag
              datatype boolean
              used_for remove_flag ;
	  field removed_by_sender
		  datatype boolean ;
	  field deleted_by_recipient
		  datatype boolean ;
	  field deleted_by_sender
		  datatype boolean ;		
        field rich_text_blob_id
              links_to blob_values . blob_id ;
        field notified_or_n_a
              datatype boolean ;
	  field priority
		  datatype identity (10)
		  prompt_type choose
		  choose_type MESSG_PRI 
		  default '2' ;
	  field recipients_list
		  datatype text ( 2000 ) ;
	  field message_group_guid
		  datatype text ( 36 ) ;
	  field expiry_date
	      datatype date
		  default '0' ;

index messaging_operator_id on operator_id, read, removeflag ;

table rule ;

        field identity                                                  {93.0}
                datatype identity ( 20 )
                used_for unique_key, display_browse (1);

        field modified_on
                datatype date
                used_for modified_on;

        field modified_by
                links_to personnel.identity
                used_for modified_by;

        field group_id
                used_for security_id
                links_to group_header.identity;

        field removeflag
                datatype boolean
                used_for remove_flag;

        field modifiable
                datatype boolean
                used_for modifiable ;

        field description                                               {93.0}
                datatype text ( 234 )
                used_for display_browse (2);

        field probation_number
                datatype integer
                lower_limit 0 ;

        field probation_period
                datatype interval
                lower_limit '0 00:00:00.00';
                
        field frequency
                datatype integer
                lower_limit 0 ;

        field interval
                datatype interval
                lower_limit '0 00:00:00.00';

        field VGL_routine
                datatype text ( 50 )
                prompt_type user_defined
                library '$PROMPT_ROUTINE'
                routine 'prompt_routine';

        field VGL_library
                links_to report . identity ;

        field name                                                      {93.0}
                datatype text ( 100 )
                used_for primary_browse, name ;

table rule_count ;

        field rule_id                                                   {93.0}
                links_to parent rule . identity as rules
                used_for unique_key ;

        field counter_id
                datatype text ( 40 )
                used_for unique_key ;

        field usage_count
                datatype integer ;

        field fulltest_count
                datatype integer ;

        field fulltest_date
                datatype date ;

        field start_date
                datatype date ;

table sample_plan_header ;

        field identity                                                  {93.0}
                datatype text(20)
                used_for unique_key, display_browse ( 1 );

        field version
                datatype packed_decimal
                default '         1'
                used_for unique_key, version_number ;

        field modified_on
                datatype date
                used_for modified_on ;

        field modified_by
                links_to personnel . identity
                used_for modified_by ;

        field modifiable
                datatype boolean
                used_for modifiable ;

        field removeflag
                datatype boolean
                used_for remove_flag ;

        field group_id
                links_to group_header . identity
                used_for security_id ;

        field inspection_plan
              links_to inspection_header . identity ;

        field parent_identity
                links_to sample_plan_header . identity ;

        field approval_version
                links_to sample_plan_header . version ;

        field order_number
                datatype packed_decimal
                used_for ordering;

        field criteria_fields
                datatype text ( 200 )
                prompt_type user_defined
                library '$PROMPT_DB'
                routine 'job_browse' ;

        field criteria_operator
                datatype text ( 2 )
                default 'EQ'
                prompt_type choose
                choose_type SPH_OPERAT ;

        field criteria_value
                datatype text ( 234 ) ;

        field criteria_datatype
                datatype text ( 1 )
                prompt_type choose
                choose_type SPH_DATTYP
                default 'F';

        field conditional
                datatype identity
                prompt_type choose
                choose_type SPH_CONDIT
                default 'IF' ;

        field description                                               {93.0}
                datatype  text ( 234 )
                used_for display_browse ( 2 ) ;

        field status
                datatype text ( 1 )
                default 'V'
                prompt_type choose
                choose_type APPR_STAT
                used_for approval_status ;

        field activation_date
                datatype date ;

        field VGL_routine
                datatype text;

        field VGL_library
                links_to report . identity;

        field is_approval_node
                datatype boolean ;

        field column_set
                links_to column_set_header . identity ;

        field spec_set_identity
                links_to mlp_header . identity ;

        field spec_set_version
                datatype integer ;

        field name                                                      {93.0}
                datatype text ( 100 )
                used_for primary_browse, name ;

        field has_attachments
                datatype boolean
                used_for has_attachments ;

index sph_parent_identity_i on parent_identity, order_number;

table sample_plan_entry ;

        field identity
                used_for unique_key
                links_to sample_plan_header . identity ;

        field version
                used_for unique_key
                links_to sample_plan_header . version ;

        field entry_number
                datatype packed_decimal
                used_for unique_key ;

        field order_number
                datatype packed_decimal
                used_for ordering ;

        field is_analysis
                datatype boolean
                true_word 'Analysis'
                false_word 'Test Schedule'
                default 'Analysis' ;

        field analysis_id
                links_to versioned_analysis . identity ;

        field test_schedule
                links_to test_sched_header . identity ;

        field analysis_version
                datatype packed_decimal
                default '         0';  {A value of zero indicates current version}

        field descriptive_text
                datatype text ( 234 ) ;

        field instrument
                links_to instrument . identity;
                
	field instrument_type                                             {93.0}
                links_to instrument_template . identity;

        field instrument_category
                links_to instrument_category . identity;

        field component_list
                links_to versioned_c_l_header . comp_list ;

        field replicates
                datatype integer
                default 1
                lower_limit 1;

        field template_id
                links_to samp_tmpl_header . identity ;

table sample_plan_rule ;

        field identity
                used_for unique_key
                links_to sample_plan_header . identity ;

        field version
                used_for unique_key
                links_to sample_plan_header . version ;

        field rule_id
                used_for unique_key
                links_to rule . identity ;

        field order_number
                datatype packed_decimal
                used_for ordering;

table sample_plan_matrix ;

        field identity
                used_for unique_key
                links_to sample_plan_header . identity ;

        field version
                used_for unique_key
                links_to sample_plan_header . version ;

        field rule_id
                used_for unique_key
                links_to sample_plan_rule . rule_id ;

        field analysis_entry_number
                used_for unique_key
                links_to sample_plan_entry . entry_number ;

        field valid
                datatype boolean
                true_word 'Yes'
                false_word 'No'
                default 'Yes' ;


table column_set_header ;

        field identity                                                  {93.0}
                datatype identity ( 10 )
                used_for unique_key, display_browse ( 1 ) ;

        field group_id
                links_to group_header . identity
                used_for security_id ;

        field description                                               {93.0}
                datatype text ( 234 )
                used_for display_browse ( 2 ) ;

        field modified_on
                datatype date
                used_for modified_on ;

        field modified_by
                links_to personnel . identity
                used_for modified_by ;

        field modifiable
                datatype boolean
                used_for modifiable ;

        field removeflag
                datatype boolean
                used_for remove_flag ;

        field name                                                      {93.0}
                datatype text ( 100 )
                used_for primary_browse, name ;

table column_set_entry ;

        field identity                                                  {93.0}
                links_to parent column_set_header . identity as column_set
                used_for unique_key ;

        field entry_number
                datatype packed_decimal
                used_for unique_key ;

        field order_number
                datatype packed_decimal
                used_for ordering ;

        field field_type                                                {93.0}
                datatype identity
                prompt_type phrase
                valid
                identities
                phrase_type COL_SET_F ;

        field field_name
                datatype identity ( 20 ) ;

table stat_code ;

    field lower_units
        datatype integer
        used_for unique_key ;

    field stat_type
        datatype identity(1)
        allowed_characters 'AV'
        used_for unique_key ;

    field sampling_level
        datatype identity(3)
        used_for unique_key ;

    field code_letter
        datatype identity(1)
        allowed_characters 'A..S';

table stat_atrib_single ;

    field samp_plan_code
        datatype identity ( 1 )
        used_for unique_key ;

    field insp_level
        datatype identity
        used_for unique_key ;

    field aql_value
        datatype real
        used_for unique_key ;

    field use_code
        datatype identity ( 1 )
        allowed_characters 'A..S'
        default NULL ;

    field sample
        datatype integer
        default NULL ;

    field accept_number
        datatype integer
        default NULL ;


table stat_atrib_double ;

    field samp_plan_code
        datatype identity ( 1 )
        used_for unique_key ;

    field insp_level
        datatype identity
        used_for unique_key ;

    field aql_value
        datatype real
        used_for unique_key ;

    field use_code
        datatype identity ( 1 )
        allowed_characters 'A..S'
        default NULL ;

    field sample
        datatype integer
        default NULL ;

    field accept_number
        datatype integer
        default NULL ;

    field reject_number
        datatype integer
        default NULL ;

    field repeat_accept_number
        datatype integer
        default NULL ;

    field repeat_reject_number
        datatype integer
        default NULL ;

table stat_varbl_single ;

    field samp_plan_code
        datatype identity ( 1 )
        used_for unique_key ;

    field insp_level
        datatype identity
        used_for unique_key ;

    field aql_value
        datatype real
        used_for unique_key ;

    field use_code
        datatype identity ( 1 )
        allowed_characters 'A..S'
        default NULL ;

    field sample
        datatype integer
        default NULL ;

    field accept_number
        datatype real
        default NULL ;

table sampling_procedure ;

        field identity                                                  {93.0}
                datatype identity ( 10 )
                used_for unique_key, display_browse ( 1 ) ;

        field group_id
                links_to group_header . identity
                used_for security_id ;

        field description                                               {93.0}
                datatype text ( 234 )
                used_for display_browse ( 2 ) ;

        field prompt_once
                datatype boolean ;

        field replicate_number
                datatype integer
                default 1
                lower_limit 1 ;

        field procedure_routine
                datatype text;

        field replicate_routine
                datatype text;

        field VGL_library
                links_to report . identity;

        field modified_on
                datatype date
                used_for modified_on ;

        field modified_by
                links_to personnel . identity
                used_for modified_by ;

        field modifiable
                datatype boolean
                used_for modifiable ;

        field removeflag
                datatype boolean
                used_for remove_flag ;

        field name                                                      {93.0}
                datatype text ( 100 )
                used_for primary_browse, name;
        field has_attachments
                datatype boolean
                used_for has_attachments ;

table incident_template;

field template_id datatype identity                                     {93.0}
        used_for unique_key, display_browse ( 1 );

field group_id
        links_to group_header . identity
        used_for security_id ;

field initial_status datatype text (1)
        prompt_type choose
        choose_type INIT_STAT
        default 'U' ;

field incident_syntax
        links_to syntax . identity
        default 'INCIDENT' ;

field description                                                       {93.0}
        used_for display_browse ( 2 )
        datatype text ( 234 );

field subject_table datatype identity ( 40 ) ;

field modified_on datatype date
        used_for modified_on ;

field modified_by links_to personnel . identity
        used_for modified_by ;

field modifiable datatype boolean
        used_for modifiable ;

field remove_flag datatype boolean
        used_for remove_flag;

field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name ;

field has_attachments
      datatype boolean
      used_for has_attachments ;

table incidents;

field incident_id datatype text ( 30 )
        used_for unique_key, primary_browse;

field status datatype text (1)
        used_for display_browse ( 2 )
        prompt_type choose
        choose_type INC_STATUS ;

field checklist_id
        links_to incident_checklist . checklist_id;

field template_id
        links_to incident_template . template_id;

field review_inspectors
        links_to inspection_header . identity;

field authorise_inspectors
        links_to inspection_header . identity
        used_for inspection;

field review_version
        links_to inspector . version;

field authorise_version
        links_to inspector . version;

field description 
        datatype text ( 234 )
        used_for display_browse ( 3 );

field incident_date datatype date;

field reported_by
        links_to personnel . identity;

field subject_table
        links_to incident_template . subject_table;

field subject_field
        alias subject_key
        datatype text ( 234 );

field location_id
        links_to location . identity;

field remark datatype text ( 50 );

field has_attachments
        datatype boolean
        used_for has_attachments;

field workflow_node
        default '5CCEE254-14C2-43B3-A628-9CCF436F1D5B'
        links_to workflow_node . workflow_node_guid ;

field entity_template_id
        links_to entity_template . identity as entity_template ;

field entity_template_version
        links_to entity_template . entity_template_version as entity_template ;

table incident_checklist;

field checklist_id datatype identity                                    {93.0}
        used_for unique_key, display_browse ( 1 );

field description datatype text ( 234 )                                 {93.0}
        used_for display_browse ( 2 );

field group_id
        links_to group_header . identity
        used_for security_id ;

field modified_on datatype date
        used_for modified_on ;

field modified_by links_to personnel . identity
        used_for modified_by ;

field modifiable datatype boolean
        used_for modifiable ;

field remove_flag datatype boolean
        used_for remove_flag;

field name                                                              {93.0}
        datatype text ( 100 )
        used_for primary_browse, name ;

field has_attachments
        datatype boolean
        used_for has_attachments ;

table inc_checklist_actions;

field checklist_id                                                      {93.0}
        links_to parent incident_checklist . checklist_id as incident_checklist
        used_for unique_key, primary_browse;

field action_number datatype packed_decimal
        used_for unique_key, ordering;

field action_taken datatype text ( 234 );

field action_type datatype identity
        prompt_type choose
        choose_type act_res
        default 'TEXT';


table inc_checklist_results;

field incident_id
        links_to incidents . incident_id
        used_for unique_key, primary_browse;

field action_number
        links_to inc_checklist_actions . action_number
        used_for unique_key, ordering;

field checklist_id
        links_to incident_checklist . checklist_id;

field action_type datatype identity
        prompt_type choose
        choose_type act_res 
        default 'TEXT';

field action_taken
	datatype text ( 234 ) ;

field action_result
	datatype text ( 234 ) ;

field blob_file
	links_to blob_values . blob_id ;

field completion_date
	datatype date ;

field completed_by
        links_to personnel . identity ;

table icon;

field identity alias identifier                                         {93.0}
        datatype identity (30)
        used_for unique_key, display_browse ( 1 )
        prompt_type user_defined
        library '$PROMPT_ICON'
        routine 'prompt_icon';
field description                                                       {93.0}
        datatype text
        used_for display_browse ( 2 );
field icon_source
        datatype identity
        default 'RESOURCE'
        prompt_type choose
        choose_type ICONSOURCE;
field icon_number
        datatype integer
        default -1
        lower_limit -1 ;
field icon_resource
        datatype text ( 234 ) ;
field modified_on
        datatype date
        used_for modified_on ;
field modified_by
        links_to personnel.identity
        used_for modified_by;
field modifiable datatype boolean
        used_for modifiable;
field removeflag datatype boolean
        used_for remove_flag;
field group_id alias group
        links_to group_header.identity
        used_for security_id;
field name                                                              {93.0}
        datatype text ( 100 )
        used_for primary_browse, name;
field has_attachments
        datatype boolean
        used_for has_attachments ;

table explorer_cabinet;

field identity                                                          {93.0}
        datatype identity ( 30 )
        used_for unique_key, display_browse ( 1 );
field name                                                              {93.0}
        datatype text ( 100 )
        used_for primary_browse, name, translation ;
field description
        datatype text
        used_for display_browse ( 2 );
field group_id
        links_to group_header . identity
        used_for security_id;
field modified_on
        datatype date
        used_for modified_on ;
field modified_by
        links_to personnel.identity
        used_for modified_by;
field modifiable datatype boolean
        used_for modifiable;
field removeflag datatype boolean
        used_for remove_flag;
field icon_1
        links_to icon . identity
        default 'INT_CLOSED_FOLDER';
field icon_2
        links_to icon . identity
        default 'INT_OPEN_FOLDER';
field user_library
        links_to report . identity;
field creation_routine
        datatype text ( 30 );
field public_folder
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'True';
field expand
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'True';
field sort_by_name                                                      {93.0}
	datatype boolean;
field explorer_form                                                     {93.0}
	links_to form.name ;
field explorer_form_task                                                {93.0}
      	datatype text ( 100 );	
field order_number
	datatype packed_decimal
	used_for ordering 
	default '         0';

table explorer_folder;

field cabinet                                                           {93.0}
        links_to parent explorer_cabinet . identity
        used_for unique_key, display_browse ( 1 );
field folder_number alias identity                                      {93.0}
        datatype packed_decimal
        used_for unique_key;
field name                                                              {93.0}
        datatype text ( 100 )
        used_for primary_browse, name, translation;
field description
        datatype text
        used_for display_browse ( 3 );
field folder_icon_1
        links_to icon . identity
        default 'INT_CLOSED_FOLDER';
field folder_icon_2
        links_to icon . identity
        default 'INT_OPEN_FOLDER';
field data_icon                                                         {93.0}
        links_to icon . identity;
field criteria
        datatype identity;
field table_name                                                        {93.0}
	links_to explorer_hierarchy . table_name
        used_for display_browse ( 2 );
field column_mode
        datatype identity
        default 'BROWSE'
        prompt_type choose
        choose_type COLUMNS;
field group_id
        links_to group_header . identity
        used_for security_id;
field order_number
        datatype packed_decimal
        used_for ordering;
field autosize                                                          {93.0}
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field auto_labtable
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field user_library
        links_to report . identity;
field data_icon_routine
        datatype text ( 30 );
field custom_routine
        datatype text ( 30 );
field data_routine
        datatype text ( 30 );
field criteria_routine
        datatype text ( 30 );
field leave_routine
        datatype text ( 30 );
field tree_icon_routine
        datatype text ( 30 );
field group_exclusive
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'True';
field hierarchy alias explorer_hierarchy                                {93.0}
	links_to explorer_hierarchy . hierarchy ;
field criteria_saved_identity                                           {93.0}
      	links_to criteria_saved . identity;
field explorer_form                                                     {93.0}
	links_to form.name ;
field explorer_form_task                                                {93.0}
      	datatype text ( 100 );
field show_versions                                                     {93.0}
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field show_removed                                                      {93.0}
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field default_report                                                    {93.0}
	links_to report_template.identity;
field override_default_hierarchy
	datatype boolean;
field include_in_tree
	datatype boolean;
field tree_display_field
	datatype text ( 100 );
field child_form
	links_to form.name ;
field child_form_task
      	datatype text ( 100 );
field default_action
	links_to master_menu . procedure_num;
field removeflag datatype boolean
      used_for remove_flag ;
field override_default_columns
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'True';
field format_mode
      datatype identity
	 default 'MERGE'
      prompt_type choose
      choose_type APP_MODE;
field icon_mode
      datatype identity
	  default 'MERGE'
      prompt_type choose
      choose_type APP_MODE;
field popup_mode
      datatype identity
      prompt_type choose
	 default 'MERGE'
      choose_type APP_MODE;
field child_template_id
      datatype text ( 30 );
field override_report_task
      datatype boolean;
field child_report_task
      datatype text ( 100 );
field child_report_timer
      datatype integer
      lower_limit 0;
field override_default_grouping
      datatype boolean;
field dynamic_form_definition
      links_to dashboard_definition . dashboard_definition_guid ;
field child_dashboard_definition
      links_to dashboard_definition . dashboard_definition_guid ;
field approval_override
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'False';
field approval_single_active_version
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'False';
field approval_inspect_security
      datatype identity
      default 'LOW'
      prompt_type choose
      choose_type INSP_SECUR;
field approval_submit_on_add
      datatype boolean
      true_word 'Enabled'
      false_word 'Disabled'
      default 'Disabled';

table explorer_column;

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . identity as folder
        used_for unique_key;
field column_number alias identity
        datatype packed_decimal
        used_for unique_key, ordering;
field name												{93.0}
        datatype text ( 30 )
        used_for primary_browse, name, translation ;
field description
        datatype text;
field table_name
        datatype identity ( 30 );
field field_name
        datatype identity ( 100 );
field routine
        datatype text ( 30 );
field library
        links_to report . identity;
field width
        datatype integer
        lower_limit 1
        upper_limit 255
        default 10;
field group_id
        links_to group_header . identity
        used_for security_id;
field order_number
        datatype packed_decimal;
field alignment datatype identity
        prompt_type choose
        choose_type COL_ALIGN
        default 'DEFAULT';

table explorer_column_grouping;

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . identity as folder
        used_for unique_key;
field column_number alias identity
        datatype packed_decimal
        used_for unique_key, ordering;
field name
        datatype text ( 30 )
        used_for primary_browse, name, translation ;
field ascending
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'True';

table explorer_column_user;

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . identity as folder
        used_for unique_key;
field column_number alias identity 
        datatype packed_decimal
        used_for unique_key;
field operator_id 
        links_to personnel . identity
        used_for unique_key;
field name                                                              {93.0}
        datatype text ( 30 )
        used_for primary_browse, name ;
field description
        datatype text;
field table_name
        datatype identity ( 30 );
field field_name
        datatype identity ( 30 );
field width
        datatype integer
        lower_limit 1
        upper_limit 255
        default 10;
field group_id
        links_to group_header . identity
        used_for security_id;
field order_number
        datatype packed_decimal
        used_for ordering;

table explorer_rmb;

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . identity as folder
        used_for unique_key;
field rmb_number
        datatype packed_decimal
        used_for unique_key;
field type
        datatype identity
        prompt_type choose
        choose_type RMB_TYPE
        default 'ITEM';
field name                                                              {93.0}
        datatype text ( 100 )
        used_for primary_browse, name ;
field description
        datatype text;
field group_id
        links_to group_header . identity
        used_for security_id;
field order_number
        datatype packed_decimal
        used_for ordering;
field parent_number
        datatype packed_decimal;
field context_routine
        datatype text ( 30 );
field context_library
        links_to report . identity;
field context_field
        datatype text ( 30 );
field context_operator                                                  {93.0}
        datatype text ( 10 )
        prompt_type phrase
        valid
        identities
	phrase_type RMB_OP;
field context_value
        datatype text;
field allow_multiple
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field on_tree
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field refresh
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field menuproc
        links_to master_menu . procedure_num;
field using
        datatype text;
field lock_required
	datatype boolean
	true_word 'True'
	false_word 'False'
	default 'False';
field on_navbar
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'True';
field on_grid
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'True';
field begin_group
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';

table explorer_group;

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . identity as folder
        used_for unique_key;
field group_number
        datatype packed_decimal
        used_for unique_key;
field field_name
        datatype text ( 100 );
field name											{93.0}
        datatype text ( 100 )
        used_for primary_browse, name, translation;
field description
        datatype text;
field icon_1
        links_to icon . identity
        default 'INT_CLOSED_FOLDER';
field icon_2
        links_to icon . identity
        default 'INT_OPEN_FOLDER';
field parent_number
        links_to explorer_group . group_number;
field order_number
        datatype packed_decimal
        used_for ordering;
field show_phrase_desc
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field icon_routine
        datatype text ( 30 );
field group_form					 {93.0}
        links_to form.name;
field group_form_task				{93.0}
        datatype text ( 100 );
field child_form						{93.0}
        links_to form.name;
field child_form_task					{93.0}
        datatype text ( 100 );
field child_dashboard_definition
        links_to dashboard_definition . dashboard_definition_guid;
field group_dashboard_definition
        links_to dashboard_definition . dashboard_definition_guid;

table explorer_aux;

field table_name                                                        {93.0}
        datatype identity ( 30 )
        used_for unique_key, display_browse ( 1 );
field identity                                                          {93.0}
        datatype identity
        used_for unique_key, display_browse ( 2 );
field description                                                       {93.0}
        datatype text
        used_for display_browse ( 3 );
field group_id
        links_to group_header . identity
        used_for security_id;
field modified_on
        datatype date
        used_for modified_on ;
field modified_by
        links_to personnel.identity
        used_for modified_by;
field modifiable
        datatype boolean
        used_for modifiable;
field removeflag
        datatype boolean
        used_for remove_flag;
field title
        datatype text ( 30 );
field from_status
        datatype text ( 20 );
field change_status
        datatype text ( 1 );
field confirm_required
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'True';
field user_library
        links_to report . identity;
field validation_routine
        datatype text ( 50 );
field action_routine
        datatype text ( 50 );
field post_commit_routine				{93.0}
        datatype text ( 50 );
field pre_change_status_routine
        datatype text ( 50 );
field name								{93.0}
        datatype text ( 100 )
        used_for primary_browse, name;
field aux_overiew_layout
        links_to overview_layout . identity;

table explorer_aux_fields;

field table_name                                                        {93.0}
        links_to parent explorer_aux . table_name as explorer_aux
        used_for unique_key, primary_browse;
field identity                                                          {93.0}
        links_to parent explorer_aux . identity as explorer_aux
        used_for unique_key, display_browse ( 1 );
field type
        datatype identity
        used_for unique_key, display_browse ( 2 );
field order_number
        datatype packed_decimal
        used_for unique_key, ordering;
field field_name
        datatype text ( 30 )
        used_for display_browse ( 3 );
field width
        datatype integer
        format 99
        default 10
        lower_limit 1
        upper_limit 50;
field name
        datatype text ( 30 );
field default_value
        datatype text;
field visible
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'True';
field global_to_set
        datatype text ( 100 );

table explorer_folder_icon;                                             {93.0}

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . folder_number as folder
        used_for unique_key;
field item_number
	datatype integer        
	used_for unique_key;        
field order_number
	datatype integer        
	used_for ordering;        
field field_name        
 	datatype text (255);        
field operator        
	datatype text ( 10 )        
	default 'EQUALS'        
	prompt_type choose	     	 	      
	choose_type crit_op; 	
field value	
	datatype text (255);    
field icon
        links_to icon . identity;


table explorer_folder_link;

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . folder_number as folder
        used_for unique_key;
field order_number
	datatype integer        
	used_for ordering,unique_key;
field collection_name        
 	datatype text (255);        

table explorer_expression;

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . folder_number as folder
        used_for unique_key;
field order_number
	datatype integer        
	used_for ordering,unique_key;
field expression
        datatype text
        used_for primary_browse ;
field fore_color
        datatype identity
        prompt_type phrase
        valid
        identities
        phrase_type COLOR
        default 'NONE';
field back_color
        datatype identity
        prompt_type phrase
        valid
        identities
        phrase_type COLOR
        default 'NONE';
field bold
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field italic
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field strikeout
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field underline
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';

{ Lot Management Tables }

table lot_template;

field identity alias identifier                                         {93.0}
        datatype identity
        used_for unique_key, display_browse ( 1 );
field group_id alias group
        links_to group_header.identity
        used_for security_id;
field description                                                       {93.0}
        datatype text ( 234 )
        used_for display_browse ( 2 );
field modified_on
        datatype date
        used_for modified_on ;
field modified_by
        links_to personnel.identity
        used_for modified_by;
field modifiable
        datatype boolean
        used_for modifiable;
field removeflag
        datatype boolean
        used_for remove_flag;
field syntax
        links_to syntax . identity ;
field default_status
        datatype text (1)
        default 'V'
        prompt_type choose
        choose_type LOT_STAT ;
field job_template
        links_to job_template . identity;
field name                                                              {93.0}
        datatype text ( 100 )
        used_for primary_browse, name ;
field has_attachments
        datatype boolean
        used_for has_attachments ;

table lot_details alias lot;

field lot_id
		alias lot_number, batch_number
		datatype identity ( 30 )
		used_for display_browse, unique_key;
field description
		datatype text ( 234 )
		used_for display_browse ( 2 ) ;
field quantity
		datatype real
		default 0
		lower_limit 0
		upper_limit 1000000
		format 9999999.999 ;
field units
		links_to unit_header . identity;
field template
		links_to lot_template . identity;
field product
		links_to mlp_header . identity as product_link ;
field product_version
		links_to mlp_header . product_version as product_link ;
field status
		datatype text (1)
		used_for display_browse ( 3 )
		prompt_type choose
		choose_type LOT_STAT ;
field certificate
	links_to certificate . id_numeric;
field   has_attachments
		datatype boolean
		used_for has_attachments ;
field name
		datatype text ( 100 )
		used_for primary_browse, name ;
field lot_type
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type LOT_TYPE ;
field track_inventory
		datatype boolean ;
field quantity_remaining
		datatype real
		format 9999999.999 ;
field quantity_reserved
		datatype real
		format 9999999.999 ;
field workflow_node
		default '6CCD643B-61A2-4ED8-9A82-5F5A7365C463'
		links_to workflow_node . workflow_node_guid ;
field entity_template_id
		links_to entity_template . identity as entity_template ;
field entity_template_version
		links_to entity_template . entity_template_version as entity_template ;
field login_date
		datatype date
		used_for display_browse ( 4 )
		default '0' ;
field login_by
		links_to personnel . identity ;
field date_authorised
		datatype date ;
field authoriser
		links_to personnel . identity ;
field approval_reqd 
		datatype boolean ;
field approval_status
		datatype text ( 1 )
		used_for approval_status, display_browse ( 5 )
		default 'A'
		prompt_type choose
		choose_type APPR_STAT ;
field inspection_plan
		links_to inspection_header . identity
		used_for inspection ;
field expiry_date
		datatype date
		default NULL ;
field cert_template_id
            links_to cert_template . cert_template_id as cert_template ;
field cert_template_version
            links_to cert_template . cert_template_version as cert_template
            default '         1' ;
field cert_id
            links_to cert . certificate_id as cert ;
field cert_version
            links_to cert . certificate_version as cert
            default '         1' ;

table lot_relation;

field from_lot
		links_to lot_details . lot_id
		used_for unique_key, primary_browse;
field to_lot
		links_to lot_details . lot_id
		used_for unique_key, display_browse;
field quantity_consumed
		datatype real
		default 0
		lower_limit 0
		upper_limit 1000000
		format 9999999.999 ;
field units
		links_to unit_header . identity ;		
field workflow_node
		default '6CCD643B-61A2-4ED8-9A82-5F5A7365C463'
		links_to workflow_node . workflow_node_guid ;

table working_schedule ;

	field identity
	      links_to working_schedule_header . identity
	      used_for unique_key ;

		field entry_number
			  datatype packed_decimal
			  used_for unique_key ;

		field start_date
			  datatype date ;

		field end_date
			  datatype date ;

		field description
			  datatype    identity
			  prompt_type phrase
			  noidentities
			  phrase_type NON_WORK ;

table working_schedule_header ;

        field identity                                                  {93.0}
	      datatype identity
	      used_for unique_key , display_browse ( 1 ) ;

	field group_id alias group
	      links_to group_header . identity
	      used_for security_id ;

	field description                                                 {93.0}
	      datatype text ( 234 )
	      used_for display_browse ( 2 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

        field inherits
              datatype text ( 234 ) ;

        field name                                                      {93.0}
              datatype text ( 100 )
              used_for primary_browse, name ;

        field has_attachments
              datatype boolean
              used_for has_attachments ;
            
table explorer_role ;

field cabinet
      links_to parent explorer_folder . cabinet as folder
      used_for unique_key;
field folder_number
      links_to parent explorer_folder . identity as folder
      used_for unique_key;
field role_id
      links_to role_header . identity
      used_for unique_key ;

table explorer_cabinet_role ;

field cabinet                                                           {93.0}
      links_to parent explorer_cabinet . identity as cabinet
      used_for unique_key;
field role_id
      links_to role_header . identity
      used_for unique_key ;

table master_menu ;

field procedure_num
      datatype integer
      lower_limit 1
      used_for unique_key, primary_browse
      prompt_type user_defined
      library '$MENU_MASTER_PROMPT'
      routine 'prompt_menu';
field description
      datatype text ( 234 )
      used_for display_browse ( 1 );
field short_text
      datatype text ( 30 );
field mnemonic
      datatype identity (10)
      used_for display_browse ( 4 );
field library
      links_to report . identity;
field routine
      datatype text ( 50 )
      prompt_type user_defined
      library '$PROMPT_ROUTINE'
      routine 'prompt_routine';
field table_name
      datatype identity ( 40 )
      used_for display_browse ( 5 );
field data_type
      datatype identity
      prompt_type phrase
      valid identities
      phrase_type MENU_DATA
      used_for display_browse ( 2 );
field action_type
      datatype identity
      prompt_type phrase
      valid identities
      phrase_type MENU_ACTN
      used_for display_browse ( 3 );
field type
      datatype identity
      prompt_type phrase
      default 'MENU'
      valid identities
      phrase_type MENU_TYPE;
field committed
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'False';
field aux_report
      links_to explorer_aux . identity;
field modified_on
      datatype date
      used_for modified_on;
field modified_by                                                       {93.0}
      links_to personnel.identity
      used_for modified_by;
field modifiable
      datatype boolean
      used_for modifiable ;
field removeflag
      datatype boolean
      used_for remove_flag;
field icon
      links_to icon . identity ;
field esig_level                                                        {93.0}
      datatype identity
      prompt_type phrase
      valid
      identities
      phrase_type ESIG_LEVEL ;
field esig_reason
      datatype text ( 80 ) ;
field parameters
      datatype text ( 234 );
field parameters_actions
      datatype identity
      prompt_type choose
      choose_type MNU_PARAM 
      default 'BEFORE';
field limsml_entity
      links_to limsml_entity_action . entity;
field limsml_action
      links_to limsml_entity_action . action;
field category 
      datatype text ( 234 );
field implementation_type                                               {93.0}
      datatype identity
      prompt_type choose
      choose_type impl_type 
      default 'VGL' 
      used_for display_browse ( 6 );
field task_name 
      datatype text ( 234 );
field task_parameters                                                   {93.0}
      datatype text ( 234 );
field window_style                                                      {93.0}
      datatype text ( 20 );
field has_attachments
      datatype boolean
      used_for has_attachments ;
field menu_group_name 
      datatype text ( 234 ); 
field web_function_name 
      datatype text ( 234 );
field web_enabled
	  datatype boolean
	  true_word 'True'
	  false_word 'False'
	  default 'True';
field web_available
	  datatype boolean
	  true_word 'True'
	  false_word 'False'
	  default 'True';
field web_only
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'False';

index master_menu_mnemonic on mnemonic ;
index master_menu_table    on table_name ;

table role_header ;

field identity
      datatype identity ( 20 )
      used_for unique_key, display_browse (1);                          {93.0}
field group_id alias group
      links_to group_header.identity
      used_for security_id;
field description
      datatype text ( 234 )
      used_for display_browse(2);                                       {93.0}
field modified_on
      datatype date
      used_for modified_on;
field modified_by
      links_to personnel.identity
      used_for modified_by;
field modifiable
      datatype boolean
      used_for modifiable ;
field removeflag
      datatype boolean
      used_for remove_flag;
field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;

table role_entry ;

field procedure_num					{93.0}
      links_to parent master_menu . procedure_num as master_menu
      used_for unique_key ;
field role_id						{93.0}
      links_to parent role_header . identity as role_header
      used_for unique_key ;

table role_assignment ;

field operator_id							{93.0}
      links_to parent personnel . identity
      used_for unique_key ;
field role_id								{93.0}
      links_to parent role_header . identity
      used_for unique_key ;
field group_id
      links_to group_header . identity
      used_for unique_key ;

view role_menu on_table role_assignment,
                        role_header,
                        role_entry,
                        master_menu ;

field operator_id
      links_to role_assignment . operator_id
      used_for unique_key;
field role_id
      links_to role_assignment . role_id
      used_for unique_key;
field group_id
      links_to role_assignment . group_id
      used_for unique_key;
field procedure_num
      links_to role_entry . procedure_num
      used_for unique_key;
field committed
      links_to master_menu . committed ;
field web_enabled
      links_to master_menu . web_enabled ;

select_clause

      SELECT
              ROLE_ASSIGNMENT . OPERATOR_ID ,
              ROLE_ASSIGNMENT . ROLE_ID ,
              ROLE_ASSIGNMENT . GROUP_ID ,
              ROLE_ENTRY      . PROCEDURE_NUM ,
              MASTER_MENU     . COMMITTED,
              MASTER_MENU     . WEB_ENABLED

      FROM
              ROLE_ASSIGNMENT,
              ROLE_HEADER,
              ROLE_ENTRY,
              MASTER_MENU

      WHERE
              ROLE_ASSIGNMENT . ROLE_ID       = ROLE_ENTRY .  ROLE_ID       AND
              ROLE_ENTRY .      PROCEDURE_NUM = MASTER_MENU . PROCEDURE_NUM AND
              ROLE_HEADER .     [IDENTITY]    = ROLE_ENTRY .  ROLE_ID       AND
              ROLE_HEADER .     REMOVEFLAG    = 'F' ;

view role_entry_details on_table role_entry, master_menu;

field role_id
      links_to role_entry . role_id
      used_for unique_key ;
field procedure_num
      links_to role_entry . procedure_num
      used_for unique_key, primary_browse ;
field description
      links_to master_menu . description
      used_for display_browse ( 1 );
field data_type
      links_to master_menu . data_type
      used_for display_browse ( 2 );
field action_type
      links_to master_menu . action_type
      used_for display_browse ( 3 );
field type
      links_to master_menu . type;
field icon
      links_to master_menu . icon;

select_clause

      SELECT

              ROLE_ENTRY  . ROLE_ID       ,
              ROLE_ENTRY  . PROCEDURE_NUM ,
              MASTER_MENU . DESCRIPTION   ,
              MASTER_MENU . DATA_TYPE     ,
              MASTER_MENU . ACTION_TYPE   ,
              MASTER_MENU . TYPE          ,
              MASTER_MENU . ICON

      FROM
              ROLE_ENTRY ,
              MASTER_MENU

      WHERE

              ROLE_ENTRY . PROCEDURE_NUM = MASTER_MENU . PROCEDURE_NUM;

{*************************}
{ Menu import/export view }
{*************************}

view menu_ie_view on_table master_menu ,
                           smw_menu    ;

	field procedure_num
	 	links_to master_menu . procedure_num
	 	used_for primary_browse;

	field description
	 	links_to master_menu . description
	 	used_for display_browse;

	field short_text
	 	links_to master_menu . short_text
	 	used_for display_browse;

	field mnemonic
	 	links_to master_menu . mnemonic ;

	field library
	 	links_to master_menu . library ;

	field routine
	 	links_to master_menu . routine ;

	field type
	 	links_to master_menu . type ;

	field menu_name
	 	links_to smw_menu . menu_name
	 	used_for unique_key ;

	field entry_number
	 	links_to smw_menu . entry_number
	 	used_for unique_key ;

	field menu_number
	 	links_to smw_menu . menu_number ;

	field order_number
	 	links_to smw_menu . order_number ;

	field option_number
	 	links_to smw_menu . option_number ;

	field option_name
	 	links_to smw_menu . option_name ;

select_clause

	SELECT

		master_menu . procedure_num ,
		master_menu . description   ,
		master_menu . short_text    ,
		master_menu . mnemonic      ,
		master_menu . library       ,
		master_menu . routine       ,
		master_menu . type          ,
		smw_menu    . menu_name     ,
		smw_menu    . entry_number  ,
		smw_menu    . menu_number   ,
		smw_menu    . order_number  ,
		smw_menu    . option_number ,
		smw_menu    . option_name

	FROM

		master_menu
		right outer join smw_menu on smw_menu . option_number = master_menu . procedure_num ;


table component_equivalence alias compequiv;

	field destination
		links_to destination . identity
		used_for unique_key;

	field analysis_id
		alias vg_analysis
		links_to component_view . analysis
		used_for unique_key;

	field component_name
		alias vg_component
		links_to component_view . name
		used_for unique_key;

	field foreign_component
		alias foreign_comp
		datatype text (40);

	field report
		links_to report . identity ;

	field routine
		datatype identity (50)
		PROMPT_TYPE user_defined
		LIBRARY '$PROMPT_ROUTINE'
		ROUTINE 'prompt_routine';

	field comp_type
		datatype text (1);

	field removeflag
		datatype boolean
		used_for remove_flag;

table destination;

	field identity                                                    {93.0}
		alias destination
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field type
		alias dest_type
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type 'DEST_TYPE';

	field description                                                 {93.0}
		datatype text (234)
		used_for display_browse ( 2 );

	field report
		links_to report . identity;

	field routine
		datatype identity (50)
		PROMPT_TYPE user_defined
		LIBRARY '$PROMPT_ROUTINE'
		ROUTINE 'prompt_routine';

	field group_id
		alias group
		links_to group_header . identity
		used_for security_id;

	field modified_on
		datatype date
		used_for modified_on ;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field sample_status
		datatype identity
		allowed_characters 'UWVHSCARXI';

	field test_status
		datatype identity
		allowed_characters 'UWVPSCARXI';

	field result_status
		datatype identity
		allowed_characters 'UEMARX';

        field name                                                      {93.0}
                datatype text ( 100 )
                used_for primary_browse, name ;

table data_trail_entry;

	field entry_number
		datatype packed_decimal
		used_for unique_key, primary_browse;

	field table_name
		datatype text ( 30 )
		used_for display_browse ( 1 ) ;

	field record_key0
		datatype text ( 255 )
		used_for display_browse ( 2 ) ;

	field entry_date
		datatype date ;

	field rejected
		datatype boolean ;

	field last_retry_date
		datatype date
		default NULL ;

	field xml_record_1
		datatype text ( 1500 )
		default NULL;

	field xml_record_2
		datatype text ( 1500 )
		default NULL;

	field xml_record_3
		datatype text ( 1500 )
		default NULL;

	field xml_record_4
		datatype text ( 1500 )
		default NULL;

	field xml_record_5
		datatype text ( 1500 )
		default NULL;

	{ more xml_record fields may be added if an xml record }
	{ definition is greater than 5 * 2000 characters       }


table destination_failure;

	field entry_number
		links_to data_trail_entry . entry_number
		used_for unique_key, primary_browse;

	field destination
		links_to destination . identity
		used_for unique_key
		used_for display_browse ( 1 ) ;

	field errors
		datatype text ( 2000 )
		used_for display_browse ( 2 )
		default NULL;


table user_setting ;
	
	field operator
		links_to personnel . identity
		used_for unique_key ;

	field type
		datatype identity(20)
		used_for unique_key ;

	field identity
		datatype identity(40)
		used_for unique_key ;

	field property
		datatype identity(40)
		used_for unique_key , primary_browse ;

	field value
		datatype text(234)
		used_for display_browse ( 1 ) ;


table esig_event ;

	field esig_event_id
		datatype packed_decimal descending
		used_for unique_key ;

	field operator
		links_to personnel . identity ;

	field fullname
		links_to personnel . description
		used_for display_browse ( 1 ) ;

	field server_date
		datatype date ;

	field server_date_text
		datatype text ( 23 ) ;

	field server_timezone
		datatype text ( 80 ) ;

	field server_timezone_dls
		datatype boolean ;

	field server_date_offset
		datatype integer ;

	field ip_address                                                  {93.0}
		datatype text ( 39 ) ;

	field client_name
		datatype text ( 80 ) ;

	field client_date
		datatype text ( 23 ) ;

	field client_timezone
		datatype text ( 80 ) ;

	field client_timezone_dls
		datatype boolean ;

	field menu_number
		links_to esig_menu_level . menu_number ;

	field esig_reason
		links_to esig_menu_level . esig_reason ;

	field signature_comment
		datatype text ( 234 ) ;

	field success
		datatype boolean ;

	field session_id
		links_to access_log . session_id ;

	field description
		datatype text ( 234 );

index esig_server_date on server_date ;

table esig_data ;

	field esig_data_id
		datatype packed_decimal
		used_for unique_key, primary_browse ;

	field esig_event_id
		links_to esig_event . esig_event_id ;

	field table_name
		links_to esig_checksum_fields . table_name
		used_for  display_browse ( 1 ) ;

	field record_key0
		datatype  text ( 255 )
		used_for  display_browse ( 2 ) ;

	field checksum_fields
		links_to esig_checksum_fields . checksum_fields ;

	field checksum
		datatype  text ( 80 ) ;

index esig_data_esig_event_id on esig_event_id, esig_data_id ;
index esig_data_table_key0    on table_name , record_key0 , esig_data_id ;

table esig_checksum_fields ;

	field table_name
		datatype  text ( 30 )
		used_for unique_key, primary_browse ;

	field checksum_fields
		datatype  text ( 2000 ) ;


view esig_data_view on_table esig_event,
                             esig_data ;

	field esig_event_id
	      used_for unique_key
	      links_to esig_event . esig_event_id ;

	field esig_data_id
	      used_for unique_key
	      links_to esig_data . esig_data_id ;

	field table_name
	      links_to esig_data . table_name ;

	field record_key0
	      links_to esig_data . record_key0 ;

	field operator
	      links_to esig_event . operator ;

	field fullname
	      links_to esig_event . fullname ;

	field server_date
	      links_to esig_event . server_date ;

	field esig_reason
	      links_to esig_event . esig_reason ;

	field signature_comment
	      links_to esig_event . signature_comment ;

{ Committed Esig tables }

table c_esig_event
        parent_table esig_event
        tableset default_table_set;

	index c_esig_server_date on server_date ;

table c_esig_data
        parent_table esig_data
        tableset default_table_set;

	index c_esig_data_esig_event_id on esig_event_id, esig_data_id ;
	index c_esig_data_table_key0    on table_name , record_key0 , esig_data_id ;

view c_esig_data_view
        parent_table esig_data_view
        tableset default_table_set;


{ Archived Esig tables }

table archive_esig_event
        parent_table esig_event
        tableset archive_table_set;

	index archive_esig_server_date on server_date ;

table archive_esig_data
        parent_table esig_data
        tableset archive_table_set;

	index archive_esig_data_esig_event    on esig_event_id, esig_data_id ;
	index archive_esig_data_table_key0    on table_name , record_key0 , esig_data_id ;

view archive_esig_data_view
        parent_table esig_data_view
        tableset archive_table_set;

view user_view
	on_table personnel, password ;

	field identity alias identifier 
		links_to personnel.identity
		used_for unique_key, primary_browse;
	field group_id 
		links_to personnel.group_id
		used_for security_id;
	field default_group
		links_to personnel.default_group;
	field description 
		links_to personnel.description
		used_for display_browse;
	field authority 
		links_to personnel.authority;
	field location_id alias location
		links_to personnel.location_id;
	field cost_code 
		links_to personnel.cost_code;
	field modified_on 
		links_to personnel.modified_on
		used_for modified_on;
	field modified_by 
		links_to personnel.modified_by
		used_for modified_by;
	field modifiable 
		links_to personnel.modifiable
		used_for modifiable ;
	field removeflag 
		links_to personnel.removeflag
		used_for remove_flag;

select_clause

        SELECT
		P.[IDENTITY] ,
		P.GROUP_ID ,
		P.DEFAULT_GROUP,
		P.DESCRIPTION ,
		P.AUTHORITY ,
		P.LOCATION_ID ,
		P.COST_CODE ,
		P.MODIFIED_ON ,
		P.MODIFIED_BY ,
		P.MODIFIABLE ,
		P.REMOVEFLAG 

        FROM
                PERSONNEL P, PASSWORD PSW

        WHERE
                P.[IDENTITY] = PSW.[IDENTITY] ;

table calc_function ;

field identity 
	datatype identity(20)
	used_for unique_key, display_browse ( 1 );
field library
	links_to        report.identity;
field routine
	datatype        text (50)
	prompt_type     user_defined
	library         '$prompt_routine'
	routine         'prompt_routine';
field function_type 
	datatype identity
	prompt_type phrase
	identities
	phrase_type FUNC_TYPE;
field return_data_type 
	datatype identity
	default 'NUMERIC'
	prompt_type choose 
	choose_type PARAM_TYPE;
field description 
	datatype text ( 234 )
	used_for display_browse ( 2 );
field group_id alias group
	links_to group_header.identity
	used_for security_id;
field modified_on 
	datatype date 
	used_for modified_on ;
field modified_by 
	links_to personnel.identity
	used_for modified_by;
field modifiable 
	datatype boolean
	used_for modifiable;
field removeflag 
	datatype boolean
	used_for remove_flag;
field name
	datatype text ( 100 )
	used_for primary_browse, name;
field has_attachments
	datatype boolean
	used_for has_attachments ;

table calc_function_parameter ;

field calc_function 
	alias identifier
	links_to parent calc_function . identity
	used_for unique_key, primary_browse;
field parameter
	datatype identity(10)
	used_for unique_key;
field parameter_order alias order_number
	used_for ordering
	datatype integer;
field description datatype text ( 234 )
	used_for display_browse;
field data_type
	datatype identity
	default 'NUMERIC'
	prompt_type choose 
	choose_type PARAM_TYPE;

	
table tab_gui ;

field identity 
	datatype identity(20)
	used_for unique_key, primary_browse;
	
field report_title 
	datatype text ( 234 )
	used_for display_browse ( 1 );

field group_id alias group
	links_to group_header.identity
	used_for security_id;

field modified_on 
	datatype date 
	used_for modified_on ;

field modified_by 
	links_to personnel.identity
	used_for modified_by;

field modifiable 
	datatype boolean
	used_for modifiable;

field removeflag 
	datatype boolean
	used_for remove_flag;

field report_display 
	datatype text ( 10 );
	
field output_file 
	datatype text ( 234 );
	
field report_type
	datatype text ( 10 );	

field preview_data        
	datatype boolean;

field column_sort        
	datatype boolean;
	
field include_audits 
	datatype boolean;
	
field grouping_field 
	datatype text ( 20 );
	
field tableset 
	datatype text ( 10 );
		
field samples_without_tests
	datatype boolean;
		
field off_spec_mark_results        
	datatype boolean;
	
field colour_off_spec_results        
	datatype boolean;

field off_spec_symbol      
	datatype text ( 1 );
		
field off_spec_colour      
	datatype integer;
		
field off_spec_colour_html 
	datatype text ( 10 );
		
field off_spec_strikethrough
	datatype boolean;
		
field off_spec_bold        
	datatype boolean;
		
field off_spec_italic      
	datatype boolean;
		
field off_spec_underlined  
	datatype boolean;
		       	
field include_oper_and_date
	datatype boolean;
		
field include_replicates
	datatype boolean;

field prefix_dates
	datatype boolean;
	

table tab_criteria;

field identity alias tab_id
	links_to tab_gui.identity
	used_for unique_key, primary_browse;

field table_name                                                        {93.0}
	datatype identity ( 30 ) 
	used_for unique_key
	used_for display_browse ( 1 );

field order_number   
	alias order_field datatype packed_decimal  
	used_for ordering 
	used_for unique_key ;

field field_name                                                        {93.0}
	datatype identity ( 30 )
	used_for display_browse ( 2 );
	
	
field display_name
	datatype text ( 20 );
	 
field link_operator
	datatype text ( 10 ) ;

field oper
	datatype text ( 10 ) 
	used_for display_browse ( 3 );
	
field field_value  
	datatype text ( 255 ) 
	used_for display_browse ( 4 );

field replicate 
	datatype boolean;



table tab_result_criteria;

field identity alias tab_id
	links_to tab_gui.identity
	used_for unique_key , primary_browse;

field order_number   
	alias order_field datatype packed_decimal  
	used_for ordering   
	used_for unique_key ;

field analysis_id
      links_to versioned_analysis.identity
	used_for display_browse ( 1 );

field component_id
	links_to versioned_component.name
	used_for display_browse ( 2 );

field width
	datatype integer
	lower_limit 0
	upper_limit 200 ;


table tab_output_columns;

field identity alias tab_id
	links_to tab_gui.identity
	used_for unique_key , primary_browse;

field table_name                                                        {93.0}
	datatype identity ( 30 ) 
	used_for unique_key
	used_for display_browse ( 1 );

field field_name                                                        {93.0}
	datatype identity ( 30 )
	used_for unique_key
	used_for display_browse ( 3 );
	
field order_number   
	alias order_field datatype packed_decimal  
	used_for ordering   ;
	
field used
	datatype boolean
	used_for display_browse ( 2 );
	
field column_title
	datatype text ( 20 ) ;
	
field width
	datatype integer
	lower_limit 0
	upper_limit 200 ;


{*******************************************************************************
* INFOMAKER_LINK Table
*******************************************************************************}

table infomaker_link;

field identity                                                          {93.0}
      datatype identity (30)
      used_for unique_key, display_browse ( 1 );

field description                                                       {93.0}
      datatype text
      used_for display_browse ( 2 );

field library                                                           {93.0}
      datatype text ( 100 )
      prompt_type user_defined
      library '$LTE_INFOMAKER'
      routine find_pbl_name    
      used_for display_browse ( 3 );

field report                                                            {93.0}
      datatype text ( 50 )
      prompt_type user_defined
      library '$LTE_INFOMAKER'
      routine 'browse_reports'
      used_for display_browse ( 4 );

field user_library
      links_to report . identity;

field valid_routine
      datatype text ( 50 )
      prompt_type user_defined
      library '$PROMPT_ROUTINE'
      routine 'prompt_routine';

field copies
      datatype integer
      default  1
      lower_limit 1 
      upper_limit 20;

field preview
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'Yes';

field group_id alias group
      used_for security_id
      links_to group_header . identity;

field modifiable datatype boolean
      used_for modifiable;

field modified_on datatype date
      used_for modified_on;

field modified_by links_to personnel.identity
      used_for modified_by;

field removeflag datatype boolean
      used_for remove_flag;

field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name ;

{*******************************************************************************
* Infomaker_parameters Table
*******************************************************************************}

table infomaker_parameters;

field infomaker_link                                                    {93.0}
      links_to parent infomaker_link . identity
      used_for unique_key;

field identity
      datatype identity
      used_for unique_key
	used_for display_browse ( 1 );

field order_number
      datatype packed_decimal
      used_for ordering;

field description
      datatype text ( 30 )
      used_for display_browse ( 2 );

field default_value
      datatype text ( 30 );

field type
      datatype identity
      prompt_type phrase
      valid identities
      phrase_type FIELD_TYPE
      used_for display_browse ( 3 )
      default 'FORMAT';

field prompt1
      datatype identity ( 30 )
      used_for display_browse ( 4 )
      default 'TEXT';

field prompt2
      datatype identity ( 30 )
      used_for display_browse ( 5 );

field mandatory
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';
        

table favourite;

	field user_id
		links_to personnel . identity
		used_for unique_key ;

	field table_name
		datatype identity( 30 )
		used_for unique_key , primary_browse ;

	field record_key0
		datatype  text ( 255 )
		used_for unique_key, display_browse ( 1 ) ;

	field date_created
		datatype date
		used_for display_browse ( 2 ) ;

{****************************************}
{* Business Logic Type definition table *}
{****************************************}

table bl_type;

field identity
      datatype identity( 40 )
      used_for unique_key, primary_browse;

field type_vgl_library
      links_to report . identity;

field new_type_routine
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field primary_table
      datatype identity( 40 );

field item_vgl_library
      links_to report . identity;

field new_item_routine
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

table bl_relationship;

field identity
      datatype identity( 40 )
      used_for unique_key, primary_browse;

field relationship_type
      datatype identity( 20 );

field source_type_id
      links_to bl_type . identity;

field destination_type_id
      links_to bl_type . identity;

index bl_rel_srce_type_index on source_type_id ;
index bl_rel_dest_type_index on destination_type_id ;

table bl_relationship_clause;

field relationship_id
      links_to bl_relationship . identity
      used_for unique_key ;

field source_property_id
      datatype identity( 40 )
      used_for unique_key;

field destination_property_id
      datatype identity( 40 )
      used_for unique_key;

{*************************************************}
{ LIMSML Tables                                   }
{*************************************************}

table limsml_entity_action;

field entity                                                            {93.0}
      datatype identity ( 20 )
      used_for unique_key, display_browse ( 1 );

field action                                                            {93.0}
      datatype identity ( 20 )
      used_for unique_key, display_browse ( 2 );

field description                                                       {93.0}
      datatype  text ( 255 )
      used_for display_browse ( 3 );

field group_id alias group
      used_for security_id
      links_to group_header . identity;

field modifiable datatype boolean
      used_for modifiable;

field modified_on datatype date
      used_for modified_on;

field modified_by links_to personnel.identity
      used_for modified_by;

field removeflag datatype boolean
      used_for remove_flag;

field return_type
      datatype identity
      prompt_type phrase
      identities
      valid
      phrase_type LIMSMLDATA
      default 'DATA';

field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name;

table limsml_entity_param;
 
field entity                                                            {93.0}
      links_to parent limsml_entity_action . entity as parent_action
      used_for unique_key, primary_browse;

field action                                                            {93.0}
      links_to parent limsml_entity_action . action as parent_action
      used_for unique_key, display_browse ( 1 );
	
field parameter
      datatype identity ( 20 )
      used_for unique_key, display_browse ( 2 );

field is_mandatory
      datatype boolean;

field description
      datatype text ( 234 );

{*************************************************}
{ User Interface Tables                           }
{*************************************************}

table interface;

field table_name                                                        {93.0}
      datatype identity ( 30 )
      used_for unique_key, display_browse ( 1 );

field interface
      datatype identity ( 30 )
      used_for unique_key, display_browse ( 2 );

field group_id alias group
      used_for security_id
      links_to group_header . identity;

field modifiable datatype boolean
      used_for modifiable;

field modified_on datatype date
      used_for modified_on;

field modified_by links_to personnel.identity
      used_for modified_by;

field removeflag datatype boolean
      used_for remove_flag;

field type
      datatype identity
      prompt_type phrase
      identities
      valid
      phrase_type INTERFACE
      default 'LTE'
      used_for display_browse ( 3 );

field display_table_name
      datatype text ( 50 )
      used_for display_browse ( 4 );

field header_message
      datatype text ( 100 )
      used_for display_browse ( 5 );

field file_directory
      datatype text ( 50 );

field file_extension
      datatype text ( 20 );

field input_message
      datatype text ( 100 );

field identity_message
      datatype text ( 50 );

field identity2_message
      datatype text ( 50 );

field identity3_message
      datatype text ( 50 );

field identity4_message
      datatype text ( 50 );

field modify_on_message
      datatype text ( 50 );

field modify_by_message
      datatype text ( 50 );

field read_message
      datatype text ( 50 );

field write_message
      datatype text ( 50 );

field approval_message
      datatype text ( 50 );

field default_value
      datatype identity ( 60 )
      allowed_characters '0..9A..Z-_ ';

field help_context
      datatype identity ( 50 );

field report_name
      links_to report . identity;

field list_pre_insert
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field list_post_insert
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field list_validation
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field list_select
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field list_delete
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field list_callback
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field list_toolbar
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name ;

table interface_field;

field table_name
      links_to interface . table_name
      used_for unique_key, primary_browse;

field interface
      links_to interface . interface
      used_for unique_key, display_browse ( 2 );

field order_number
      datatype packed_decimal
      used_for unique_key, ordering;

field type
      datatype identity
      default 'FORMAT'
      used_for display_browse ( 3 );

field message
      datatype text ( 50 );

field field_name
      datatype identity ( 30 );

field report_name
      links_to report . identity;

field user_routine
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field add_routine
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field print
      datatype boolean 
      true_word 'Yes'
      false_word 'No'
      default 'Yes';

field list_width
      datatype integer
      default 20;

field mandatory                                                         {93.0}
       datatype boolean
       default 'No'
       true_word 'Yes'
       false_word 'No' ;

field copy                                                              {93.0}
       datatype boolean
       default 'Yes'
       true_word 'Yes'
       false_word 'No' ;

table interface_action;

field table_name
      links_to interface . table_name
      used_for unique_key, primary_browse;

field interface
      links_to interface . interface
      used_for unique_key, display_browse ( 2 );

field order_number
      datatype packed_decimal
      used_for unique_key, ordering;

field type
      datatype identity
      used_for display_browse ( 3 )
      default 'ROUTINE';

field message
      datatype text ( 50 );

field link_table_name
      links_to interface . table_name;

field link_interface
      links_to interface . interface;

field report_name
      links_to report . identity;

field user_routine
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field required_privilege
      links_to master_menu . procedure_num;

{*************************************************}
{ Web Tables                                      }
{*************************************************}

table web_link;

field identity                                                          {93.0}
      datatype identity ( 20 )
      used_for unique_key, display_browse ( 1 );

field description
      datatype  text ( 255 )
      used_for display_browse ( 2 );

field group_id alias group
      used_for security_id
      links_to group_header . identity;

field modifiable datatype boolean
      used_for modifiable;

field modified_on datatype date
      used_for modified_on;

field modified_by links_to personnel.identity
      used_for modified_by;

field removeflag datatype boolean
      used_for remove_flag;

field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name;

field url                                                               {93.0}
      datatype  text ( 255 )
      default 'http://'
      used_for display_browse ( 3 ) ;

field separate_window
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'False';

view web_menu on_table web_menu_section;

field identity
      links_to web_menu_section . identity
      used_for unique_key ;

select_clause

      SELECT DISTINCT web_menu_section . [identity]
      FROM web_menu_section ;

table web_menu_section;

field identity                                                          {93.0}
      datatype identity ( 20 )
      used_for unique_key, display_browse ( 1 );

field section
      datatype identity ( 20 )
      used_for unique_key, display_browse ( 2 );

field description
      datatype  text ( 255 )
      used_for display_browse ( 3 );

field group_id alias group
      used_for security_id
      links_to group_header . identity;

field modifiable datatype boolean
      used_for modifiable;

field modified_on datatype date
      used_for modified_on;

field modified_by links_to personnel.identity
      used_for modified_by;

field removeflag datatype boolean
      used_for remove_flag;

field order_number
      datatype integer
	  default 1;

field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name ;

field icon
      links_to icon . identity
      default 'INT_CLOSED_FOLDER';

field visible
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'True';

field always_visible
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'False';

field image_link
      datatype text ( 100 ) ;

field introduction
      datatype text ( 2000 )
      default null;

field summary
      datatype text ( 2000 )
      default null;

field show_menu_options
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'True';

table web_menu_item;

field identity                                                          {93.0}
      links_to parent web_menu_section . identity as web_menu_section
      used_for unique_key, primary_browse;

field section                                                           {93.0}
      links_to parent web_menu_section . section as web_menu_section
      used_for unique_key, display_browse ( 2 );

field order_number
      datatype packed_decimal
      used_for unique_key, ordering ;

field name
      datatype  text ( 50 )
      used_for display_browse ( 3 ) ;

field option_number
      links_to master_menu . procedure_num
      used_for display_browse ( 4 ) ;

field icon
      links_to icon . identity;

field separate_window
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'False';

field target
      datatype text ( 50 );

{*************************************************}
{ Product Families                                }
{*************************************************}

Table MLP_FAMILY_HEADER;

field family_name                                                       {93.0}
      datatype identity ( 30 )
      used_for unique_key, display_browse ( 1 );

field family_description                                                {93.0}
      datatype text(234)
      used_for display_browse ( 2 );

field group_id 
      links_to group_header.identity
      used_for security_id;	

field modified_on
      datatype date
      used_for modified_on;

field modified_by
      links_to personnel.identity
      used_for modified_by;

field modifiable datatype boolean
      used_for modifiable;

field removeflag 
      datatype boolean
      used_for remove_flag;

field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name ;

TABLE MLP_FAMILY;

field family_name                                                       {93.0}
      links_to parent MLP_FAMILY_HEADER.family_name
      used_for unique_key, primary_browse;

field mlp_id                                                            {93.0}
      links_to mlp_latest_version_view.identity
      used_for unique_key, display_browse ( 1 );

field order_num
      datatype packed_decimal
      used_for ordering ;
      
{*************************************************}
{ CoA Tables                                      }
{*************************************************}
{ Obsolete Replaced by CERT_TEMPLATE in SM-12-2 }

table certificate_template ;                                            {93.0}

field identity 
      datatype identity ( 10 ) 
      used_for unique_key, display_browse ( 1 );

field type
      datatype identity ( 10 )
      prompt_type phrase
      default 'SAMPLE    '
      valid identities
      phrase_type CERT_TYPE
      used_for unique_key,
	       display_browse (2);
                                        
field certificate_version
      datatype packed_decimal
      default '         1'
      used_for unique_key ,
               version_number ,
               display_browse (3) ;
               
field description 
      datatype text ( 255 ) 
      used_for display_browse (4)  ;
      
field modified_on 
      datatype date     
      used_for modified_on;
      
field modified_by 
      links_to personnel.identity 
      used_for modified_by;
      
field modifiable
      datatype boolean
      used_for modifiable;
      
field removeflag  alias remove_flag 
      datatype boolean  
      used_for remove_flag;
      
field group_id alias group links_to group_header.identity 
      used_for security_id;

field syntax_id
      links_to syntax . identity;

field approval_reqd 
      datatype boolean;
      
field approval_status
      datatype text ( 1 )
      used_for display_browse ( 5 ) , approval_status
      default 'A'
      prompt_type choose
      choose_type APPR_STAT ;
      
field inspection_plan
      links_to inspection_header . identity
      used_for inspection ;

field name                                                              {93.0}
      datatype text ( 100 )
      used_for primary_browse, name ;

field has_attachments
      datatype boolean
      used_for has_attachments ;

{ Obsolete Replaced in SM-12-2 }

table cert_section ;
      
field template                                                          {93.0}
      links_to parent certificate_template . identity
      used_for unique_key;

field template_type                                                     {93.0}
      links_to parent certificate_template . type
      used_for unique_key;

field template_version                                                  {93.0}
      links_to parent certificate_template . certificate_version
      used_for unique_key;
      
field identity 
      datatype identity ( 10 ) 
      used_for unique_key, primary_browse ;  
      
field order_number
      datatype packed_decimal
      used_for unique_key, ordering ;
      
field type
      datatype identity
      prompt_type phrase
      default 'DATA'
      valid identities
      phrase_type CERT_SECT;
      
field description 
      datatype text ( 80 ) 
      used_for display_browse (1) ;

{ Obsolete Replaced in SM-12-2 }
      
table cert_section_prompt ;


field template
      links_to certificate_template . identity
      used_for unique_key;

field template_type
      links_to certificate_template . type
      used_for unique_key;

field template_version
      links_to certificate_template . certificate_version
      used_for unique_key;

field identity 
      links_to cert_section . identity
      used_for unique_key, primary_browse ;
          
field order_number
      datatype packed_decimal
      used_for unique_key, ordering ;
      
field description 
      datatype text ( 80 ) 
      used_for display_browse (1) ;

field title_text
      datatype text ( 30 ) ;

field type
      datatype identity
      prompt_type phrase
      valid identities
      phrase_type FIELD_TYPE
      default 'FORMAT'
      used_for display_browse (2) ;

field prompt1
      datatype identity ( 30 )
      default 'TEXT';

field prompt2
      datatype identity ( 30 );
      
field default_value
      datatype text ( 30 );
      
field prompt_for
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';

{ Obsolete Replaced in SM-12-2 }

table cert_section_data ;

field template
      links_to certificate_template . identity
      used_for unique_key;

field template_type
      links_to certificate_template . type
      used_for unique_key;
field template_version
      links_to certificate_template . certificate_version
      used_for unique_key;

field identity 
      links_to cert_section . identity
      used_for unique_key, primary_browse ;
        
field order_number
      datatype packed_decimal
      used_for unique_key, ordering ;
      
field link_table
      datatype identity ( 20 )
      used_for display_browse (1) ;

field link_key1
      datatype identity ( 40 );

field link_field
      datatype identity ( 20 );
      
field criteria
      datatype boolean;
field filter_library
      datatype identity ( 30 );

field filter_routine
      datatype identity ( 30 );

field prompt_for
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';

{ Obsolete Replaced in SM-12-2 }
      
table cert_section_result ;
      
field template
      links_to certificate_template . identity
      used_for unique_key;

field template_type
      links_to certificate_template . type
      used_for unique_key;

field template_version
      links_to certificate_template . certificate_version
      used_for unique_key;
      
field identity 
      links_to cert_section . identity
      used_for unique_key, 
      primary_browse ;
      
field order_number
      datatype packed_decimal
      used_for unique_key, ordering ;

field type
      datatype text (10);
       
field product
      links_to mlp_header . identity
      used_for display_browse (1) ;
	
field product_version alias version
      links_to mlp_header . product_version;
	
field analysis_id
      links_to versioned_analysis.identity
      used_for display_browse (2) ;
     
field analysis_version
      links_to versioned_analysis.analysis_version;

field component_name
      datatype text ( 40 )
      used_for display_browse (3) ;

field component_type 
      datatype text ( 1 );

field units
      links_to unit_header . identity;

field places 
      datatype integer;

field sig_figs_number 
      datatype integer;
      
field sig_figs_rounding 
      datatype integer;

field sig_figs_filter 
      datatype text(10);

field level_id
      links_to mlp_level . level_id;
      
field criteria
      datatype boolean;

field column_source
      datatype text ( 40 );
      
field column_name
      datatype text ( 40 );
field filter_library
      datatype identity ( 30 );

field filter_routine
      datatype identity ( 30 );

{ Obsolete Replaced in SM-12-2 }

table cert_destination ;

field template                                                          {93.0}
      links_to parent certificate_template . identity
      used_for unique_key;

field template_type                                                     {93.0}
      links_to parent certificate_template . type
      used_for unique_key;

field template_version                                                  {93.0}
      links_to parent certificate_template . certificate_version
      used_for unique_key;

field identity 
      datatype identity ( 10 ) 
      used_for unique_key, primary_browse ;

field order_number
      datatype packed_decimal
      used_for unique_key, ordering ;

field description 
      datatype text ( 80 ) 
      used_for display_browse (1) ;
      
field type
      datatype identity
      prompt_type phrase
      default 'LIMSREPORT'
      valid identities
      phrase_type CERT_DEST;
      
field report
      datatype text ( 50 );
      
{ Obsolete Replaced by CERT in SM-12-2 }

table certificate ;

field id_numeric
      alias    idnumeric
      datatype packed_decimal
      used_for unique_key, primary_browse;

field id_text
      datatype identity (30)
      used_for display_browse ( 1 );
      
field template
      links_to certificate_template . identity;
      
field template_version
      links_to certificate_template . certificate_version;

field type
      datatype identity
      prompt_type phrase
      valid identities
      phrase_type FIELD_TYPE
      default 'FORMAT'
      used_for display_browse (2) ;
      
field type_identity
      datatype text ( 30 ) ;
            
field description 
      datatype text ( 80 ) 
      used_for display_browse (4) ; 
      
field modified_on 
      datatype date     
      used_for modified_on;
      
field modified_by 
      links_to personnel.identity 
      used_for modified_by;

field preview_on 
      datatype date;
      
field preview_by 
      links_to personnel.identity;
      
field modifiable
      datatype boolean
      used_for modifiable;
      
field group_id alias group links_to group_header.identity 
      used_for security_id;

field approval_reqd 
      datatype boolean;
      
field status
      datatype text ( 1 )
      used_for display_browse ( 3 ) , approval_status
      default 'A'
      prompt_type choose
      choose_type APPR_STAT ;

field report_used
      links_to cert_destination . report;
      
field inspection_plan
      links_to inspection_header . identity
      used_for inspection ;

{ Obsolete Replaced in SM-12-2 }
      
table certificate_entry ;

field id_numeric                                                        {93.0}
      links_to parent certificate . id_numeric 
      used_for unique_key;

field section_id
      links_to cert_section . identity
      used_for unique_key;
      
field order_number
      datatype packed_decimal
      used_for unique_key, ordering ;
      
field text1
      datatype text ( 256 ) ;

field text2
      datatype text ( 256 ) ;
      
field text3
      datatype text ( 256 ) ;
      
field text4
      datatype text ( 256 ) ;
      
field text5
      datatype text ( 256 ) ;
      
field text6
      datatype text ( 256 ) ;
      
field text7
      datatype text ( 256 ) ;
      
field text8
      datatype text ( 256 ) ;
      
field text9
      datatype text ( 256 ) ;
      
field text10
      datatype text ( 256 ) ;
      
field text11
      datatype text ( 256 ) ;      

field text12
      datatype text ( 256 ) ;
      
field text13
      datatype text ( 256 ) ;
      
field text14
      datatype text ( 256 ) ;      
      
field text15
      datatype text ( 256 ) ;
      
view job_lot_view on_table lot_details,
                            job_header,
			     lot_relation;

        field lot_id
              used_for unique_key
              links_to lot_details .lot_id;
	field lot_description
	      links_to lot_details .description;
	field lot_quantity
	      links_to lot_details . quantity;
	field lot_product
              links_to lot_details . product;
	field lot_product_version
              links_to lot_details . product_version;
	field lot_status
	      links_to lot_details . status;
	field from_lot
	      links_to lot_relation . from_lot;
	field to_lot
	      links_to lot_relation . to_lot;
	field job_name
              links_to job_header.job_name;
        field job_status
              links_to job_header.job_status;
        field job_description
              links_to job_header.browse_description;
        field job_date_created
              links_to job_header.date_created;
        field job_date_completed
              links_to job_header.date_completed;
        field job_date_received
              links_to job_header.date_received;
        field job_date_to_start
              links_to job_header.date_to_start;
        field job_submitter_oper
              links_to job_header.submitter_oper;
        field job_samples_to_do
              links_to job_header.samples_to_do;
        field job_group_id
              links_to job_header.group_id;
        field job_template_id
              links_to job_header.template_id;
        field job_sample_template
              links_to job_header.sample_template;
        field job_date_authorised
              links_to job_header.date_authorised;
        field job_authoriser
              links_to job_header.authoriser;
        field job_authorisation_notes
              links_to job_header.authorisation_notes; 

{*******************************************************************************
* Entity Definition
*******************************************************************************}

table entity_definition ;

field model
      datatype identity ( 20 )
      used_for unique_key, primary_browse ;

field identity
      datatype identity ( 50 )
      used_for unique_key, display_browse ( 1 ) ;

field name
      datatype text
      used_for display_browse ( 2 ) ;

field description
      datatype  text
      used_for display_browse ( 3 ) ;

field entity_assembly
      datatype text ( 100 ) ;

field entity_type
      datatype text ( 100 ) ;

field entity_mapper_assembly
      datatype text ( 100 ) ;
            
field entity_mapper_type
      datatype text ( 100 ) ;
                  
field table_name
      datatype identity ( 30 );
      
field base_model
      links_to entity_definition . model ;
      
field base_definition
      links_to entity_definition . identity ;

field default_icon
      links_to icon . identity ;

field primary
      datatype boolean ;

{*******************************************************************************
* Entity definition field
*******************************************************************************}

table entity_definition_field ;

field model 
      datatype identity ( 20 )
      used_for unique_key, primary_browse ;
      
field entity_definition
      links_to entity_definition . identity
      used_for unique_key, display_browse ( 1 ) ;

field column_name
      datatype text ( 32 )
      used_for unique_key, display_browse ( 2 ) ;
      
field field_value
      datatype text ( 50 ) 
      used_for display_browse ( 3 ) ;

{*******************************************************************************
* Entity definition property
*******************************************************************************}

table entity_definition_property ;

field model
      links_to entity_definition . model
      used_for unique_key, primary_browse; 

field entity_definition
      links_to entity_definition . identity
      used_for unique_key, display_browse ( 1 ) ;

field property_name
      datatype text ( 40 ) 
      used_for unique_key
      used_for display_browse ( 2 ) 
      case_sensitive ;

field field_name
      datatype identity ( 30 )
      used_for display_browse ( 3 ) ;
            
field table_relationship
      links_to table_relationship . identity
      used_for display_browse ( 4 ) ;
            
field destination_entity_definition
      links_to entity_definition . identity
      used_for display_browse ( 5 ) ;

field reverse_relationship
      datatype boolean ;

field default_value
      datatype text ;

field link_property_name
      links_to entity_definition_property . property_name
      used_for display_browse ( 6 ) ;
      
field protected_visibility
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';

field alias
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';

{*******************************************************************************
* Entity Generic Property
*******************************************************************************}

table entity_generic_property ;

field property_name
      datatype text ( 40 ) 
      used_for unique_key
      used_for display_browse ( 1 ) ;

field entity_model
      links_to entity_definition . model
      used_for display_browse ( 2 ) ;

field entity_definition
      links_to entity_definition . identity
      used_for display_browse ( 3 ) ;

{*******************************************************************************
* Table relationship
*******************************************************************************}

table table_relationship ;
      
field identity
      datatype identity ( 50 )
      used_for unique_key , primary_browse ;
      
field source_table
      datatype identity ( 30 )
      used_for display_browse ( 1 );

field type
      datatype text ( 10 )
      used_for display_browse ( 2 );
      
field destination_table
      datatype identity ( 30 )
      used_for display_browse ( 3 );

{*******************************************************************************
* Table relationship clause
*******************************************************************************}
            
table table_relationship_clause ;

field table_relationship
      links_to table_relationship . identity
      used_for unique_key , primary_browse ;

field source_field
      datatype identity ( 30 )
      used_for unique_key
      used_for display_browse ( 1 );
            
field destination_field
      datatype identity ( 30 )
      used_for display_browse ( 2 );

{*******************************************************************************
* Menu Toolbar
*******************************************************************************}

table menu_toolbar ;

field toolbar_name
      datatype identity ( 20 )
      used_for unique_key, primary_browse ;
 
field item_number
      datatype packed_decimal
      used_for unique_key ;

field parent_number
      datatype packed_decimal;

field item_name
      datatype text
      used_for display_browse ( 1 ) ;

field type
      datatype text ( 20 )
      used_for display_browse ( 2 ) ;

field procedure_num 
      links_to master_menu . procedure_num ;

field internal_item_name 
      datatype text ( 40 ) ;

field paint_style
      datatype text ( 40 ) ;

field begin_group
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';

field shortcut
	  datatype text ( 20 );


{*******************************************************************************
* Explorer Hierarchy Tables
*******************************************************************************}

table explorer_hierarchy;

field table_name
      datatype identity ( 30 )
      used_for unique_key, display_browse ( 1 );

field hierarchy
      datatype identity ( 40 ) 
      used_for unique_key, display_browse ( 2 );

field description
      datatype text ( 234 )
      used_for display_browse ( 3 );

field group_id
      links_to group_header . identity
      used_for security_id;

field modifiable datatype boolean
      used_for modifiable;

field modified_on datatype date
      used_for modified_on;

field modified_by links_to personnel.identity
      used_for modified_by;

field removeflag datatype boolean
      used_for remove_flag;

field name
      datatype text ( 100 )
      used_for primary_browse, name;

table explorer_hierarchy_level;

field table_name
      links_to parent explorer_hierarchy . table_name as hierarchy_link
      used_for unique_key, primary_browse;

field hierarchy
      links_to parent explorer_hierarchy . hierarchy as hierarchy_link
      used_for unique_key, display_browse ( 1 );

field link_table_name
      datatype identity ( 30 )
      used_for unique_key, display_browse ( 2 );

field order_number alias position
      datatype packed_decimal
      used_for ordering, unique_key;

field tree_display_fields       
      datatype text ( 200 );
	
field link_from_parent          
      datatype text ( 200 );

field link_to_parent            
      datatype text ( 200 );

field criteria
      links_to criteria_saved . identity ;
      
field explorer_form
      links_to form.name ;
      
field explorer_form_task
      datatype text ( 100 ) ;

field explorer_dashboard_definition
      links_to dashboard_definition . dashboard_definition_guid ;


{*******************************************************************************
* Menu MyTasks
*******************************************************************************}

table menu_mytasks ;

field mytasks_name
      datatype identity ( 20 )
      used_for unique_key, primary_browse ;
 
field item_number
      datatype packed_decimal
      used_for unique_key, ordering ;

field item_name
      datatype text (234)
      used_for display_browse ( 1 ) ;

field procedure_num 
      links_to master_menu . procedure_num ;

field icon
      links_to icon . identity ;

field parameters
      datatype text ( 234 );

{*******************************************************************************
* Report View r_batch_failures
*******************************************************************************}

view r_batch_failures ;

	field identity 
		links_to batch_header . identity;
		
	field test
		links_to batch_entry . test;
		
	field type 
		links_to batch_entry . type;
		
	field review_status
		links_to batch_entry . review_status;
		
	field component_name
		links_to mlp_components . component_name ;
		
	field units
		links_to mlp_components . units ;
		
	field level_id
		links_to mlp_level . level_id ;
		
	field min_limit
		links_to mlp_values . min_limit ;
		
	field max_limit
		links_to mlp_values . max_limit ;
		
	field text
		links_to result . text ;
		
	field status
		links_to result . status ;
		
	field id_text
		links_to sample . id_text ;
		
	field test_count
		links_to test . test_count ;

oracle_specific_select

	  SELECT  DISTINCT 
		  BATCH_HEADER.IDENTITY,
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'Z',
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  TEST,
		  SAMPLE
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE )
	UNION
	  SELECT  DISTINCT 
		  BATCH_HEADER.IDENTITY,
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  RESULT.TEXT,
		  RESULT.STATUS,
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_COMPONENTS.PRODUCT_ID = BATCH_HEADER.TEMPLATE_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( MLP_COMPONENTS.ENTRY_CODE <> MLP_HEADER.ENTRY_CODE ) AND
		  ( MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE ) AND
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	MINUS
	  SELECT  DISTINCT 
		  BATCH_HEADER.IDENTITY,
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'Z',
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_COMPONENTS.PRODUCT_ID = BATCH_HEADER.TEMPLATE_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( MLP_COMPONENTS.ENTRY_CODE <> MLP_HEADER.ENTRY_CODE ) AND
		  ( MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE ) AND
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) ;

sqlserver_specific_select

	  SELECT  DISTINCT 
		  BATCH_HEADER.[IDENTITY],
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'Z',
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  TEST,
		  SAMPLE
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE )
	UNION
	  SELECT  DISTINCT 
		  BATCH_HEADER.[IDENTITY],
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  RESULT.TEXT,
		  RESULT.STATUS,
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_COMPONENTS.PRODUCT_ID = BATCH_HEADER.TEMPLATE_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( MLP_COMPONENTS.ENTRY_CODE <> MLP_HEADER.ENTRY_CODE ) AND
		  ( MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE ) AND
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	EXCEPT
	  SELECT  DISTINCT 
		  BATCH_HEADER.[IDENTITY],
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'Z',
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_COMPONENTS.PRODUCT_ID = BATCH_HEADER.TEMPLATE_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( MLP_COMPONENTS.ENTRY_CODE <> MLP_HEADER.ENTRY_CODE ) AND
		  ( MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE ) AND
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) ;

postgresql_specific_select

	  SELECT  DISTINCT 
		  BATCH_HEADER.IDENTITY,
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'Z',
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  TEST,
		  SAMPLE
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE )
	UNION
	  SELECT  DISTINCT 
		  BATCH_HEADER.IDENTITY,
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  RESULT.TEXT,
		  RESULT.STATUS,
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_COMPONENTS.PRODUCT_ID = BATCH_HEADER.TEMPLATE_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( MLP_COMPONENTS.ENTRY_CODE <> MLP_HEADER.ENTRY_CODE ) AND
		  ( MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE ) AND
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	EXCEPT
	  SELECT  DISTINCT 
		  BATCH_HEADER.IDENTITY,
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'Z',
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_COMPONENTS.PRODUCT_ID = BATCH_HEADER.TEMPLATE_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( MLP_COMPONENTS.ENTRY_CODE <> MLP_HEADER.ENTRY_CODE ) AND
		  ( MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE ) AND
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) ;

{*******************************************************************************
* Report View r_batch_report
*******************************************************************************}

view r_batch_report on_table component_view ;

	field identity
		links_to batch_header . identity;
		
	field test
		links_to batch_entry . test;
		
	field order_number
		links_to batch_entry . order_number;
		
	field type
		links_to batch_entry . type;
		
	field name
		links_to mlp_components . component_name ;
		
	field units
		links_to mlp_components . units ;
		
	field level_id
		links_to mlp_level . level_id ;
		
	field min_limit
		links_to mlp_values . min_limit ;
		
	field max_limit
		links_to mlp_values . max_limit ;
		
	field text
		links_to result . text ;
		
	field boolean_pass
		links_to mlp_values . boolean_pass ;
		
	field result_type
		links_to result . result_type ;
		
	field true_word
		links_to result . true_word ;
		
	field id_text
		links_to sample . id_text ;
		
	field status
		links_to result . status ;
		
	field component_order_number
		links_to component_view . order_number ;
		
oracle_specific_select

	   SELECT BATCH_HEADER.IDENTITY,
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  COMPONENT_VIEW.NAME,
		  COMPONENT_VIEW.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
	     COMPONENT_VIEW,
		  TEST,
		  SAMPLE
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		  ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) and
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE )
	 UNION
	  SELECT BATCH_HEADER.IDENTITY,
			 BATCH_ENTRY.TEST,
		 BATCH_ENTRY.ORDER_NUMBER,
		 BATCH_ENTRY.TYPE,
		 COMPONENT_VIEW.NAME,
		 COMPONENT_VIEW.UNITS,
		 'XXXXXXXXXX',
		 'XXXXXXXXXX',
		 'XXXXXXXXXX',
		 RESULT.TEXT,
		  'X',
		 RESULT.RESULT_TYPE,
		 RESULT.TRUE_WORD,
		 SAMPLE.ID_TEXT,
		 RESULT.STATUS,
		 COMPONENT_VIEW.ORDER_NUMBER
	    FROM BATCH_ENTRY,
		 BATCH_HEADER,
		 TEST,
		 COMPONENT_VIEW,
		 SAMPLE,
		 RESULT
	   WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		 ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
		 ( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		 ( RESULT.NAME = COMPONENT_VIEW.NAME )
	UNION
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  'XXXXXXXXXX',
		  MLP_VALUES.BOOLEAN_PASS,
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	UNION
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  RESULT.TEXT,
		  MLP_VALUES.BOOLEAN_PASS,
		  RESULT.RESULT_TYPE,
		  RESULT.TRUE_WORD,
		  SAMPLE.ID_TEXT,
		  RESULT.STATUS,
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	MINUS
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  COMPONENT_VIEW.NAME,
		  COMPONENT_VIEW.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		    COMPONENT_VIEW,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) and
		  ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
	     ( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
	     ( RESULT.NAME = COMPONENT_VIEW.NAME )

	MINUS

	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
	     COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )

	MINUS
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  RESULT.TEXT,
		  'X',
		  RESULT.RESULT_TYPE,
		  RESULT.TRUE_WORD,
		  SAMPLE.ID_TEXT,
		  RESULT.STATUS,
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
	     ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )

	MINUS
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  'XXXXXXXXXX',
		  MLP_VALUES.BOOLEAN_PASS,
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
	     ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME ) ;

sqlserver_specific_select

	   SELECT BATCH_HEADER.[IDENTITY],
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  COMPONENT_VIEW.NAME,
		  COMPONENT_VIEW.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
	     COMPONENT_VIEW,
		  TEST,
		  SAMPLE
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		  ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) and
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE )
	 UNION
	  SELECT BATCH_HEADER.[IDENTITY],
			 BATCH_ENTRY.TEST,
		 BATCH_ENTRY.ORDER_NUMBER,
		 BATCH_ENTRY.TYPE,
		 COMPONENT_VIEW.NAME,
		 COMPONENT_VIEW.UNITS,
		 'XXXXXXXXXX',
		 'XXXXXXXXXX',
		 'XXXXXXXXXX',
		 RESULT.TEXT,
		  'X',
		 RESULT.RESULT_TYPE,
		 RESULT.TRUE_WORD,
		 SAMPLE.ID_TEXT,
		 RESULT.STATUS,
		 COMPONENT_VIEW.ORDER_NUMBER
	    FROM BATCH_ENTRY,
		 BATCH_HEADER,
		 TEST,
		 COMPONENT_VIEW,
		 SAMPLE,
		 RESULT
	   WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		 ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
		 ( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		 ( RESULT.NAME = COMPONENT_VIEW.NAME )
	UNION
	   SELECT BATCH_HEADER.[IDENTITY],
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  'XXXXXXXXXX',
		  MLP_VALUES.BOOLEAN_PASS,
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.[IDENTITY] = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	UNION
	   SELECT BATCH_HEADER.[IDENTITY],
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  RESULT.TEXT,
		  MLP_VALUES.BOOLEAN_PASS,
		  RESULT.RESULT_TYPE,
		  RESULT.TRUE_WORD,
		  SAMPLE.ID_TEXT,
		  RESULT.STATUS,
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.[IDENTITY] = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	EXCEPT
	   SELECT BATCH_HEADER.[IDENTITY],
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  COMPONENT_VIEW.NAME,
		  COMPONENT_VIEW.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		    COMPONENT_VIEW,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) and
		  ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
	     ( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
	     ( RESULT.NAME = COMPONENT_VIEW.NAME )

	EXCEPT

	   SELECT BATCH_HEADER.[IDENTITY],
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
	     COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.[IDENTITY] = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )

	EXCEPT
	   SELECT BATCH_HEADER.[IDENTITY],
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  RESULT.TEXT,
		  'X',
		  RESULT.RESULT_TYPE,
		  RESULT.TRUE_WORD,
		  SAMPLE.ID_TEXT,
		  RESULT.STATUS,
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.[IDENTITY] = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
	     ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )

	EXCEPT
	   SELECT BATCH_HEADER.[IDENTITY],
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  'XXXXXXXXXX',
		  MLP_VALUES.BOOLEAN_PASS,
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.[IDENTITY] = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
	     ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME ) ;
     
postgresql_specific_select

	   SELECT BATCH_HEADER.IDENTITY,
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  COMPONENT_VIEW.NAME,
		  COMPONENT_VIEW.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
	     COMPONENT_VIEW,
		  TEST,
		  SAMPLE
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		  ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) and
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE )
	 UNION
	  SELECT BATCH_HEADER.IDENTITY,
			 BATCH_ENTRY.TEST,
		 BATCH_ENTRY.ORDER_NUMBER,
		 BATCH_ENTRY.TYPE,
		 COMPONENT_VIEW.NAME,
		 COMPONENT_VIEW.UNITS,
		 'XXXXXXXXXX',
		 'XXXXXXXXXX',
		 'XXXXXXXXXX',
		 RESULT.TEXT,
		  'X',
		 RESULT.RESULT_TYPE,
		 RESULT.TRUE_WORD,
		 SAMPLE.ID_TEXT,
		 RESULT.STATUS,
		 COMPONENT_VIEW.ORDER_NUMBER
	    FROM BATCH_ENTRY,
		 BATCH_HEADER,
		 TEST,
		 COMPONENT_VIEW,
		 SAMPLE,
		 RESULT
	   WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		 ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
		 ( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		 ( RESULT.NAME = COMPONENT_VIEW.NAME )
	UNION
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  'XXXXXXXXXX',
		  MLP_VALUES.BOOLEAN_PASS,
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	UNION
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  RESULT.TEXT,
		  MLP_VALUES.BOOLEAN_PASS,
		  RESULT.RESULT_TYPE,
		  RESULT.TRUE_WORD,
		  SAMPLE.ID_TEXT,
		  RESULT.STATUS,
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	EXCEPT
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  COMPONENT_VIEW.NAME,
		  COMPONENT_VIEW.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		    COMPONENT_VIEW,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) and
		  ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
	     ( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
	     ( RESULT.NAME = COMPONENT_VIEW.NAME )

	EXCEPT

	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
	     COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )

	EXCEPT
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  RESULT.TEXT,
		  'X',
		  RESULT.RESULT_TYPE,
		  RESULT.TRUE_WORD,
		  SAMPLE.ID_TEXT,
		  RESULT.STATUS,
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
	     ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )

	EXCEPT
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  'XXXXXXXXXX',
		  MLP_VALUES.BOOLEAN_PASS,
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
	     ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME ) ;

{*******************************************************************************
* Report View r_batch_tmpl_components_list
*******************************************************************************}

view r_batch_tmpl_components_list on_table component_view ;

	field identity
		links_to mlp_header . identity;
	field level_id
		links_to mlp_values . level_id;
	field min_limit
		links_to mlp_values . min_limit;
	field max_limit
		links_to mlp_values . max_limit;
	field boolean_pass
		links_to mlp_values . boolean_pass ;
	field component_name
		links_to mlp_components . component_name ;
	field component_type 
		links_to mlp_components . component_type ;
	field places
		links_to mlp_components . places ;
	field units
		links_to mlp_components . units ;
	field order_number
		links_to versioned_c_l_entry . order_number ;
	field replicate_count
		links_to versioned_c_l_entry . replicate_count ;
	field result_entry
		links_to versioned_c_l_entry . result_entry ;
	field create_always 
		links_to versioned_c_l_entry . create_always ;
	field analysis_version
		links_to versioned_c_l_entry . analysis_version ;
	field spike_value
		links_to versioned_c_l_entry . spike_value ;
	field analysis
		links_to BATCH_TMPL_HEADER.ANALYSIS ;

oracle_specific_select

	SELECT 		MLP_HEADER.IDENTITY,
		MLP_VALUES.LEVEL_ID ,
		'XXXXX',
		'XXXXX',
		'X',
		COMPONENT_VIEW.NAME,
		COMPONENT_VIEW.RESULT_TYPE,
		COMPONENT_VIEW.PLACES,
		COMPONENT_VIEW.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		COMPONENT_VIEW , 
		MLP_VALUES , 
		MLP_HEADER,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	COMPONENT_VIEW.ANALYSIS = BATCH_TMPL_HEADER.ANALYSIS AND
	      	MLP_VALUES.ENTRY_CODE = MLP_HEADER.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = COMPONENT_VIEW.ANALYSIS and
		VERSIONED_C_L_ENTRY.NAME = COMPONENT_VIEW.NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_HEADER.IDENTITY AND
		BATCH_TMPL_HEADER.IDENTITY = MLP_HEADER.IDENTITY
	UNION
	SELECT		MLP_COMPONENTS.PRODUCT_ID,
		MLP_VALUES.LEVEL_ID ,
		MLP_VALUES.MIN_LIMIT ,
		MLP_VALUES.MAX_LIMIT ,
		MLP_VALUES.BOOLEAN_PASS ,
		MLP_COMPONENTS.COMPONENT_NAME,
		MLP_COMPONENTS.COMPONENT_TYPE,
		MLP_COMPONENTS.PLACES,
		MLP_COMPONENTS.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		MLP_COMPONENTS , 
		MLP_VALUES,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	MLP_COMPONENTS.ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  AND
		MLP_COMPONENTS.PRODUCT_VERSION = ( SELECT MAX ( PRODUCT_VERSION )
		                                     FROM MLP_COMPONENTS
		                                    WHERE ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  ) AND
      	MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = MLP_COMPONENTS.ANALYSIS_ID and
		VERSIONED_C_L_ENTRY.NAME = MLP_COMPONENTS.COMPONENT_NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_COMPONENTS.PRODUCT_ID AND
		BATCH_TMPL_HEADER.IDENTITY = MLP_COMPONENTS.PRODUCT_ID
	MINUS
	SELECT		MLP_COMPONENTS.PRODUCT_ID,
		MLP_VALUES.LEVEL_ID ,
		'XXXXX',
		'XXXXX',
		'X',
		MLP_COMPONENTS.COMPONENT_NAME,
		MLP_COMPONENTS.COMPONENT_TYPE,
		MLP_COMPONENTS.PLACES,
		MLP_COMPONENTS.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		MLP_COMPONENTS , 
		MLP_VALUES,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	MLP_COMPONENTS.ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS AND
		MLP_COMPONENTS.PRODUCT_VERSION = ( SELECT MAX ( PRODUCT_VERSION )
		                                     FROM MLP_COMPONENTS
		                                    WHERE ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  ) AND
	      	MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = MLP_COMPONENTS.ANALYSIS_ID and
		VERSIONED_C_L_ENTRY.NAME = MLP_COMPONENTS.COMPONENT_NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_COMPONENTS.PRODUCT_ID AND
		BATCH_TMPL_HEADER.IDENTITY = MLP_COMPONENTS.PRODUCT_ID ;

sqlserver_specific_select

	SELECT 		MLP_HEADER.[IDENTITY],
		MLP_VALUES.LEVEL_ID ,
		'XXXXX',
		'XXXXX',
		'X',
		COMPONENT_VIEW.NAME,
		COMPONENT_VIEW.RESULT_TYPE,
		COMPONENT_VIEW.PLACES,
		COMPONENT_VIEW.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		COMPONENT_VIEW , 
		MLP_VALUES , 
		MLP_HEADER,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	COMPONENT_VIEW.ANALYSIS = BATCH_TMPL_HEADER.ANALYSIS AND
	      	MLP_VALUES.ENTRY_CODE = MLP_HEADER.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = COMPONENT_VIEW.ANALYSIS and
		VERSIONED_C_L_ENTRY.NAME = COMPONENT_VIEW.NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_HEADER.[IDENTITY] AND
		BATCH_TMPL_HEADER.[IDENTITY] = MLP_HEADER.[IDENTITY]
	UNION
	SELECT		MLP_COMPONENTS.PRODUCT_ID,
		MLP_VALUES.LEVEL_ID ,
		MLP_VALUES.MIN_LIMIT ,
		MLP_VALUES.MAX_LIMIT ,
		MLP_VALUES.BOOLEAN_PASS ,
		MLP_COMPONENTS.COMPONENT_NAME,
		MLP_COMPONENTS.COMPONENT_TYPE,
		MLP_COMPONENTS.PLACES,
		MLP_COMPONENTS.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		MLP_COMPONENTS , 
		MLP_VALUES,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	MLP_COMPONENTS.ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  AND
		MLP_COMPONENTS.PRODUCT_VERSION = ( SELECT MAX ( PRODUCT_VERSION )
		                                     FROM MLP_COMPONENTS
		                                    WHERE ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  ) AND
      	MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = MLP_COMPONENTS.ANALYSIS_ID and
		VERSIONED_C_L_ENTRY.NAME = MLP_COMPONENTS.COMPONENT_NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_COMPONENTS.PRODUCT_ID AND
		BATCH_TMPL_HEADER.[IDENTITY] = MLP_COMPONENTS.PRODUCT_ID
	EXCEPT
	SELECT		MLP_COMPONENTS.PRODUCT_ID,
		MLP_VALUES.LEVEL_ID ,
		'XXXXX',
		'XXXXX',
		'X',
		MLP_COMPONENTS.COMPONENT_NAME,
		MLP_COMPONENTS.COMPONENT_TYPE,
		MLP_COMPONENTS.PLACES,
		MLP_COMPONENTS.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		MLP_COMPONENTS , 
		MLP_VALUES,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	MLP_COMPONENTS.ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS AND
		MLP_COMPONENTS.PRODUCT_VERSION = ( SELECT MAX ( PRODUCT_VERSION )
		                                     FROM MLP_COMPONENTS
		                                    WHERE ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  ) AND
	      	MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = MLP_COMPONENTS.ANALYSIS_ID and
		VERSIONED_C_L_ENTRY.NAME = MLP_COMPONENTS.COMPONENT_NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_COMPONENTS.PRODUCT_ID AND
		BATCH_TMPL_HEADER.[IDENTITY] = MLP_COMPONENTS.PRODUCT_ID ;

postgresql_specific_select

	SELECT 		MLP_HEADER.IDENTITY,
		MLP_VALUES.LEVEL_ID ,
		'XXXXX',
		'XXXXX',
		'X',
		COMPONENT_VIEW.NAME,
		COMPONENT_VIEW.RESULT_TYPE,
		COMPONENT_VIEW.PLACES,
		COMPONENT_VIEW.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		COMPONENT_VIEW , 
		MLP_VALUES , 
		MLP_HEADER,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	COMPONENT_VIEW.ANALYSIS = BATCH_TMPL_HEADER.ANALYSIS AND
	      	MLP_VALUES.ENTRY_CODE = MLP_HEADER.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = COMPONENT_VIEW.ANALYSIS and
		VERSIONED_C_L_ENTRY.NAME = COMPONENT_VIEW.NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_HEADER.IDENTITY AND
		BATCH_TMPL_HEADER.IDENTITY = MLP_HEADER.IDENTITY
	UNION
	SELECT		MLP_COMPONENTS.PRODUCT_ID,
		MLP_VALUES.LEVEL_ID ,
		MLP_VALUES.MIN_LIMIT ,
		MLP_VALUES.MAX_LIMIT ,
		MLP_VALUES.BOOLEAN_PASS ,
		MLP_COMPONENTS.COMPONENT_NAME,
		MLP_COMPONENTS.COMPONENT_TYPE,
		MLP_COMPONENTS.PLACES,
		MLP_COMPONENTS.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		MLP_COMPONENTS , 
		MLP_VALUES,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	MLP_COMPONENTS.ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  AND
		MLP_COMPONENTS.PRODUCT_VERSION = ( SELECT MAX ( PRODUCT_VERSION )
		                                     FROM MLP_COMPONENTS
		                                    WHERE ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  ) AND
      	MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = MLP_COMPONENTS.ANALYSIS_ID and
		VERSIONED_C_L_ENTRY.NAME = MLP_COMPONENTS.COMPONENT_NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_COMPONENTS.PRODUCT_ID AND
		BATCH_TMPL_HEADER.IDENTITY = MLP_COMPONENTS.PRODUCT_ID
	EXCEPT
	SELECT		MLP_COMPONENTS.PRODUCT_ID,
		MLP_VALUES.LEVEL_ID ,
		'XXXXX',
		'XXXXX',
		'X',
		MLP_COMPONENTS.COMPONENT_NAME,
		MLP_COMPONENTS.COMPONENT_TYPE,
		MLP_COMPONENTS.PLACES,
		MLP_COMPONENTS.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		MLP_COMPONENTS , 
		MLP_VALUES,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	MLP_COMPONENTS.ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS AND
		MLP_COMPONENTS.PRODUCT_VERSION = ( SELECT MAX ( PRODUCT_VERSION )
		                                     FROM MLP_COMPONENTS
		                                    WHERE ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  ) AND
	      	MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = MLP_COMPONENTS.ANALYSIS_ID and
		VERSIONED_C_L_ENTRY.NAME = MLP_COMPONENTS.COMPONENT_NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_COMPONENTS.PRODUCT_ID AND
		BATCH_TMPL_HEADER.IDENTITY = MLP_COMPONENTS.PRODUCT_ID ;

{*******************************************************************************
* Report View r_sample_worksheet
*******************************************************************************}

view r_sample_worksheet ;

	field worksheet
		links_to worksheet . identity;
	field sample
		links_to test . sample ;
	field test_number
		links_to test . test_number ;
	field analysis
		links_to test . analysis ;
	field test_count
		links_to test . test_count ;
	field name
		links_to result . name ;
	field units
		links_to result . units ;
	field result_type
		links_to result . result_type ;
	field true_word
		links_to result . true_word ;
	field false_word
		links_to result . false_word ;
	field order_number
		links_to result . order_number ;
	field id_text 
		links_to sample . id_text ;
	field date_generated
		links_to worksheet . date_generated ;
	field assigned_operator
		links_to worksheet . assigned_operator ;
	field text
		links_to result . text ;
		
select_clause

	SELECT 
		WORKSHEET.[IDENTITY],
		TEST.SAMPLE,
		TEST.TEST_NUMBER,
		TEST.ANALYSIS,
		TEST.TEST_COUNT,
		RESULT.NAME,
		RESULT.UNITS,
		RESULT.RESULT_TYPE,
		RESULT.TRUE_WORD,
		RESULT.FALSE_WORD,
		RESULT.ORDER_NUMBER,
		SAMPLE.ID_TEXT,
		WORKSHEET.DATE_GENERATED,
		WORKSHEET.ASSIGNED_OPERATOR,
		RESULT.TEXT
	FROM WORKSHEET , TEST, SAMPLE, RESULT
	WHERE 	TEST.WORKSHEET = WORKSHEET.LINK_NUMBER AND
		TEST.SAMPLE = SAMPLE.ID_NUMERIC AND
		TEST.TEST_NUMBER = RESULT.TEST_NUMBER 

UNION

	SELECT DISTINCT
		W2.[IDENTITY],
		T2.SAMPLE,
		T2.TEST_NUMBER,
		T2.ANALYSIS,
		T2.TEST_COUNT,
		VC2.NAME,
		VC2.UNITS,
		VC2.RESULT_TYPE,
		VC2.TRUE_WORD,
		VC2.FALSE_WORD,
		VC2.ORDER_NUMBER,
		S2.ID_TEXT,
		W2.DATE_GENERATED,
		W2.ASSIGNED_OPERATOR,
		' '
	FROM WORKSHEET W2
	JOIN TEST T2 ON T2.WORKSHEET = W2.LINK_NUMBER
	JOIN SAMPLE S2 ON T2.SAMPLE = S2.ID_NUMERIC 
	JOIN VERSIONED_COMPONENT VC2 ON VC2.ANALYSIS = T2.ANALYSIS AND
				     VC2.ANALYSIS_VERSION = T2.ANALYSIS_VERSION
  	 WHERE 	VC2.NAME NOT IN ( SELECT NAME FROM RESULT R2 WHERE R2.TEST_NUMBER = T2.TEST_NUMBER ) AND
		T2.HAS_RESULT_LIST = 'F' ;


{*******************************************************************************
* Report View r_work_profile_components_list
*******************************************************************************}
		
view r_work_profile_components_list ;

	field identity
		links_to test_sched_entry . identity;
		
	field analysis
		links_to versioned_c_l_header . analysis ;
		
	field analysis_version
		links_to versioned_c_l_header . analysis_version ;
		
	field component_name
		links_to versioned_c_l_entry . name ;
		
	field order_number
		links_to versioned_c_l_entry . order_number ;
		
	field units
		links_to versioned_component . units ;
		
	field places
		links_to versioned_component . places ;
		
	field result_type
		links_to versioned_component . result_type ;
		
	field level_id
		links_to mlp_values . level_id ;
		
	field min_limit
		links_to mlp_values . min_limit ;
		
	field max_limit
		links_to mlp_values . max_limit ;
		
	field boolean_pass
		links_to mlp_values . boolean_pass ;
		
	field instrument
		links_to test_sched_entry . instrument_id ;

oracle_specific_select

	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_HEADER , TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST
	UNION
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',                                                       /*93.0*/
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER,VERSIONED_COMPONENT ,TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME 
	UNION
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       MLP_VALUES.LEVEL_ID ,
	       MLP_VALUES.MIN_LIMIT ,
	       MLP_VALUES.MAX_LIMIT,
	       MLP_VALUES.BOOLEAN_PASS,
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES ,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME
	MINUS
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME
	MINUS
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER,VERSIONED_COMPONENT , TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST
	MINUS
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME ;

sqlserver_specific_select

	SELECT TEST_SCHED_ENTRY.[IDENTITY],
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_HEADER , TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST
	UNION
	SELECT TEST_SCHED_ENTRY.[IDENTITY],
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER,VERSIONED_COMPONENT ,TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME 
	UNION
	SELECT TEST_SCHED_ENTRY.[IDENTITY],
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       MLP_VALUES.LEVEL_ID ,
	       MLP_VALUES.MIN_LIMIT ,
	       MLP_VALUES.MAX_LIMIT,
	       MLP_VALUES.BOOLEAN_PASS,
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES ,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME
	EXCEPT
	SELECT TEST_SCHED_ENTRY.[IDENTITY],
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME
	EXCEPT
	SELECT TEST_SCHED_ENTRY.[IDENTITY],
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER,VERSIONED_COMPONENT , TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST
	EXCEPT
	SELECT TEST_SCHED_ENTRY.[IDENTITY],
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME ;
      
postgresql_specific_select

	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_HEADER , TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST
	UNION
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER,VERSIONED_COMPONENT ,TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME 
	UNION
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       MLP_VALUES.LEVEL_ID ,
	       MLP_VALUES.MIN_LIMIT ,
	       MLP_VALUES.MAX_LIMIT,
	       MLP_VALUES.BOOLEAN_PASS,
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES ,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME
	EXCEPT
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME
	EXCEPT
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER,VERSIONED_COMPONENT , TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST
	EXCEPT
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME ;

{*******************************************************************************
* Report View r_worksheet
*******************************************************************************}

view r_worksheet ;

	field worksheet 
		links_to worksheet . identity ;
		
	field description
		links_to versioned_analysis . description ;
		
	field minimum
		links_to versioned_component . minimum ;
		
	field maximum
		links_to versioned_component . maximum ;

	field units
		links_to versioned_component . units ;
		
	field name
		links_to versioned_component . name ;

	field calculation
		links_to versioned_analysis . calculation ;

	field analysis
		links_to versioned_analysis . identity ;
	
	field result_type
		links_to versioned_component . result_type ;

	field true_word
		links_to versioned_component . true_word ;

	field false_word
		links_to versioned_component . false_word ;
		
	field operator
		links_to worksheet . assigned_operator ;

	field date_generated
		links_to worksheet . date_generated ;

	field personnel
		links_to personnel . description ;

	field order_number
		links_to versioned_component . order_number ;

oracle_specific_select

	 SELECT WORKSHEET.IDENTITY,
		VERSIONED_ANALYSIS.DESCRIPTION,
		99999999.9,
		99999999.9,
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.IDENTITY,
		'X',
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		'XXXXXXXXXX'
	   FROM VERSIONED_ANALYSIS,
		WORKSHEET
	   LEFT OUTER JOIN PERSONNEL ON PERSONNEL.IDENTITY = WORKSHEET.ASSIGNED_OPERATOR 
	  WHERE ( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) 

	UNION

	 SELECT WORKSHEET.IDENTITY,
		VERSIONED_ANALYSIS.DESCRIPTION,
		VERSIONED_COMPONENT.MINIMUM,
		VERSIONED_COMPONENT.MAXIMUM,
		VERSIONED_COMPONENT.UNITS,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.IDENTITY,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		VERSIONED_COMPONENT.ORDER_NUMBER
	   FROM VERSIONED_ANALYSIS,
		VERSIONED_COMPONENT,
		WORKSHEET
	 LEFT OUTER JOIN PERSONNEL ON PERSONNEL.IDENTITY = WORKSHEET.ASSIGNED_OPERATOR
	  WHERE ( VERSIONED_COMPONENT.ANALYSIS = VERSIONED_ANALYSIS.IDENTITY ) AND
		( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) AND
		( VERSIONED_COMPONENT.ANALYSIS_VERSION = '         1' )

	MINUS

	 SELECT WORKSHEET.IDENTITY,
		VERSIONED_ANALYSIS.DESCRIPTION,
		99999999.9,
		99999999.9,
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.IDENTITY,
		'X',
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		'XXXXXXXXXX'
	   FROM VERSIONED_ANALYSIS,
		VERSIONED_COMPONENT,
		WORKSHEET
	LEFT OUTER JOIN PERSONNEL ON PERSONNEL.IDENTITY = WORKSHEET.ASSIGNED_OPERATOR
	  WHERE ( VERSIONED_COMPONENT.ANALYSIS = VERSIONED_ANALYSIS.IDENTITY ) AND
		( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) AND
		( VERSIONED_COMPONENT.ANALYSIS_VERSION = '         1' ) ;

sqlserver_specific_select

	 SELECT WORKSHEET.[IDENTITY],
		VERSIONED_ANALYSIS.DESCRIPTION,
		99999999.9,
		99999999.9,
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.[IDENTITY],
		'X',
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		'XXXXXXXXXX'
	   FROM VERSIONED_ANALYSIS,
		WORKSHEET
	   LEFT OUTER JOIN PERSONNEL ON PERSONNEL.[IDENTITY] = WORKSHEET.ASSIGNED_OPERATOR 
	  WHERE ( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) 

	UNION

	 SELECT WORKSHEET.[IDENTITY],
		VERSIONED_ANALYSIS.DESCRIPTION,
		VERSIONED_COMPONENT.MINIMUM,
		VERSIONED_COMPONENT.MAXIMUM,
		VERSIONED_COMPONENT.UNITS,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.[IDENTITY],
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		VERSIONED_COMPONENT.ORDER_NUMBER
	   FROM VERSIONED_ANALYSIS,
		VERSIONED_COMPONENT,
		WORKSHEET
	 LEFT OUTER JOIN PERSONNEL ON PERSONNEL.[IDENTITY] = WORKSHEET.ASSIGNED_OPERATOR
	  WHERE ( VERSIONED_COMPONENT.ANALYSIS = VERSIONED_ANALYSIS.[IDENTITY] ) AND
		( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) AND
		( VERSIONED_COMPONENT.ANALYSIS_VERSION = '         1' )

	EXCEPT

	 SELECT WORKSHEET.[IDENTITY],
		VERSIONED_ANALYSIS.DESCRIPTION,
		99999999.9,
		99999999.9,
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.[IDENTITY],
		'X',
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		'XXXXXXXXXX'
	   FROM VERSIONED_ANALYSIS,
		VERSIONED_COMPONENT,
		WORKSHEET
	LEFT OUTER JOIN PERSONNEL ON PERSONNEL.[IDENTITY] = WORKSHEET.ASSIGNED_OPERATOR
	  WHERE ( VERSIONED_COMPONENT.ANALYSIS = VERSIONED_ANALYSIS.[IDENTITY] ) AND
		( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) AND
		( VERSIONED_COMPONENT.ANALYSIS_VERSION = '         1' ) ;

postgresql_specific_select

	 SELECT WORKSHEET.IDENTITY,
		VERSIONED_ANALYSIS.DESCRIPTION,
		99999999.9,
		99999999.9,
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.IDENTITY,
		'X',
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		'XXXXXXXXXX'
	   FROM VERSIONED_ANALYSIS,
		WORKSHEET
	   LEFT OUTER JOIN PERSONNEL ON PERSONNEL.IDENTITY = WORKSHEET.ASSIGNED_OPERATOR 
	  WHERE ( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) 

	UNION

	 SELECT WORKSHEET.IDENTITY,
		VERSIONED_ANALYSIS.DESCRIPTION,
		VERSIONED_COMPONENT.MINIMUM,
		VERSIONED_COMPONENT.MAXIMUM,
		VERSIONED_COMPONENT.UNITS,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.IDENTITY,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		VERSIONED_COMPONENT.ORDER_NUMBER
	   FROM VERSIONED_ANALYSIS,
		VERSIONED_COMPONENT,
		WORKSHEET
	 LEFT OUTER JOIN PERSONNEL ON PERSONNEL.IDENTITY = WORKSHEET.ASSIGNED_OPERATOR
	  WHERE ( VERSIONED_COMPONENT.ANALYSIS = VERSIONED_ANALYSIS.IDENTITY ) AND
		( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) AND
		( VERSIONED_COMPONENT.ANALYSIS_VERSION = '         1' )

	EXCEPT

	 SELECT WORKSHEET.IDENTITY,
		VERSIONED_ANALYSIS.DESCRIPTION,
		99999999.9,
		99999999.9,
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.IDENTITY,
		'X',
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		'XXXXXXXXXX'
	   FROM VERSIONED_ANALYSIS,
		VERSIONED_COMPONENT,
		WORKSHEET
	LEFT OUTER JOIN PERSONNEL ON PERSONNEL.IDENTITY = WORKSHEET.ASSIGNED_OPERATOR
	  WHERE ( VERSIONED_COMPONENT.ANALYSIS = VERSIONED_ANALYSIS.IDENTITY ) AND
		( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) AND
		( VERSIONED_COMPONENT.ANALYSIS_VERSION = '         1' ) ;

{*******************************************************************************
* Report View r_worksheet_body
*******************************************************************************}      

view r_worksheet_body ;

	field worksheet
		links_to worksheet . identity ;
		
	field id_numeric
		links_to test . sample ;
		
	field test_count
		links_to test . test_count ;
		
	field test_number
		links_to test . test_number ;
		
	field id_text
		links_to sample . id_text ;
		
	field name
		links_to versioned_component . name ;
	

	field order_number
		links_to versioned_component . order_number ;
		
	field result_type
		links_to versioned_component . result_type ;
		
	field true_word
		links_to versioned_component . true_word ;
		
	field false_word
		links_to versioned_component . false_word ;
		
	field units
		links_to versioned_component . units ;
		
	field result_text
		links_to result . text ;

oracle_specific_select

	 SELECT WORKSHEET.IDENTITY,
		TEST.SAMPLE,   
		TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		'XXXXXXXXXX'
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION )

	UNION

	  SELECT WORKSHEET.IDENTITY,
		 TEST.SAMPLE,   
		 TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		 SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		RESULT.TEXT
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT,
		RESULT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION ) AND
		( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		( RESULT.NAME = VERSIONED_COMPONENT.NAME)

	MINUS

	  SELECT WORKSHEET.IDENTITY,
		 TEST.SAMPLE,   
		 TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		 SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		'XXXXXXXXXX'
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT,
		RESULT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND 
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION ) AND
		( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		( RESULT.NAME = VERSIONED_COMPONENT.NAME) ;
	
sqlserver_specific_select

	 SELECT WORKSHEET.[IDENTITY],
		TEST.SAMPLE,   
		TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		'XXXXXXXXXX'
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION )

	UNION

	  SELECT WORKSHEET.[IDENTITY],
		 TEST.SAMPLE,   
		 TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		 SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		RESULT.TEXT
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT,
		RESULT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION ) AND
		( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		( RESULT.NAME = VERSIONED_COMPONENT.NAME)

	EXCEPT

	  SELECT WORKSHEET.[IDENTITY],
		 TEST.SAMPLE,   
		 TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		 SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		'XXXXXXXXXX'
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT,
		RESULT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND 
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION ) AND
		( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		( RESULT.NAME = VERSIONED_COMPONENT.NAME) ;
			
postgresql_specific_select

	 SELECT WORKSHEET.IDENTITY,
		TEST.SAMPLE,   
		TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		'XXXXXXXXXX'
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION )

	UNION

	  SELECT WORKSHEET.IDENTITY,
		 TEST.SAMPLE,   
		 TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		 SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		RESULT.TEXT
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT,
		RESULT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION ) AND
		( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		( RESULT.NAME = VERSIONED_COMPONENT.NAME)

	EXCEPT

	  SELECT WORKSHEET.IDENTITY,
		 TEST.SAMPLE,   
		 TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		 SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		'XXXXXXXXXX'
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT,
		RESULT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND 
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION ) AND
		( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		( RESULT.NAME = VERSIONED_COMPONENT.NAME) ;
	
table instrument_template;

	field identity
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field name
		datatype text ( 100 )
		used_for primary_browse, name;

	field group_id alias group
		used_for security_id
		links_to group_header . identity;

	field description
		datatype text ( 255 )
		used_for display_browse ( 2 );

	field modifiable datatype boolean
		used_for modifiable;

	field modified_on datatype date
		used_for modified_on;

	field modified_by links_to personnel.identity
		used_for modified_by;

	field removeflag datatype boolean
		used_for remove_flag;

	field instructions
		datatype text ( 255 );    

	field sop_reference
		datatype text(100);	

	field manufacturer
		links_to supplier.identity;

	field operator_id alias operator
		links_to personnel . identity;

	field requires_calibration
		datatype boolean;

	field calibration_plan
		datatype text ( 255 );

	field calib_contractor
		links_to supplier.identity;

	field calib_lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field calib_sample_template
		links_to samp_tmpl_header.identity;

	field requires_servicing
		datatype boolean;

	field service_intv
		datatype interval
		lower_limit '0 00:00:00.00';

	field service_contractor
		links_to supplier.identity;

	field service_lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field instrument_category
		links_to instrument_category . identity;

	field custom_icon
		links_to icon . identity 
		default 'INT_INST_TMP';

	field use_maintenance
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T';

table instrument_part_template;

	field identity
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field name
		datatype text ( 100 )
		used_for primary_browse, name;

	field group_id alias group
		used_for security_id
		links_to group_header . identity;

	field description
		datatype text ( 255 )
		used_for display_browse ( 2 );

	field modifiable datatype boolean
		used_for modifiable;

	field modified_on datatype date
		used_for modified_on;

	field modified_by links_to personnel.identity
		used_for modified_by;

	field removeflag datatype boolean
		used_for remove_flag;       

	field instructions
		datatype text ( 255 ); 

	field sop_reference
		datatype text(100);

	field operator_id alias operator
		links_to personnel . identity;

	field manufacturer
		links_to supplier.identity;    

	field requires_calibration
		datatype boolean;

	field calibration_plan
		datatype text ( 255 );

	field calib_contractor
		links_to supplier.identity;

	field calib_lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field requires_servicing
		datatype boolean;

	field service_interval
		datatype interval
		lower_limit '0 00:00:00.00';

	field service_contractor
		links_to supplier.identity;

	field service_lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field use_maintenance
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T';

table instrument_part_link_template noindex;

	field instrument_template
		links_to parent instrument_template.identity
		used_for unique_key;

	field instrument_part_template
		links_to instrument_part_template.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field mandatory
		datatype boolean;

index inst_part_link_temp_inst on instrument_template, instrument_part_template;
index inst_part_link_temp_part on instrument_part_template, instrument_template;


table instrument_property_template;

	field instrument_template
		links_to parent instrument_template.identity
		used_for unique_key;

	field identity
		links_to result.name
		used_for unique_key;

	field property_type
		datatype identity
		prompt_type choose
		choose_type INST_PROP
		default 'CONSTANT';

	field value
		datatype text (255);

	field units
	      links_to unit_header.identity;


table instrument_part ;

	field identity
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field name
		datatype text ( 100 )
		used_for primary_browse, name;

	field group_id alias group
		used_for security_id
		links_to group_header . identity;

	field description
		datatype text ( 255 )
		used_for display_browse ( 2 );

	field modifiable datatype boolean
		used_for modifiable;

	field modified_on datatype date
		used_for modified_on;

	field modified_by links_to personnel.identity
		used_for modified_by;

	field removeflag datatype boolean
		used_for remove_flag;       

	field status
		prompt_type choose
		choose_type INSTP_STAT
		default'U'
		datatype text ( 1 );

	field manufacturer
		links_to supplier.identity;        

	field template
		links_to instrument_part_template.identity;

	field serial_no
		datatype text ( 78 );

	field instructions
		datatype text ( 255 );

	field location_id alias location
		links_to location . identity;

	field available
		datatype boolean
		true_word 'Yes'
		false_word 'No'
		default 'Yes' ;

	field retired
		datatype boolean
		true_word 'Yes'
		false_word 'No'
		default 'No' ;

	field operator_id alias operator
		links_to personnel . identity;

	field date_installed
		datatype date;

	field date_assigned
		datatype date;

	field sop_reference
		datatype text (100);

	field requires_calibration
		datatype boolean;

	field calibration_plan
		datatype text ( 255 );

	field last_calib_date
		datatype date;

	field next_calib_date
		datatype date;

	field calib_contractor
		links_to supplier.identity;

	field calib_lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field requires_servicing
		datatype boolean;

	field service_interval
		datatype interval
		lower_limit '0 00:00:00.00';

	field last_service_date
		datatype date;

	field next_service_date
		datatype date;

	field service_contractor
		links_to supplier.identity;

	field service_lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field use_maintenance
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T';

	field has_notebook_link
		datatype boolean
		used_for has_notebook_link;

table instrument_part_link noindex;

	field instrument
		links_to parent instrument.identity
		used_for unique_key;

	field instrument_part
		links_to instrument_part.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field instrument_part_template
		links_to instrument_part_template.identity;

	field mandatory
		datatype boolean;


index inst_part_link_inst on instrument, instrument_part;
index inst_part_link_part on instrument_part, instrument;
	
	
table instrument_event;

	field instrument
		links_to parent instrument.identity
		used_for unique_key;

	field identity
		datatype packed_decimal
		used_for unique_key, ordering;

	field event_type
		datatype identity
		prompt_type choose
		choose_type INST_EVNT;

	field comments
		datatype text(255);

	field entered_on
		datatype date;

	field entered_by
		links_to personnel.identity;


table instrument_part_event;

	field instrument_part
		links_to parent instrument_part.identity
		used_for unique_key;

	field identity
		datatype packed_decimal
		used_for unique_key, ordering;

	field event_type
		datatype identity
		prompt_type choose
		choose_type INSTP_EVNT;

	field comments
		datatype text(255);

	field entered_on
		datatype date;

	field entered_by
		links_to personnel.identity;


table instrument_property;

	field instrument
		links_to parent instrument.identity
		used_for unique_key;

	field identity
		links_to result.name
		used_for unique_key;

	field property_type
		datatype identity
		prompt_type choose
		choose_type INST_PROP
		default 'CONSTANT';

	field value
		datatype text (255);

	field units
	      links_to unit_header.identity;

	field modified_on datatype date
		used_for modified_on;

	field modified_by links_to personnel.identity
		used_for modified_by;


table instrument_calib_sample;

	field instrument
		links_to parent instrument.identity
		used_for unique_key;

	field order_num
		datatype packed_decimal
		used_for unique_key, ordering;

	field sample
		links_to sample . id_numeric;

	field modified_on datatype date
		used_for modified_on;

	field modified_by links_to personnel.identity
		used_for modified_by;


table maintenance;

	field maintenance_guid
		datatype guid
		used_for unique_key ;

	field table_name
		datatype text ( 30 );

	field record_key0
		datatype text ( 50 );

	field name
		datatype text ( 100 )
		used_for primary_browse, name;

	field description
		datatype text ( 234 )
		used_for display_browse(1);

	field type
		datatype identity
		prompt_type choose
		choose_type MNT_TYPE
		default 'GEN_MNT';

	field status
		datatype identity
		prompt_type choose
		choose_type MNT_STAT
		default 'V';

	field workflow_id
		links_to workflow . workflow_guid;

	field auto_login
		datatype boolean;

	field plan
		datatype text ( 255 );

	field lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field last_maintenance_date
		datatype date;

	field next_maintenance_date
		datatype date
		default '0'
		used_for display_browse(2);

	field use_completion_date
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T' ;

	field contractor
		links_to supplier.identity;

	field sample
		links_to sample.id_numeric;

	field owner
		links_to  personnel . identity;

	field has_attachments
		datatype boolean
		used_for has_attachments ;


table maintenance_sample;

	field maintenance
		links_to parent maintenance.maintenance_guid
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field sample
		links_to sample . id_numeric;

	field modified_on datatype date
		used_for modified_on;

	field modified_by links_to personnel.identity
		used_for modified_by;


table label_template;

	field identity
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;

	field version
		datatype packed_decimal
		default '         1'
		used_for unique_key, version_number, display_browse (2);

	field group_id
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text (234)
		used_for display_browse(3);

	field data_entity_definition
		datatype identity ( 50 );

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field is_devexpress
		datatype boolean
		true_word 'True'
		false_word 'False'
		default 'False';

	field label_specification
		links_to label_specification.identity ;

	field approval_status
		datatype text ( 1 )
		used_for display_browse ( 4 ) , approval_status
		default 'A'
		prompt_type choose
		choose_type APPR_STAT ;

	field inspection_plan
		links_to inspection_header . identity
		used_for inspection ;

	field active
		datatype boolean
		true_word 'True'
		false_word 'False'
		default 'True'
		used_for active_flag;

	field active_from
		datatype date
		used_for active_start_date;

	field active_to
		datatype date
		used_for active_end_date;

table schedule;

	field identity
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;

	field group_id
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text ( 234 )
		used_for display_browse ( 2 );

	field location
		links_to location.identity;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field start_date
		datatype date
		default '0';

	field end_date
		datatype date;

	field active
		datatype boolean;
		
	field schedule_group
		links_to schedule_group.identity;
	
	field calendar
		links_to schedule_calendar.identity;
		
	field schedule_group_controlled
		datatype boolean;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field use_workflow
		datatype boolean ;
		
	field assign_sow
		datatype boolean ;

	field job_template
		links_to job_template.identity;

	field filter_job
		datatype text( 500 )
		default 'GetDate( [DateToStart] ) == GetDate( ClientNow() )';

	field job_criteria_id
		links_to criteria_saved . identity as job_criteria
		default 'JOB_SCHED_LOGIN' ;

	field job_criteria_table
		links_to criteria_saved . table_name as job_criteria
		default 'JOB_HEADER' ;
		
	field job_workflow_id
	    links_to workflow . workflow_guid as job_workflow ;

	field job_workflow_version
	    links_to workflow . workflow_version as job_workflow ;
		
	field filter_sow
		datatype text( 500 ) ;

	field sow_criteria_id
		links_to criteria_saved . identity as sow_criteria
		default 'SOW_SCHED_LOGIN' ;

	field sow_criteria_table
		links_to criteria_saved . table_name as sow_criteria
		default 'SOW' ;

table schedule_group;

	field identity
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;

	field group_id
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text ( 234 )
		used_for display_browse ( 2 );

	field location
		links_to location.identity;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field force_schedule_control
		datatype boolean;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field active
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T' ;

	field start_date
		datatype date
		default '0';

	field end_date
		datatype date;

	field calendar
		links_to schedule_calendar.identity;

	field has_attachments
		datatype boolean
		used_for has_attachments ;


table schedule_point;

	field schedule
		links_to parent schedule.identity
		used_for unique_key, display_browse ( 1 );

	field sample_point
		links_to sample_point.identity
		used_for unique_key, display_browse ( 2 );

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;

	field sample_template
		links_to samp_tmpl_header.identity;

	field pre_schedule
		datatype interval
		default '0000 1';

	field active
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T' ;

	field last_login
		datatype date;

	field collect_public_holiday
		datatype boolean;

	field collect_downtime
		datatype boolean;

	field product
		links_to mlp_latest_version_view.identity;

	field sample_workflow_id
		links_to workflow . workflow_guid as sample_workflow ;

	field sample_workflow_version
		links_to workflow . workflow_version as sample_workflow ;

	field customer_id
		links_to customer . identity ;


table schedule_point_analysis;

	field schedule
		links_to parent schedule_point.schedule as schedule_point
		used_for unique_key, display_browse ( 2 );

	field schedule_point
		links_to parent schedule_point.sample_point as schedule_point
		used_for unique_key, display_browse ( 3 );
		
	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;

	field analysis
		links_to versioned_analysis . identity;
		
	field component_list
		links_to versioned_c_l_header . comp_list;

	field replicate_count
		datatype integer
		default 1
		lower_limit 1;

	field run_window
		datatype interval
		default '0000 4';

	field frequency
		datatype text ( 500 )
		default 'TIME=(0:00)';

	field instrument
		links_to instrument . identity;
		
	field active
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T' ;
	
	field collect_public_holiday
		datatype boolean;

	field collect_downtime
		datatype boolean;

table schedule_point_test_schedule;

	field schedule
		links_to parent schedule_point.schedule as schedule_point
		used_for unique_key, display_browse ( 2 );

	field schedule_point
		links_to parent schedule_point.sample_point as schedule_point
		used_for unique_key, display_browse ( 3 );
		
	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;
		
	field test_schedule
		links_to test_sched_header.identity
		used_for display_browse ( 1 );

	field run_window
		datatype interval
		default '0000 4';

	field frequency
		datatype text ( 500 )
		default 'TIME=(0:00)';
		
	field active
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T' ;
	
	field collect_public_holiday
		datatype boolean;

	field collect_downtime
		datatype boolean;

table schedule_calendar;

	field identity
		datatype identity
		used_for unique_key , display_browse ( 1 );

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;

	field group_id alias group
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text ( 234 )
		used_for display_browse ( 2 );

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;


table schedule_calendar_period;

	field schedule_calendar
		links_to parent schedule_calendar . identity
		used_for unique_key, display_browse ( 2 );
		
	field identity
		datatype packed_decimal
		used_for ordering
		used_for unique_key, display_browse ( 1 );		
		
	field name 
		datatype text ( 100 )
		used_for primary_browse, name ;

	field description
		datatype text ( 234 )
		used_for display_browse ( 3 );
	
	field all_day
		datatype boolean;
		
	field start_date
		datatype date;

	field end_date
		datatype date;

	field type
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type NON_WORK
		default 'PUBLIC_HOL';

table language;

	field identity
		datatype identity
		used_for unique_key, display_browse(1);

	field name
		datatype text ( 100 )
		used_for primary_browse, name;

	field icon
		links_to icon . identity;
		
	field group_id
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text (234)
		used_for display_browse(2);

	field locale
		datatype text (20);

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field language_code
		datatype text(5);

table stock;

	field identity
		datatype identity (20)
		used_for unique_key, display_browse (1);

	field name
		datatype text (100)
		used_for primary_browse, name;

	field description
		datatype text (234)
		used_for display_browse (2);

	field group_id
		links_to group_header.identity
		used_for security_id;

	field stock_type
		datatype identity
		default 'C'
		prompt_type choose
		choose_type STOCK_TYPE;

	field operator_id
		links_to personnel.identity;

	field default_location
		links_to location.identity;

	field stock_batch_label_template
		links_to label_template.identity;

	field substance
		links_to substance.identity;

	field track_inventory
		datatype boolean
		true_word'True'
		false_word 'False'
		default'True';

	field target_amount
		datatype real
		lower_limit 0.0;

	field inventory_unit
		links_to unit_header.identity;

	field preferred_supplier
		links_to supplier.identity;
		
	field preferred_order_amount
		datatype real
		lower_limit 0.0;

	field preferred_order_unit
		links_to unit_header.identity;

	field shelf_life
		datatype interval
		lower_limit '0 00:00:00.00';

	field reorder_on_shelf_life
		datatype boolean;

	field reorder_amount
		datatype real
		lower_limit 0.0;

	field reorder_on_amount
		datatype boolean;

	field reorder_percentage
		datatype real
		lower_limit 0
		upper_limit 100;

	field reorder_on_percentage
		datatype boolean;

	field reorder_unit
		links_to unit_header.identity;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field standard
		links_to standard . identity ;

table stock_property;

	field stock
		links_to parent stock.identity
		used_for unique_key;

	field identity
		links_to result.name
		used_for unique_key;

	field value
		datatype text (255);

	field units
		links_to unit_header.identity;


table supplier;

	field identity
		datatype identity (20)
		used_for unique_key, display_browse ( 1 );

	field group_id
		links_to group_header.identity
		used_for security_id;

	field name
		datatype text ( 100 )
		used_for primary_browse, name;
	
	field description 
		datatype text ( 234 ) 
		used_for display_browse ( 2 );

	field address1
		datatype text (78);

	field address2
		datatype text (78);

	field city
		datatype text (78);

	field state_county
		datatype text (78);

	field zip_postalcode
		datatype text (78);

	field country
		datatype text (78);

	field fax
		datatype text (78);

	field email
		datatype text (78);

	field web_page
		datatype text (78);

	field phone_num
		datatype text (78);

	field contact
		datatype text (78);

	field rating
		datatype identity
		default 'S'
		prompt_type choose
		choose_type SUPP_RAT;

	field category
		datatype identity
		default 'N'
		prompt_type choose
		choose_type SUPP_CAT;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field logo_blob
		links_to blob_values.blob_id;

{101.0}

      field company_name
                datatype text ( 78)
                used_for display_browse (3);

{/101.0}


table supplier_detail;

	field supplier
		links_to parent supplier.identity
		used_for unique_key;

	field stock
		links_to parent stock.identity
		used_for unique_key, display_browse(1);

	field supplier_code
		datatype text (78)
		used_for unique_key, display_browse(2);

	field lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field supplier_description
		datatype text (234)
		used_for display_browse(3);

	field supplier_quantity
		datatype real
		lower_limit 0.0
		used_for display_browse(4);

	field supplier_unit
		links_to unit_header.identity
		used_for display_browse(5);

	field cost
		datatype real
		format '9999999.99'
		lower_limit 0.0
		used_for display_browse(6);

table versioned_analysis_stock_use;

	field analysis
		links_to parent versioned_analysis.identity as parent_analysis
		used_for unique_key;

	field analysis_version
		links_to parent versioned_analysis.analysis_version as parent_analysis
		used_for unique_key;

	field stock
		links_to stock.identity
		used_for unique_key;

	field consumed_flag
		datatype boolean
		default 'T'
		true_word 'T'
		false_word 'F';

	field amount_required
		datatype real
		lower_limit 0.0;

	field unit
		links_to unit_header.identity;


table stock_batch;

	field stock
		links_to parent stock.identity
		used_for unique_key;

	field stock_batch
		datatype packed_decimal
		used_for unique_key, display_browse (1);

	field stock_batch_id
		datatype text (31)
		used_for display_browse (2);

	field stock_order
		links_to stock_order.stock_order_number;

	field source_stock_batch_id
		datatype text (31);

	field status
		datatype identity
		default 'V'
		prompt_type choose
		choose_type STK_B_STAT
		used_for display_browse (8);

	field description
		datatype text ( 234 )
{101.0}		used_for display_browse (3);

	field location
		used_for display_browse (5)
		links_to location.identity;
	
	field supplier
		links_to supplier.identity;

	field batch
		datatype text ( 78 )
		used_for display_browse (4);
	
	field expiry_date
		datatype date;

	field initial_amount
		used_for display_browse (6)
		datatype real
		lower_limit 0.0;

	field unit
		used_for display_browse (7)
		links_to unit_header.identity
		case_sensitive;

	field date_created
		datatype date;

	field created_by
		links_to personnel . identity;

	field modified_on
		datatype date
		used_for modified_on, display_browse (10);

	field modified_by
		links_to personnel . identity
		used_for modified_by, display_browse (9);

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field standard_id
		links_to standard_versions . identity as standard ;

	field standard_version
		links_to standard_versions . version as standard ;

{101.0}
	field reviewed	
            datatype boolean
            default 'No'
            true_word 'Yes'
            false_word 'No' 
		used_for  display_browse (11);
{\101.0}
{133.0}
        field reviewed_on
              datatype date;

        field reviewed_by
              links_to personnel . identity ;

        field part_code  
              datatype text ( 50 );

        field coa_file
              links_to blob_values . blob_id ;

        field coa_link
              datatype text (200);

        field modifiable
		datatype boolean
		used_for modifiable;
{/133.0}

index stock_batch_stock_loc_batch on stock, location, batch;
index stock_batch_batch on batch, stock;
index stock_batch_sbi unique on stock_batch_id;


table stock_batch_property;

	field stock
		links_to parent stock_batch.stock as parent_stock_batch
		used_for unique_key;

	field stock_batch
		links_to parent stock_batch.stock_batch as parent_stock_batch
		used_for unique_key, display_browse (1);

	field identity
		links_to result.name
		used_for unique_key;

	field value
		datatype text (255);

	field units
		links_to unit_header.identity
		case_sensitive;


table stock_inventory;

	field stock
		used_for unique_key
		links_to parent stock_batch.stock as stock_batch_inventory;

	field stock_batch
		used_for unique_key, display_browse (1)
		links_to parent stock_batch.stock_batch as stock_batch_inventory ;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering, display_browse (2);

	field stock_batch_id
		datatype text (31);

	field use_type
		used_for display_browse (3)
		datatype identity
		default 'TEST'
		prompt_type choose
		choose_type STOCK_USE;

	field test
		links_to test.test_number;

	field source_stock_batch_id
		datatype text (31);

	field comments
		datatype text ( 234 );

	field consumed_flag
		datatype boolean
		default 'T'
		true_word 'T'
		false_word 'F';

	field amount
		used_for display_browse (4)
		datatype real
		lower_limit 0.0;

	field unit
		used_for display_browse (5)
		links_to unit_header.identity
		case_sensitive;

	field date_created
		datatype date;

	field created_by
		links_to personnel . identity;

	field modified_on
		datatype date
		used_for modified_on, display_browse (6);

	field modified_by
		links_to personnel . identity
		used_for modified_by, display_browse (7);

index stock_inventory_test_stock on test, stock;
index stock_inventory_stock_batch on stock, stock_batch;


table stock_order;

	field stock_order_number
		datatype packed_decimal
		used_for unique_key;

	field description
		datatype text (234)
		used_for display_browse (1);

	field order_date
		datatype date
		used_for display_browse (3);

	field estimated_delivery_date
		datatype date;

	field received_date
		datatype date;

	field supplier
		links_to supplier.identity
		used_for display_browse (2);

	field purchase_requisition
		datatype text(78);
		
	field status
		datatype identity
		default 'W'
		prompt_type choose
		choose_type STK_O_STAT
		used_for display_browse (4);

	field total_cost
		datatype real
		format '9999999.99'
		lower_limit 0.0;

	field cost_override
		datatype boolean ;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;


table stock_order_item;

	field stock_order_number
		links_to parent stock_order.stock_order_number
		used_for unique_key;

	field item_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field stock
		links_to stock.identity;

	field supplier_code
		datatype text(78);

	field supplier_description
		datatype text (234);

	field supplier_quantity
		datatype real
		lower_limit 0.0;

	field supplier_unit
		links_to unit_header.identity
		case_sensitive;

	field number_ordered
		datatype integer;

	field quantity_ordered
		datatype real
		lower_limit 0.0;

	field unit
		links_to unit_header.identity
		case_sensitive;

	field received
		datatype boolean;

	field quantity_received
		datatype real
		lower_limit 0.0;

	field batch
		datatype text ( 78 );

	field expiry_date
		datatype date;

	field location
		links_to location.identity;

	field cost
		datatype real
		format '9999999.99'
		lower_limit 0.0;

table training_course;

	field identity
		datatype identity (20)
		used_for unique_key, display_browse(1);

	field group_id
		links_to group_header . identity
		used_for security_id;

	field name
		datatype text ( 100 )
		used_for primary_browse, name;

	field description
		datatype text (234)
		used_for display_browse(2);

	field external
		datatype boolean;

	field type
		datatype text (10)
		default 'SAFETY'
		prompt_type choose
		choose_type TRAIN_TYPE;

	field retest_interval
		datatype interval
		lower_limit '0 00:00:00.00';

	field retest_grace_period_interval
		datatype interval
		lower_limit '0 00:00:00.00';
	
	field retest_warning_period_interval
		datatype interval
		lower_limit '0 00:00:00.00';
	
	field operator_id
		links_to personnel.identity;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

table personnel_training;

	field personnel
		links_to parent personnel . identity as parent_personnel
		used_for unique_key, primary_browse;
	field training_course
		links_to training_course . identity
		used_for unique_key, display_browse;
	field competence
		datatype text (10)
		default '3'
		prompt_type CHOOSE
		choose_type TRAIN_COMP;
	field date_completed
		datatype date;
		
index personnel_tc_index on training_course;


table versioned_analysis_training;

	field versioned_analysis
		links_to parent versioned_analysis . identity as parent_analysis
		used_for unique_key, primary_browse;
	field analysis_version
		links_to parent versioned_analysis.analysis_version as parent_analysis
		used_for unique_key, display_browse (1);
	field training_course
		links_to training_course . identity
		used_for unique_key, display_browse (2);
	field minimum_competence
		datatype text (10)
		default '3'
		prompt_type CHOOSE
		choose_type TRAIN_COMP;
		
index versioned_anal_tc_index on training_course;


table instrument_training;

	field instrument
		links_to parent instrument . identity as parent_instrument
		used_for unique_key, primary_browse;
	field training_course
		links_to training_course . identity
		used_for unique_key, display_browse;
	field minimum_competence
		datatype text (10)
		default '3'
		prompt_type CHOOSE
		choose_type TRAIN_COMP;

index instrument_tc_index on training_course;
		
		
table preparation_training;

	field preparation
		links_to parent preparation . identity as parent_preparation
		used_for unique_key, primary_browse;
	field training_course
		links_to training_course . identity
		used_for unique_key, display_browse;
	field minimum_competence
		datatype text (10)
		default '3'
		prompt_type CHOOSE
		choose_type TRAIN_COMP;

index preparation_tc_index on training_course;

table location_type;

	field identity alias identifier
		datatype identity (50)
		used_for unique_key, display_browse (1);
		
	field name
		datatype text ( 100 )
        	used_for primary_browse, name ;

	field group_id alias group
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text (234)
		used_for display_browse (2);

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;
		
	field assignable_default
		datatype boolean;
	
	field default_icon
			links_to icon . identity
 		default 'INT_WORLD';

	field has_attachments
		datatype boolean
		used_for has_attachments ;
		
	field storage_type
	      datatype text(30);

	field storage_unit
	      links_to unit_header . identity ;

	field storage_capacity
	      datatype real
	      format 999999.999;
		  
	field entity_template_id
	      links_to entity_template . identity as entity_template ;

	field entity_template_version
	      links_to entity_template . entity_template_version as entity_template
	      default '         1' ;


table location_type_assign_entry ;
 
                field location_type_id
                      links_to parent location_type . identity as location_type
                      used_for unique_key ;
 
                field order_number
                      used_for unique_key, ordering
                      datatype packed_decimal  ;
 
                field assignable_type
                      datatype text ( 100 ) ;
 
                field assignable_evaluation
                      datatype text ( 500 )  ;
 
table location_assign_entry ;
 
                field location_id
                      links_to parent location . identity as thing
                      used_for unique_key ;
 
                field order_number
                      used_for unique_key, ordering
                      datatype packed_decimal  ;
 
                field assignable_type
                      datatype text ( 100 )  ;
 
                field assignable_evaluation
                      datatype text ( 500 ) ;



table location_type_list;

	field parent_location_type 
		links_to parent location_type . identity
		used_for unique_key
		used_for display_browse (2);

	field location_type
		links_to location_type . identity
		used_for unique_key
		used_for display_browse (1);

table substance;

	field identity
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field group_id
		links_to group_header.identity
		used_for security_id;

	field description 
		datatype text ( 234 ) 
		used_for display_browse ( 2 );

	field name
		datatype text ( 100 )
		used_for primary_browse, name;

	field definition_type
		datatype identity
		default 'CHIP'
		prompt_type choose
		choose_type SUBDEFTYPE;

	field GHS_signal_word
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type GHS_SIG;

	field SDS
		datatype text ( 100 );

	field MSDS
		datatype text ( 100 );

	field health
		datatype identity
		default '0'
		prompt_type choose
		choose_type HAZ_HEALTH;

	field flammability
		datatype identity
		default '0'
		prompt_type choose
		choose_type HAZ_FLAM;

	field instability
		datatype identity
		default '0'
		prompt_type choose
		choose_type HAZ_INST;

	field special
		datatype identity
		prompt_type choose
		choose_type HAZ_SPEC;

	field handling_instructions
		datatype text(234);

	field storage_instructions
		datatype text(234);

	field disposal_instructions
		datatype text(234);

	field modified_on 
		datatype date 
		used_for modified_on;

	field modified_by 
		links_to personnel.identity
		used_for modified_by;

	field modifiable 
		datatype boolean 
		used_for modifiable;

	field removeflag 
		datatype boolean 
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field molecule
		links_to molecule . molecule_id;

table substance_hazard;

	field substance
		links_to parent substance.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field hazard
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type HAZ_SYMB;

table substance_safety;

	field substance
		links_to parent substance.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field safety
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type HAZ_SAFE;

table substance_risk;

	field substance
		links_to parent substance.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field risk
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type HAZ_RISK;

table substance_ghs_pictogram;

	field substance
		links_to parent substance.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field pictogram
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type GHS_PICT;

table substance_ghs_hazard;

	field substance
		links_to parent substance.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field ghs_hazard
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type GHS_HAZ;

table substance_ghs_precautionary;

	field substance
		links_to parent substance.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field precaution
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type GHS_PREC;

table report_template;

	field identity
		datatype identity ( 30 )
		used_for unique_key, display_browse ( 1 );

	field version
		datatype packed_decimal
		default '         1'
		used_for unique_key, version_number, display_browse (2);

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;

	field group_id
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text (234)
		used_for display_browse;

	field data_entity_definition
		datatype identity ( 50 );

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;
		
	field publish
		datatype boolean
			true_word 'True'
		        false_word 'False'
		        default 'True';

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field criteria
			links_to criteria_saved . identity;
	field criteriaSearch
		datatype boolean
			true_word 'True'
		        false_word 'False'
		        default 'True';

	{ If is_template == true it means it is a master template }
	field is_template
		datatype boolean
			true_word 'True'
		        false_word 'False'
		        default 'False';
							
	field master_template
		links_to report_template.identity as master_template_link;

	field master_template_version
		links_to report_template.version as master_template_link;

	field approval_status
		datatype text ( 1 )
		used_for display_browse ( 4 ) , approval_status
		default 'A'
		prompt_type choose
		choose_type APPR_STAT ;
	field inspection_plan
		links_to inspection_header . identity
		used_for inspection ;

	field active
		datatype boolean
		true_word 'True'
		false_word 'False'
		default 'True'
		used_for active_flag;

	field active_from
		datatype date
		used_for active_start_date;

	field active_to
		datatype date
		used_for active_end_date;

	field use_master_template_config
		datatype boolean;

	field is_linked_report
		datatype boolean
			true_word 'True'
		        false_word 'False'
		        default 'False';

	field substitute_font_name
		datatype text ( 255 ) ;

	field linked_template
		links_to report_template.identity;

	field output_report_title
		datatype text ( 100 ) ;

	field output_report_description
		datatype text ( 255 ) ;

{*************************************************}
{ Form Designer Tables                            }
{*************************************************}

table form;

	field name
	      datatype identity ( 30 )
	      allowed_characters      '0..9a..zA..Z _'
	      case_sensitive
	      used_for unique_key, primary_browse;

	field form_entity_definition
	      datatype identity ( 50 )
	      used_for display_browse(1);

	field type
	      datatype identity
	      default 'PROPERTY'
	      prompt_type choose
	      choose_type FORM_TYPE
	      used_for display_browse ( 2 );

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 3 );

	field title
	      datatype text ( 100 )
	      used_for display_browse ( 4 );

	field group_id alias group
	      used_for security_id
	      links_to group_header . identity;

	field modifiable datatype boolean
	      used_for modifiable;

	field modified_on datatype date
	      used_for modified_on
	      used_for display_browse ( 5 );

	field modified_by links_to personnel.identity
	      used_for modified_by
	      used_for display_browse ( 6 );

	field removeflag datatype boolean
	      used_for remove_flag;

	field spellcheck_details 
	      datatype boolean;
		  
	field include_details 
	      datatype boolean;

	field file_directory
	      datatype text ( 50 );

	field file_extension
	      datatype text ( 20 );

	field form_xml
	      datatype text ( 50 );

	field category
	      datatype identity
	      default 'GENERAL'
	      prompt_type choose
	      choose_type FORM_CAT
	      used_for display_browse ( 7 );

	field default_icon
	      links_to icon . identity
	      default 'INT_FORMS';

	field window_style
	      datatype text ( 20 );

	field show_welcome_page
	      datatype boolean;

	field has_errors
	      datatype boolean;
	      
{93.0/ End new tables 10.2}	      

	field page_extension 
	      datatype text ( 234 ) ;

	field dynamic_form_definition
	      links_to dashboard_definition . dashboard_definition_guid ;

table form_page;

	field form
	      links_to parent form.name as form
	      used_for unique_key ;
	      
	field page
	      links_to form . name
	      used_for unique_key, display_browse ( 1 ) ; 

	field order_num
	      datatype  packed_decimal
	      used_for  ordering;


{*************************************************}
{ Workflow Tables                                 }
{*************************************************}

table workflow;

	field workflow_guid
	      datatype guid
	      used_for unique_key ;

	field workflow_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 1 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field table_name
	      datatype identity ( 30 )
	      used_for display_browse ( 2 ) ;

	field workflow_type
	      datatype identity
	      prompt_type choose
	      choose_type WFLOW_TYPE
	      used_for display_browse ( 3 )
	      default 'GENERAL';

	field group_id
	      links_to group_header.identity
	      used_for security_id ;

	field description datatype text ( 255 )
	      used_for display_browse ( 4 ) ;

	field modified_on 
	      datatype date 
	      used_for modified_on ;

	field modified_by 
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable 
	      datatype boolean
	      used_for modifiable ;

	field removeflag datatype boolean
	      used_for remove_flag ;
	      
	field include_in_menu
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'False' ;	

	field menu_icon_id
	      links_to icon . identity as icon ;

	field menu_text
	      datatype text ( 100 ) ;

	field sub_menu_group
	      datatype text ( 100 ) ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag;
	      
	field active_from
	      datatype date
	      used_for active_start_date;
	      
	field active_to
	      datatype date
	      used_for active_end_date;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 5 ) , approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field pl_charge_code
	      datatype  text(10)
	      prompt_type choose
	      choose_type CHARGECODE ;

table workflow_role ;

	field workflow_id
	      used_for unique_key, display_browse ( 1 )
	      links_to parent workflow . workflow_guid as workflow ;

	field workflow_version
	      used_for unique_key, display_browse ( 2 )
	      links_to parent workflow . workflow_version as workflow ;

	field role_id
	      links_to role_header . identity
	      used_for unique_key ;

table workflow_node ;

	field workflow_node_guid   
	      datatype guid
	      used_for unique_key ;

	field workflow_id
	      links_to parent workflow . workflow_guid as workflow ;

	field workflow_version
	      links_to parent workflow . workflow_version as workflow ;
	      
	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field parent_node   
	      links_to workflow_node . workflow_node_guid as parent_node ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field description datatype text ( 255 )
	      used_for display_browse ( 1 ) ;

	field node_type
	      datatype text ( 30 ) ;

	field parameters_ext
	      datatype text ( 4000 ) ;

	field default_workflow_id
	      links_to workflow . workflow_guid;

	field action_table_name
	      links_to workflow_action_type . table_name as action_type ;

	field action_type_id
	      links_to workflow_action_type . identity as action_type ;

	field state_table_name
	      links_to workflow_state . table_name as required_state ;

	field state_identity
	      links_to workflow_state . identity as required_state ;

	field event_table_name
	      links_to workflow_event_type . table_name as event_type ;

	field event_type_id
	      links_to workflow_event_type . identity as event_type ;

	field entity_template_id
	      links_to entity_template . identity;

	field enabled 
	      datatype boolean
	      default 'Yes'
	      true_word 'Yes'
	      false_word 'No' ;

index workflow_node_workflow on workflow_id, workflow_version, order_number ;

index workflow_node_parent on parent_node, order_number ;

table workflow_link ;

	field table_name
	      datatype text ( 30 )
	      used_for unique_key ;

	field record_key0
	      datatype text ( 100 )
	      used_for unique_key ;

	field workflow_node   
	      links_to workflow_node . workflow_node_guid ;

table workflow_action_type ;

	field table_name
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 1 ) ;

	field identity
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 2 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id;

	field description datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field modified_on 
	      datatype date 
	      used_for modified_on ;

	field modified_by 
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable 
	      datatype boolean
	      used_for modifiable ;

	field removeflag datatype boolean
	      used_for remove_flag ;

	field include_in_menu
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'False'
	      used_for display_browse ( 4 ) ;

	field icon_id
	      links_to icon . identity as icon ;

	field menu_text
	      datatype text ( 100 ) ;

	field sub_menu_group
	      datatype text ( 100 ) ;

	field action_task
	      datatype text ( 100 ) ;

table workflow_action_role ;

	field workflow_action_type_table
	      links_to parent workflow_action_type . table_name as workflow_action_type
	      used_for unique_key;

	field workflow_action_type_id
	      links_to parent workflow_action_type . identity as workflow_action_type
	      used_for unique_key;

	field role_id
	      links_to role_header . identity
	      used_for unique_key ;

table workflow_state ;

	field table_name
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 1 ) ;

	field identity
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 2 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id;

	field description datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field modified_on 
	      datatype date 
	      used_for modified_on ;

	field modified_by 
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable 
	      datatype boolean
	      used_for modifiable ;

	field removeflag datatype boolean
	      used_for remove_flag ;

	field icon_id
	      links_to icon . identity as icon ;

	field any_condition_match
	      datatype boolean ;

	field track
	      datatype boolean ;

table workflow_state_condition ;

	field table_name
	      used_for unique_key 
	      links_to parent workflow_state . table_name as workflow_state ;

	field workflow_state_id
	      used_for unique_key, display_browse ( 1 )
	      links_to parent workflow_state . identity as workflow_state ;

	field order_number
	      datatype packed_decimal
	      used_for unique_key, ordering ;

	field property
	      datatype text ( 100 ) 
	      used_for unique_key, display_browse ( 2 ) ;

	field operator
	      datatype text ( 10 )
	      default '='
	      prompt_type phrase
	      noidentities
	      phrase_type WFLOW_S_OP
	      used_for display_browse ( 3 ) ;

	field type
	      datatype identity
	      prompt_type choose
	      choose_type WF_COND_TY
	      default 'V'
	      used_for display_browse ( 4 ) ;

	field value
	      datatype text ( 255 )
	      used_for display_browse ( 5 ) ;
      
table workflow_event_type ;

	field table_name
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 1 ) ;

	field identity
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 2 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id;

	field description datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field modified_on 
	      datatype date 
	      used_for modified_on ;

	field modified_by 
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable 
	      datatype boolean
	      used_for modifiable ;

	field removeflag datatype boolean
	      used_for remove_flag ;

table workflow_journal ;

	field identity
	      datatype packed_decimal
	      used_for unique_key ;

	field table_name
	      datatype text ( 30 ) ;

	field entity_record
	      datatype text ( 100 ) ;

	field entry_type
	      datatype identity
	      prompt_type phrase
	      valid 
	      identities
	      phrase_type WFLOW_JOUR ;

	field entry_name
	      datatype identity ( 30 ) ;

	field enter_states
	      datatype text ( 200 ) ;

	field exit_states
	      datatype text ( 200 ) ;

	field performed_on
	      datatype date ;

	field performed_by
	      links_to personnel . identity ;

table workflow_status_event ;

	field table_name
	      links_to workflow_event_type . table_name 
	      used_for display_browse ( 1 ) , unique_key ;

	field status_from
	      datatype text (1) 
	      used_for unique_key;

	field status_to
	      datatype text (1) 
	      used_for unique_key;

	field event_type_id
	      links_to workflow_event_type . identity
	      used_for display_browse ( 2 ) ;


{*************************************************}
{ Entity Template Tables                          }
{*************************************************}

table entity_template ;

	field identity
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 1 ) ;

	field entity_template_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 );

	field name	
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 3 ) ;

	field table_name
	      datatype text ( 30 )
	      used_for display_browse ( 4 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag;

	field active_from
	      datatype date
	      used_for active_start_date;

	field active_to
	      datatype date
	      used_for active_end_date;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 5 ) , approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

table entity_template_property ;

	field property_name	
	      datatype text ( 100 )
	      used_for unique_key ;

	field entity_template_id
	      links_to parent entity_template . identity as entity_template
	      used_for unique_key ;

	field entity_template_version
	      links_to parent entity_template . entity_template_version as entity_template
	      used_for unique_key ;

	field order_num
	      datatype packed_decimal
	      used_for ordering,unique_key ; 

	field title	
	      datatype text ( 100 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field prompt_type	
	      prompt_type choose
	      choose_type ent_tmp_pt
	      default 'PROMPT'
	      datatype text ( 10 ) ;

	field filter_by	
	      datatype text ( 100 ) ;
	      
	field criteria
	      links_to criteria_saved . identity ;	      

	field category	
	      datatype text ( 100 ) ;
		  
	field default_type	
	      prompt_type choose
	      choose_type ENT_TMP_DT
	      default 'VALUE'
	      datatype text ( 10 ) ;

	field cell_width
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field display_rule
	      datatype text ( 500 );
	      
table entity_template_field ;

      	field table_name
      	      datatype identity ( 30 )
     	      used_for unique_key, display_browse ( 1 ) ;
	      
      	field field_name
      	      datatype identity ( 30 )
     	      used_for unique_key, display_browse ( 2 ) ;
     
{*************************************************}
{ Attachments/Notes                               }
{*************************************************}

table attachment;

	field attachment_guid
	      datatype guid
	      used_for unique_key ;

	field table_name
	      datatype text ( 30 ) ;

	field record_key0
	      datatype text ( 100 ) ;

	field version
	      datatype packed_decimal
	      default '         1'
	      used_for version_number ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field attachment
	      datatype text ( 250 ) ;

	field comments
	      datatype text ( 2000 ) ;

	field type
	      datatype identity
	      default 'FILE'
	      prompt_type choose
	      choose_type ATT_TYPE
	      used_for display_browse ( 1 ) ;

	field category
	      datatype identity
	      default 'GENERAL'
	      prompt_type choose
	      choose_type ATT_CAT
	      used_for display_browse ( 2 ) ;

	field created_date 
	      datatype date 
	      default '0' ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by 
	      links_to personnel . identity
	      used_for modified_by ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

{*************************************************}
{ Daily Toolbar                                   }
{*************************************************}

table daily_toolbar ;

	field user_id
	      links_to personnel . identity
	      used_for unique_key, primary_browse ;
 
	field item_number
	      datatype packed_decimal
	      used_for unique_key ;

	field parent_number
	      datatype packed_decimal ;

	field item_name
	      datatype text
	      used_for display_browse ( 1 ) ;

	field type
	      datatype text ( 20 )
	      used_for display_browse ( 2 ) ;

	field procedure_num 
	      links_to master_menu . procedure_num ;

	field internal_item_name 
	      datatype text ( 40 ) ;

	field paint_style
	      datatype text ( 40 ) ;

	field begin_group
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field shortcut
	      datatype text( 20 ) ;

table modular_report ;

	field identity
	      datatype identity ( 40 )
	      used_for unique_key, display_browse ( 1 ) ;

	field version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field entity_type
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 255 )
	      used_for display_browse ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field criteria
	      links_to criteria_saved . identity ;

	field master_template_identity
	      links_to report_template . identity as master_template ;

	field master_template_version
	      links_to report_template . version as master_template ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field use_master_template_config
	      datatype boolean ;

table modular_report_item;

	field modular_report_id
	      links_to parent modular_report . identity as modular_report 
	      used_for unique_key ;

	field modular_report_version
	      links_to parent modular_report . version as modular_report
	      used_for unique_key ;

	field order_num
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field report_template_id	  
	      links_to report_template . identity as report_template ;

	field report_template_version
	      links_to report_template . version as report_template ;

{*************************************************}
{ Web Client Tables                               }
{*************************************************}

table web_favorite ;

    field favorite_guid
          datatype text ( 36 )
          used_for unique_key ;

    field operator
          links_to personnel . identity ;

    field display_name
          datatype text ( 100 ) ;

    field parent_favorite_guid
          datatype text ( 36 ) ;

    field favorite_type
          datatype text ( 50 )
          prompt_type phrase
          phrase_type WEBFAVTYP ;

    field operation
          datatype text ( 500 ) ;

table web_recent_items ;

	field operator
	      links_to personnel . identity
	      used_for unique_key ;

	field display_name
	      datatype text ( 100 )
	      used_for unique_key ;

	field url
	      datatype text ( 300 ) ;

	field record_timestamp
	      datatype date ;


table chromeleon ;

	field identity
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 1 ) ;

	field name	
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field web_api_server
	      datatype text ( 255 ) ;

	field web_api_port
	      datatype integer 
	      default 8082
	      lower_limit 1 
	      upper_limit 65535 ;

	field web_api_path
	      datatype text ( 255 ) ;

	field web_api_timeout
	      datatype integer
	      default 60000
	      lower_limit 1 
	      upper_limit 1000000 ;

	field web_api_use_ssl
	      datatype boolean
	      default 'Yes'
	      true_word 'Yes'
	      false_word 'No' ;

	field vault_name
	      datatype text ( 200 ) ;

	field vault_uri
	      datatype text ( 2000 ) ;

	field server_name
	      datatype text ( 200 ) ;

	field get_remote_instruments
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field get_sample_positions
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

table chromeleon_property ;

	field chromeleon_id
	      links_to parent chromeleon . identity as chromeleon
	      used_for unique_key ;

	field order_number
	      used_for unique_key, ordering
	      datatype packed_decimal ;

	field entity
	      datatype identity
	      prompt_type choose
	      choose_type CHROM_ENT
	      default 'INJECTION'
	      used_for display_browse ( 1 ) ;

	field property
	      datatype text ( 50 )
	      prompt_type phrase
	      phrase_type CHROM_PROP
	      used_for display_browse ( 2 ) ;

	field table_name
	      datatype identity ( 30 )
	      used_for display_browse ( 3 ) ;
	      
	field field_name
	      datatype identity ( 30 )
	      used_for display_browse ( 4 ) ;

	field expression
	      datatype text ( 500 ) ;

table chromeleon_instrument ;

	field chromeleon_id
	      links_to parent chromeleon . identity as chromeleon
	      used_for unique_key ;

	field instrument_id 
	      links_to instrument . identity as instrument
	      used_for unique_key, primary_browse ;

	field chromeleon_instrument
	      datatype text ( 255 )
	      used_for display_browse ( 1 ) ;

	field chromeleon_instrument_uri
	      datatype text ( 2000 )
	      used_for display_browse ( 2 ) ;

	field instrument_method_folder_uri
	      datatype text ( 2000 ) ;

	field instrument_method
	      datatype text ( 255 ) ;

	field instrument_method_uri
	      datatype text ( 2000 ) ;

	field autosampler_positions
	      datatype text ( 4000 ) ;

table chromeleon_mapping ;

	field identity
	      datatype identity ( 60 )
	      allowed_characters '0..9A..Z_-/()$+ '
	      used_for unique_key ;

	field name	
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 255 )
	      used_for display_browse ( 4 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field chromeleon_id
	      links_to chromeleon_instrument . chromeleon_id as chromeleon_instrument
	      used_for display_browse ( 1 ) ;

	field instrument_id
	      links_to chromeleon_instrument . instrument_id as chromeleon_instrument
	      used_for display_browse ( 2 ) ;

	field analysis_id
	      links_to analysis_view . identity as analysis
	      used_for display_browse ( 3 ) ;

	field instrument_method_folder_uri
	      datatype text ( 2000 ) ;

	field instrument_method
	      datatype text ( 255 ) ;

	field instrument_method_uri
	      datatype text ( 2000 ) ;

	field processing_method_folder_uri
	      datatype text ( 2000 ) ;

	field processing_method
	      datatype text ( 255 ) ;

	field processing_method_uri
	      datatype text ( 2000 ) ;

	field eworkflow
	      datatype text ( 255 ) ;

	field eworkflow_uri
	      datatype text ( 2000 ) ;

	field allow_unknown
	      datatype boolean
	      default 'Yes'
	      true_word 'Yes'
	      false_word 'No' ;

	field allow_adhoc
	      datatype boolean
	      default 'Yes'
	      true_word 'Yes'
	      false_word 'No' ;

	field default_expression
	      datatype text ( 255 )
	      default 'peak.amount'
	      prompt_type phrase
	      phrase_type CHROM_EXP ;

	field unknown_peak_name_expression
	      datatype text ( 255 )
	      default 'peak.amount'
	      prompt_type phrase
	      phrase_type CHROM_EXP ;

	field default_sequence_folder_uri
	      datatype text ( 2000 ) ;

	field sequence_syntax
	      links_to syntax . identity
	      default 'CHROM_SEQ' ;

	field sequence_entry_syntax
	      links_to syntax . identity
	      default 'CHROM_INJ' ;

	field default_volume
	      datatype real
	      default 0
	      format '9999999.9999'
	      lower_limit 0 
	      upper_limit 100000 ;

	field translate_types
	      datatype boolean ;

	field default_position
	      datatype text ( 20 ) ;

	field allow_rename
	      datatype boolean
	      default 'Yes'
	      true_word 'Yes'
	      false_word 'No' ;

	field overwrite_inj_names
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field allow_folder_change
	      datatype boolean
	      default 'Yes'
	      true_word 'Yes'
	      false_word 'No' ;

	field check_send_flag
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field result_signals
	      datatype text ( 500 ) ;

	field unknown_peak_prefix
	      datatype text ( 30 )
	      default 'Unknown Peak@' ;

	field update_standards
	      datatype boolean ;

	field report_from_eworkflow
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field report_template
	      datatype text ( 250 ) ;

	field report_template_uri
	      datatype text ( 2000 ) ;

	field report_template_folder_uri
	      datatype text ( 2000 ) ;

	field report_to_sequence
	      datatype boolean ;

	field volume_expression
	      datatype text ( 500 ) ;

	field istd_amount_expression
	      datatype text ( 500 ) ;

	field dilution_expression
	      datatype text ( 500 ) ;

	field weight_expression
	      datatype text ( 500 ) ;

	field comment_expression
	      datatype text ( 500 ) ;

	field advanced_mapping
	      datatype boolean ;

	field check_lock_flag
	      datatype boolean ;

	field exclude_from_ready_check
	      datatype boolean ;

	field sequence_send_to_lims
	  datatype text ( 1 )
	      default 'N'
	      prompt_type choose
	      choose_type CHROM_SEND ;

	field check_sequence_send
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field injection_send_to_lims
	      datatype text ( 1 )
	      default 'Y'
	      prompt_type choose
	      choose_type CHROM_SEND ;

	field check_injection_send
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field download_immediately
	      datatype boolean
	      default 'F'
	      true_word 'T'
	      false_word 'F' ;

	field adhoc_units
	      links_to unit_header . identity ;

	field replicate_id_expression
	      datatype text ( 500 ) ;

	field overwrite_eworkflow
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field queue_sequence
	       datatype boolean ;

	field run_sequence
	       datatype boolean ;

	field sub_instrument_filter
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;
		  
	field queue_optional
	      datatype boolean
	      default 'F'
	      true_word 'T'
	      false_word 'F' ;
		  
	field ignore_warnings
	      datatype boolean
	      default 'F'
	      true_word 'T'
	      false_word 'F' ;

	field workflow_filter
	      datatype text ( 32 ) ;

table chromeleon_mapping_result ;

	field chromeleon_mapping_id
	      links_to parent chromeleon_mapping . identity as chromeleon_mapping
	      used_for unique_key, display_browse ( 1 ) ;

	field component_name
	      links_to component_view . name
	      used_for unique_key, primary_browse ;

	field chromeleon_name
	      datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field expression
	      datatype text ( 255 )
	      default 'peak.amount'
	      prompt_type phrase
	      phrase_type CHROM_EXP ;

	field signal_name
	      datatype text ( 100 ) ;

table chromeleon_mapping_standard ;

	field chromeleon_mapping_id
	      links_to parent chromeleon_mapping . identity as chromeleon_mapping
	      used_for unique_key, display_browse ( 1 ) ;

	field standard_id
	      links_to standard . identity as standard
	      used_for unique_key, primary_browse ;

	field chromeleon_level
	      datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

table chromeleon_mapping_component ;

	field chromeleon_mapping_id
	      links_to parent chromeleon_mapping_standard . chromeleon_mapping_id as chromeleon_mapping_standard
	      used_for unique_key, display_browse ( 1 ) ;
		  
	field standard_id
	      links_to parent chromeleon_mapping_standard . standard_id as chromeleon_mapping_standard
	      used_for unique_key, primary_browse ;		  

	field concentration_name
		  links_to standard_concentration . name
	      used_for unique_key, display_browse ( 2 ) ;
		  
	field chromeleon_name
	      datatype text ( 255 )
	      used_for display_browse ( 3 ) ;
		  
table chromeleon_mapping_property ;

	field chromeleon_mapping_id
	      links_to parent chromeleon_mapping . identity as chromeleon_mapping
	      used_for unique_key, display_browse ( 1 ) ;

	field order_number
	      used_for unique_key, ordering
	      datatype packed_decimal ;

	field entity
	      datatype identity
	      prompt_type choose
	      choose_type CHROM_ENT
	      default 'INJECTION'
	      used_for display_browse ( 2 ) ;

	field property
	      datatype text ( 50 )
	      prompt_type phrase
	      phrase_type CHROM_PROP
	      used_for display_browse ( 3 ) ;

	field table_name
	      datatype identity ( 30 )
	      used_for display_browse ( 4 ) ;
	      
	field field_name
	      datatype identity ( 30 )
	      used_for display_browse ( 5 ) ;

	field expression
	      datatype text ( 500 )
	      used_for display_browse ( 6 ) ;

table chromeleon_mapping_std_prop ;

	field chromeleon_mapping_id
	      links_to parent chromeleon_mapping . identity as chromeleon_mapping
	      used_for unique_key, display_browse ( 1 ) ;

	field order_number
	      used_for unique_key, ordering
	      datatype packed_decimal ;

	field table_name
	      datatype identity ( 30 )
		  used_for display_browse ( 2 ) ;

	field condition
	      datatype text ( 500 )
		  used_for display_browse ( 3 ) ;

	field component_name
	      datatype text ( 500 )
	      used_for display_browse ( 4 ) ;

	field custom_variable_name
	      datatype text ( 500 )
	      used_for display_browse ( 5 ) ;

	field custom_variable_value
	      datatype text ( 500 )
	      used_for display_browse ( 6 ) ;
		  
table chromeleon_mapping_sub_inst ;

	field chromeleon_mapping_id
	      links_to parent chromeleon_mapping . identity as chromeleon_mapping
	      used_for unique_key, display_browse ( 1 ) ;

	field order_number
	      used_for unique_key, ordering
	      datatype packed_decimal ;

	field chromeleon_id
	      links_to chromeleon_instrument . chromeleon_id as chromeleon_instrument;

	field instrument_id
	      links_to chromeleon_instrument . instrument_id as chromeleon_instrument;
		  
table chromeleon_sequence ;

	field identity
	      datatype packed_decimal
	      used_for unique_key ;

	field name	
	      datatype text ( 100 )
	      allowed_characters ' 0..9a..zA..Z-_(),.'
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 255 )
	      used_for display_browse ( 6 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field chromeleon_id
	      links_to chromeleon_instrument . chromeleon_id as chromeleon_instrument
	      used_for display_browse ( 1 ) ;

	field instrument_id
	      links_to chromeleon_instrument . instrument_id as chromeleon_instrument
	      used_for display_browse ( 2 ) ;

	field analysis_id
	      links_to analysis_view . identity as analysis
	      used_for display_browse ( 3 ) ;

	field status
	      datatype text ( 1 )
	      used_for display_browse ( 4 )
	      default 'V'
	      prompt_type choose
	      choose_type CHROM_STAT ;

	field sequence_uri
	      datatype text ( 2000 )
	      used_for display_browse ( 5 ) ;

	field sequence_folder_uri
	      datatype text ( 2000 ) ;

	field instrument_method_folder_uri
	      datatype text ( 2000 ) ;

	field instrument_method
	      datatype text ( 255 ) ;

	field instrument_method_uri
	      datatype text ( 2000 ) ;

	field processing_method_folder_uri
	      datatype text ( 2000 ) ;

	field processing_method
	      datatype text ( 255 ) ;

	field processing_method_uri
	      datatype text ( 2000 ) ;

	field eworkflow
	      datatype text ( 255 ) ;

	field eworkflow_uri
	      datatype text ( 2000 ) ;

	field start_vial_position
	      datatype text ( 5 ) ;

	field send_approved
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field batch_id
	      links_to batch_header . identity as batch ;

	field injection_volume
	      datatype real
	      default 1
	      format '9999999.9999'
	      lower_limit 0 
	      upper_limit 100000 ;

	field comments
	      datatype text ( 255 ) ;

	field report_template_uri
	      datatype text ( 2000 ) ;

	field chromeleon_mapping_id
	      links_to chromeleon_mapping . identity as chromeleon_mapping_link ;

table chromeleon_sequence_entry ;

	field chromeleon_sequence_id
	      links_to parent chromeleon_sequence . identity as chromeleon_sequence
	      used_for unique_key, display_browse ( 1 ) ;

	field order_number
	      used_for unique_key, ordering
	      datatype packed_decimal ;

	field test_number
	      links_to test . test_number
	      used_for display_browse ( 2 ) ;

	field name	
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field sample_type	
	      prompt_type phrase
	      phrase_type CHROM_TYPE
	      valid identities
	      default 'UNKNOWN'
	      datatype identity ;

	field status
	      datatype text ( 1 )
	      used_for display_browse ( 4 )
	      default 'V'
	      prompt_type choose
	      choose_type CHROM_ISTA ;

	field vial_position
	      datatype text ( 5 )
	      used_for display_browse ( 3 ) ;

	field volume
	      datatype real
		  default 0
	      format '9999999.9999'
	      lower_limit 0 
	      upper_limit 100000 ;

	field sample_uri
	      datatype text ( 2000 )
	      used_for display_browse ( 5 ) ;

	field instrument_method_folder_uri
	      datatype text ( 2000 ) ;

	field instrument_method
	      datatype text ( 255 ) ;

	field instrument_method_uri
	      datatype text ( 2000 ) ;

	field processing_method_folder_uri
	      datatype text ( 2000 ) ;

	field processing_method
	      datatype text ( 255 ) ;

	field processing_method_uri
	      datatype text ( 2000 ) ;

	field send_results
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field batch_id
	      links_to batch_entry . identity as batch_entry ;

	field batch_order_number
	      links_to batch_entry . order_number as batch_entry ;

	field concentration_level
	      datatype text ( 100 ) ;

	field dilution_factor
	      datatype real
	      default 0
	      format '9999999.9999'
	      lower_limit 0
	      upper_limit 100000 ;

	field internal_standard_amount
	      datatype real
	      default 0
	      format '9999999.9999'
	      lower_limit 0
	      upper_limit 100000 ;

	field weight
	      datatype real
	      default 0
	      format '9999999.9999'
	      lower_limit 0
	      upper_limit 100000 ;

	field replicate_id
	      datatype text ( 100 ) ;

	field comments
	      datatype text ( 100 ) ;

	field spike_group
	      datatype text ( 100 ) ;

	field is_locked
	      datatype boolean ;

index chrom_seq_entry_test_index on test_number ;

table chromeleon_sequence_log;

	field chromeleon_sequence_id
	      links_to parent chromeleon_sequence . identity as chromeleon_sequence
	      used_for unique_key, display_browse ( 1 ) ;

	field order_number
	      used_for unique_key, ordering
	      datatype packed_decimal ;

	field date_created
	      datatype date
	      used_for display_browse ( 2 ) ;

	field status
	      datatype text ( 1 )
	      used_for display_browse ( 3 )
	      default 'U'
	      prompt_type choose
	      choose_type CHROM_RCS ;

	field operator
	      links_to personnel . identity ;

	field instrument
	      links_to instrument . identity;

	field instrument_trained
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field instrument_in_calibration
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field instrument_in_service
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field method_trained
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

table lot_inventory ;

	field lot_id
	      used_for unique_key
	      links_to parent lot_details . lot_id ;

	field order_num
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field to_lot
	      links_to lot_details . lot_id ;

	field comments
	      datatype text ( 255 ) ;

	field consumed_flag
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field quantity
	      used_for display_browse ( 1 )
	      datatype real ;

	field units
	      used_for display_browse ( 2 )
	      links_to unit_header . identity ;

	field date_created
	      datatype date 
	      default '0' ;

	field created_by
	      links_to personnel . identity ;

	field usage
	      datatype identity
	      prompt_type choose
	      choose_type LOT_USAGE
	      used_for display_browse ( 3 ) ;

	field lot_reservation_id
	      datatype packed_decimal ;

table lot_reservation ;

	field lot_reservation_guid
	      datatype guid
	      used_for unique_key ;

	field lot_id
	      used_for unique_key
	      links_to parent lot_details . lot_id ;

	field order_num
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field workflow_node
	      default '4DAE56B4-CEA6-4915-8866-14E3652AA6E4'
	      links_to workflow_node . workflow_node_guid ;

	field comments
	      datatype text ( 255 ) ;

	field quantity_reserved
	      used_for display_browse ( 1 )
	      datatype real ;

	field quantity_taken
	      used_for display_browse ( 2 )
	      datatype real ;

	field units
	      used_for display_browse ( 3 )
	      links_to unit_header . identity ;

	field date_created
	      datatype date 
	      default '0' ;

	field created_by
	      links_to personnel . identity ;

	field modified_on datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel.identity
	      used_for modified_by ;

	field status                                  
	      datatype identity
	      prompt_type choose
	      choose_type LOTRESSTAT
	      used_for display_browse ( 4 ) ;

table report_layout_header ;

	field identity
	      datatype identity ( 40 )
	      used_for unique_key, display_browse ( 1 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 255 )
	      used_for display_browse ( 2 ) ;

	field table_name
	      datatype text ( 100 ) ;

	field is_default
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field use_default_fields
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field master_template
	      links_to report_template . identity as master_template_link ;

	field master_template_version
	      links_to report_template.version as master_template_link ;

	field use_master_template_config
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field output_type
	      datatype identity
	      prompt_type choose
	      choose_type LISTPRINT
	      default 'PRINT'
	      used_for display_browse ( 3 ) ;

	field language 
	      links_to language . identity ;

	field include_text 
	      datatype boolean ;

	field file_directory
	      datatype text ( 50 ) ;

	field file_extension
	      datatype text ( 20 ) ;

	field list_show_icon_column
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

table report_layout_field ;

	field report_layout_header
	      links_to parent report_layout_header . identity
	      used_for unique_key, primary_browse ;

	field field_name
	      datatype text ( 250 )
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field description
	      datatype text ( 30 ) ;

	field width
	      datatype integer
	      default 20 ;

	field field_repeats
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;
		  
	field format_string
	      datatype text ( 250 );		  

table report_layout_link ;

	field report_layout_header
	      links_to parent report_layout_header . identity
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field report_layout_header_link
	      links_to report_layout_header . identity ;

	field table_name
	      datatype text ( 100 ) ;

	field relationship_name
	      datatype text ( 250 ) ;

table instrument_category;

	field identity
	    datatype identity ( 30 )
	    used_for unique_key, display_browse ( 1 );
	
	field name
	    datatype text ( 100 )
	    used_for primary_browse, name ;
	
	field group_id alias group
	    used_for security_id
	    links_to group_header . identity;
	
	field description
	    used_for display_browse ( 2 )
	    datatype text ( 255 );
	
	field modifiable datatype boolean
	    used_for modifiable;
	
	field modified_on datatype date
	    used_for modified_on;
	
	field modified_by links_to personnel.identity
	    used_for modified_by;
	
	field removeflag
	    datatype boolean
	    used_for remove_flag;
		
	field has_attachments
	    datatype boolean
	    used_for has_attachments ;

	field custom_icon
		links_to icon . identity 
		default 'GEAR_INV';
		
table parameter_type ;

	field identity
	      used_for unique_key, display_browse ( 1 )
	      datatype identity ( 20 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field type
	      datatype identity
	      default 'N'
	      prompt_type choose
	      choose_type LE_PTYPE ;

	field category
	      datatype identity
	      prompt_type choose
	      choose_type LE_PCATG ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field removeflag
	      used_for remove_flag
	      datatype boolean ;

	field default_name
	      datatype text ( 255 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field units
	      links_to unit_header.identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;
		  
	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field phrase_valid_only
	      datatype boolean ;

	field rounding_formula datatype text ( 500 )
		default NULL ;

	field sig_figs_number datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_rounding datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;

table job_parameter ;

	field job
	      links_to parent job_header . job_name
	      used_for unique_key, display_browse ( 1 ) ;

	field parameter_id
	      datatype guid
	      used_for unique_key ;

	field parameter_name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field parameter_type
	      links_to parameter_type . identity  as parameter_type ;

	field value
	      datatype text ( 255 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field category
	      datatype identity
	      prompt_type choose
	      choose_type LE_PCATG ;

	field units
	      links_to unit_header.identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field entered_on
	      datatype date ;

	field entered_by
	      links_to personnel . identity ;

	field out_of_range
	      datatype boolean ;

	field criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field raw_value
	      datatype text ( 500 ) ;

	field date_value
	      datatype date ;

	field phrase_valid_only
	      datatype boolean ;

	field rounding_formula datatype text ( 500 )
		default NULL ;

	field sig_figs_number datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_rounding datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;

table sample_parameter ;

	field sample
	      links_to parent sample . id_numeric
	      used_for unique_key, display_browse ( 1 ) ;

	field parameter_id
	      datatype guid
	      used_for unique_key ;

	field parameter_name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field parameter_type
	      links_to parameter_type . identity  as parameter_type ;

	field value
	      datatype text ( 255 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field category
	      datatype identity
	      prompt_type choose
	      choose_type LE_PCATG ;

	field units
	      links_to unit_header . identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field entered_on
	      datatype date ;

	field entered_by
	      links_to personnel . identity ;

	field out_of_range
	      datatype boolean ;

	field criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field raw_value
	      datatype text ( 500 ) ;

	field date_value
	      datatype date ;

	field phrase_valid_only
	      datatype boolean ;

field rounding_formula datatype text ( 500 )
      default NULL ;

	field sig_figs_number datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_rounding datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;

table test_parameter ;

	field test
	      links_to parent test . test_number
	      used_for unique_key, display_browse ( 1 ) ;

	field parameter_id
	      datatype guid
	      used_for unique_key ;

	field parameter_name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field parameter_type
	      links_to parameter_type . identity  as parameter_type ;

	field value
	      datatype text ( 255 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field category
	      datatype identity
	      prompt_type choose
	      choose_type LE_PCATG ;

	field units
	      links_to unit_header . identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field entered_on
	      datatype date ;

	field entered_by
	      links_to personnel . identity ;

	field out_of_range
	      datatype boolean ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field raw_value
	      datatype text ( 500 ) ;

	field date_value
	      datatype date ;

	field phrase_valid_only
	      datatype boolean ;

	field rounding_formula 
	      datatype text ( 500 )
	      default NULL ;

	field sig_figs_number datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_rounding datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;

table entity_template_parameter ;

	field parameter_name
	      datatype text ( 100 )
	      used_for unique_key ;

	field entity_template_id
	      links_to parent entity_template . identity as entity_template
	      used_for unique_key ;

	field entity_template_version
	      links_to parent entity_template . entity_template_version as entity_template
	      used_for unique_key ;

	field parameter_type
	      links_to parameter_type . identity  as parameter_type ;

	field default_value
	      links_to parameter_type . default_value ;

	field category
	      links_to parameter_type . category ;

	field units
	      links_to unit_header . identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      links_to parameter_type . table_name ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      links_to parameter_type . minimum ;

	field maximum
	      links_to parameter_type . maximum ;

	field target_value
	      links_to parameter_type . target_value ;

	field criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field phrase_valid_only
	      datatype boolean ;

	field rounding_formula 
	      datatype text ( 500 )
	      default NULL ;

	field sig_figs_number datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_rounding datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;

table incident_parameter ;

	field incident_id
	      links_to parent incidents . incident_id
	      used_for unique_key, display_browse ( 1 ) ;

	field parameter_id
	      datatype guid
	      used_for unique_key ;

	field parameter_name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field parameter_type
	      links_to parameter_type . identity  as parameter_type ;

	field value
	      datatype text ( 255 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field category
	      datatype identity
	      prompt_type choose
	      choose_type LE_PCATG ;

	field units
	      links_to unit_header . identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field entered_on
	      datatype date ;

	field entered_by
	      links_to personnel . identity ;

	field out_of_range
	      datatype boolean ;

	field criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field raw_value
	      datatype text ( 500 ) ;

	field date_value
	      datatype date ;

	field phrase_valid_only
	      datatype boolean ;

	field rounding_formula
	      datatype text ( 500 )
	      default NULL ;

	field sig_figs_number
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_rounding
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;
		  
	field order_number
	      used_for ordering
	      datatype packed_decimal ;

table c_job_parameter
        parent_table job_parameter
        tableset default_table_set ;

table c_sample_parameter
        parent_table sample_parameter
        tableset default_table_set ;

table c_test_parameter
        parent_table test_parameter
        tableset default_table_set ;

table lab_method ;

	field lab_method_id
	      datatype guid
	      used_for unique_key ;

	field lab_method_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field workflow_node
	      links_to workflow_node . workflow_node_guid ;

	field lab_method_workflow_id
	      links_to workflow . workflow_guid as lab_method_workflow ;

	field lab_method_workflow_version
	      links_to workflow . workflow_version as lab_method_workflow ;

	field sop_reference
	      datatype text ( 500 ) ;

	field lab_method_type
	      datatype identity
	      prompt_type choose
	      choose_type LE_MTYPE ;

	field execution_style
	      datatype identity
	      prompt_type choose
	      default 'LINEAR'
	      choose_type LE_ESTYLE ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field is_gxp
	      datatype boolean
	      default 'True'
	      true_word 'True'
	      false_word 'False' ;

	field introduction_blob
	      links_to blob_values . blob_id ;

	field prerequisites_blob
	      links_to blob_values . blob_id ;

	field summary_blob
	      links_to blob_values . blob_id ;

	field table_name
	      datatype text ( 50 ) ;

	field criteria
	      links_to criteria_saved . identity ;

	field name_expression
	      datatype text ( 500 )
	      default 'Syntax("LE_TASK")' ;

	field execution_inspection_plan
	      links_to inspection_header . identity ;

	field require_review_comments
	      datatype boolean ;

	field batch_template_id
	      links_to batch_tmpl_header . identity as batch_template ;

	field is_executable
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field returns_entity
	      datatype boolean
	      default 'F'
	      true_word 'T'
	      false_word 'F' ;

	field return_table_name
	      datatype text ( 50 ) ;

	field incident_template_id
	      links_to incident_template . template_id as incident_template ;
		  
	field incident_workflow_id
	      links_to workflow . workflow_guid ;

	field return_data_parameter_id
	      links_to lab_method_step_parameter . lab_method_step_parameter_id as return_data_parameter ;

	field rack_template_id
	      links_to lab_rack_template . lab_rack_template_id as rack_template ;

	field rack_template_version
	      links_to lab_rack_template . lab_rack_template_version as rack_template ;

	field chromeleon_mapping_id
	      links_to chromeleon_mapping . identity as chromeleon_mapping ;

	field batch_step_id
	      links_to lab_method_step . lab_method_step_id as batch_step ;

	field batch_step_param_id
	      links_to lab_method_step_parameter . lab_method_step_parameter_id as batch_step_parameter ;

	field chromeleon_seq_step_id
	      links_to lab_method_step . lab_method_step_id as chromeleon_sequence_step ;

	field chromeleon_seq_step_param_id
	      links_to lab_method_step_parameter . lab_method_step_parameter_id as chromeleon_sequence_step_parameter ;

	field instrument_step_id
	      links_to lab_method_step . lab_method_step_id as instrument_step ;

	field instrument_step_param_id
	      links_to lab_method_step_parameter . lab_method_step_parameter_id as instrument_step_parameter ;

	field review_out_of_range
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'T' ;
		  
	field review_incidents
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'T' ;
		  
	field review_audits
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'T' ;
		  
	field review_manual_overrides
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'T' ;

	field plate_step_id
	      links_to lab_method_step . lab_method_step_id as plate_step ;

	field plate_step_param_id
	      links_to lab_method_step_parameter . lab_method_step_parameter_id as plate_step_parameter ;

	field xr_enabled
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'False' ;

	field introduction_alt_text
	      used_for translation
	      datatype text ( 2000 ) ;

	field prerequisite_alt_text
	      used_for translation
	      datatype text ( 2000 ) ;

table lab_method_step ;

	field lab_method_step_id
	      datatype guid
	      used_for unique_key ;

	field lab_method_id
	      links_to parent lab_method . lab_method_id as lab_method ;

	field lab_method_version
	      links_to parent lab_method . lab_method_version as lab_method ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field description
	      datatype text ( 500 )
	      used_for display_browse ( 4 ) ;

	field workflow_node
	      links_to workflow_node . workflow_node_guid ;

	field step_workflow_node
	      links_to workflow_node . workflow_node_guid ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field instruction_blob
	      links_to blob_values . blob_id ;

	field allow_comments
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field allow_attachments
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field allow_modification
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field auto_start
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field analysis_id
	      links_to versioned_analysis . identity as default_analysis ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as default_analysis ;

	field use_latest_version
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'T' ;

	field name_expression
	      datatype text ( 500 ) ;

	field complete_name_expression
	      datatype text ( 500 ) ;

	field step_minimum_interval
	      datatype interval ;

	field step_maximum_interval
	      datatype interval ;

	field create_esig
	      datatype boolean ;

	field cross_check_user
	      links_to personnel . identity ;

	field cross_check_role
	      links_to role_header . identity ;

	field data_context_step_id
	      links_to lab_method_step . lab_method_step_id as data_context_step ;

	field data_context_step_param_id
	      links_to lab_method_step_parameter . lab_method_step_parameter_id as data_context_step_parameter ;

	field next_step_id
	      links_to lab_method_step . lab_method_step_id as next_step ;

	field next_step_condition
	      datatype text ( 500 ) ;

	field require_review_comments
	      datatype boolean ;

	field auto_validate
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field esig_reason
	      datatype text ( 80 ) ;

	field is_sub_method
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'False' ;

	field lab_method_link_id
	      links_to lab_method . lab_method_id as lab_method_link ;

	field lab_method_link_version
	      links_to lab_method . lab_method_version as lab_method_link ;

	field lab_method_link_latest
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field batch_show
	      datatype boolean ;

	field batch_rack_show
	      datatype boolean ;

	field batch_modifiable
	      datatype boolean ;

	field chromeleon_show
	      datatype boolean ;

	field chromeleon_modifiable
	      datatype boolean ;

	field chromeleon_update
	      datatype boolean ;

	field allow_removal
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;

	field enable_workflow_button
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;
		  
	field workflow_button_name
	      datatype text ( 200 ) ;
		  
	field workflow_button_runonce
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;

	field workflow_button_autosave
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;

	field media_attachment
	      links_to attachment . attachment_guid ;

	field media_link
	      datatype text ( 250 ) ;

	field launch_expression
	      datatype text ( 250 ) ;

	field instruction_alt_text
	      used_for translation
	      datatype text ( 2000 ) ;

table lab_method_step_variable ;

	field lab_method_step_variable_id
	      datatype guid
	      used_for unique_key ;

	field variable_name
	      datatype text
	      used_for primary_browse, name ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field lab_method_step_id
	      links_to parent lab_method_step . lab_method_step_id as lab_method_step;

	field expression
	      datatype text ( 500 )
	      used_for display_browse ( 1 ) ;

table lab_method_step_parameter ;

	field lab_method_step_parameter_id
	      datatype guid
	      used_for unique_key ;

	field lab_method_step_id
	      links_to parent lab_method_step . lab_method_step_id as lab_method_step ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field description
	      datatype text ( 500 ) ;

	field parameter_type
	      default 'NUMERIC'
	      links_to parameter_type . identity as parameter_type;

	field default_value
	      datatype text ( 500 ) ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field mandatory_criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field create_as_parameter
	      datatype boolean ;

	field create_from_parameter
	      datatype boolean ;

	field parameter_name
	      datatype text ( 100 ) ;

	field units
	      links_to unit_header . identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field prompt_type
	      prompt_type choose
	      choose_type LE_PMTYPE
	      default 'MANDATORY'
	      datatype text ( 10 ) ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field create_as_result
	      datatype boolean ;

	field analysis_id
	      links_to versioned_analysis . identity as analysis ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as analysis ;

	field component_name
	      links_to versioned_component . name ;

	field lab_parsing_script_id
	      links_to lab_parsing_script . lab_parsing_script_id as lab_parsing_script ;

	field lab_parsing_script_version
	      links_to lab_parsing_script . lab_parsing_script_version as lab_parsing_script ;

	field lab_parsing_script_variable
	      datatype text ( 100 ) ;

	field lab_alias_id
	      links_to lab_alias . lab_alias_id as lab_alias ;

	field lab_alias_version
	      links_to lab_alias . lab_alias_version as lab_alias ;

	field source_type_id
	      default 'NONE'
	      datatype identity
	      prompt_type choose
	      choose_type LE_ITYPE ;

	field lab_data_source_id
	      links_to lab_data_source . lab_data_source_id as lab_data_source ;

	field lab_data_source_version
	      links_to lab_data_source . lab_data_source_version as lab_data_source ;

	field instrument_used
	      links_to instrument . identity ;

	field instrument_expression
	      datatype text ( 500 ) ;

	field only_read_on_focus
	      datatype boolean
	      default 'F'
	      false_word 'F'
	      true_word 'T' ;

	field save_on_read
	      datatype boolean
	      default 'F'
	      false_word 'F'
	      true_word 'T' ;

	field copy_to_batch
	      datatype boolean ;

	field batch_slot_type
	      prompt_type choose
	      choose_type BATCH_ENTR
	      default 'SAMPLE'
	      datatype text ( 10 ) ;

	field batch_slot
	      datatype packed_decimal
	      default '         0' ;

	field workflow_id
	      links_to workflow . workflow_guid as workflow_create_entity ;

	field workflow_version
	      links_to workflow . workflow_version as workflow_create_entity ;

	field copy_to_batch_control
	      datatype boolean ;

	field value_from_lab_execution_id
	      links_to lab_method . lab_method_id as value_from_lab_execution ;

	field value_from_lab_execution_ver
	      links_to lab_method . lab_method_version as value_from_lab_execution ;

	field require_creation
	      datatype boolean
	      default 'F'
	      false_word 'F'
	      true_word 'T' ;
		  
	field data_creation_latest
	      datatype boolean
	      default 'T'
	      false_word 'F'
	      true_word 'T' ;

	field copy_to_chromeleon
	      datatype boolean ;

	field phrase_valid_only
	      datatype boolean ;

	field samples_batch
	      datatype boolean ;
		  
	field rounding_formula datatype text ( 500 )
		default NULL ;

	field sig_figs_number datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_rounding datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_filter
	      links_to sig_figs . identity;
		  
	field refresh_instructions
	      datatype boolean
	      default 'F'
	      false_word 'F'
	      true_word 'T' ;
		  
table lab_method_step_substance ;

	field lab_method_step_id
	      links_to parent lab_method_step . lab_method_step_id as lab_method_step
	      used_for unique_key ;

	field substance_id
	      links_to substance . identity
	      used_for unique_key ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field comments
	      datatype text ( 500 ) ;

table lab_method_step_prereq ;

	field lab_method_step_id
	      links_to parent lab_method_step . lab_method_step_id as lab_method_step
	      used_for unique_key ;

	field lab_method_step_prereq_id
	      links_to lab_method_step . lab_method_step_id as lab_method_step_prereq
	      used_for unique_key ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field comments
	      datatype text ( 500 ) ;

table lab_method_training ;

	field lab_method_id
	      links_to parent lab_method . lab_method_id as lab_method
	      used_for unique_key, primary_browse ;

	field lab_method_version
	      links_to parent lab_method . lab_method_version as lab_method
	      used_for unique_key, display_browse ( 1 ) ;

	field training_course
	      links_to training_course . identity
	      used_for unique_key, display_browse ( 2 ) ;

	field minimum_competence
	      datatype identity
	      default '3'
	      prompt_type CHOOSE
	      choose_type TRAIN_COMP ;

table lab_parsing_script ;

	field lab_parsing_script_id
	      used_for unique_key
	      datatype guid ;

	field lab_parsing_script_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field type
	      datatype text ( 100 );

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field removeflag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field command_script_blob
	      links_to blob_values . blob_id ;

	field test_file_blob
	      links_to blob_values . blob_id ;

	field test_file_code_page
	      datatype integer
	      default 1252 ;

	field test_instrument
	      links_to instrument . identity ;

	field test_context
	      datatype text ( 100 ) ;

	field test_stored_data_path
	      datatype text ( 100 ) ;

	field lab_data_source_id
	      links_to lab_data_source . lab_data_source_id as lab_data_source ;

	field lab_data_source_version
	      links_to lab_data_source . lab_data_source_version as lab_data_source ;

	field execution_timeout
	      datatype integer
	      default 30;

table lab_mapping ;

	field lab_mapping_id
	      used_for unique_key
	      datatype guid ;

	field lab_mapping_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field remove_flag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field lab_parsing_script_id
	      links_to lab_parsing_script . lab_parsing_script_id as lab_parsing_script ;

	field lab_parsing_script_version
	      links_to lab_parsing_script . lab_parsing_script_version as lab_parsing_script ;

	field mapping_script_blob
	      links_to blob_values . blob_id ;

	field lab_alias_id
	      links_to lab_alias . lab_alias_id as lab_alias ;

	field lab_alias_version
	      links_to lab_alias . lab_alias_version as lab_alias ;

table lab_alias ;

	field lab_alias_id
	      used_for unique_key
	      datatype guid ;

	field lab_alias_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field remove_flag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field use_default
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;

	field default_translation
            default 'No Translation'
	      datatype text ( 100 ) ;

table lab_alias_entry ;

	field lab_alias_entry_id
	      used_for unique_key
	      datatype guid ;

	field lab_alias_id
	      links_to parent lab_alias . lab_alias_id as lab_alias
	      used_for unique_key ;

	field lab_alias_version
	      links_to parent lab_alias . lab_alias_version as lab_alias
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field context
	      datatype text ( 100 ) ;
		  
	field analysis_id
	      links_to versioned_analysis . identity as analysis_context ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as analysis_context ;

	field raw_input
	      datatype text ( 500 ) ;

	field input
	      datatype text ( 500 ) ;

	field output
	      datatype text ( 500 ) ;

table lab_import_definition ;

	field lab_import_definition_id
	      used_for unique_key
	      datatype guid ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field lab_parsing_script_id
	      links_to lab_parsing_script . lab_parsing_script_id as lab_parsing_script ;

	field lab_parsing_script_version
	      links_to lab_parsing_script . lab_parsing_script_version as lab_parsing_script ;

	field lab_mapping_id
	      links_to lab_mapping . lab_mapping_id as lab_mapping ;

	field lab_mapping_version
	      links_to lab_mapping . lab_mapping_version as lab_mapping ;

	field lab_alias_id
	      links_to lab_alias . lab_alias_id as lab_alias ;

	field lab_alias_version
	      links_to lab_alias . lab_alias_version as lab_alias ;

	field lab_data_source_id
	      links_to lab_data_source . lab_data_source_id as lab_data_source ;

	field lab_data_source_version
	      links_to lab_data_source . lab_data_source_version as lab_data_source ;

table lab_execution ;

	field lab_execution_id
	      datatype guid
	      used_for unique_key ;

	field lab_method_id
	      links_to lab_method . lab_method_id as lab_method ;

	field lab_method_version
	      links_to lab_method . lab_method_version as lab_method ;

	field lab_method_name
	      links_to lab_method . name ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field workflow_node
	      links_to workflow_node . workflow_node_guid ;

	field next_step_id
	      links_to lab_method_step . lab_method_step_id as next_step ;

	field status
	      datatype text ( 1 )
	      used_for display_browse ( 2 )
	      default 'U'
	      prompt_type choose
	      choose_type LE_ESTAT ;

	field lab_method_type
	      datatype identity
	      prompt_type choose
	      choose_type LE_MTYPE ;

	field execution_style
	      datatype identity
	      prompt_type choose
	      default 'LINEAR'
	      choose_type LE_ESTYLE ;

	field is_gxp
	      datatype boolean
	      default 'True'
	      true_word 'True'
	      false_word 'False' ;

	field date_created
	      datatype date ;

	field created_by
	      links_to personnel . identity ;

	field date_started
	      datatype date ;

	field started_by
	      links_to personnel . identity ;

	field date_completed
	      datatype date ;

	field completed_by
	      links_to personnel . identity ;

	field date_stopped
	      datatype date ;

	field stopped_by
	      links_to personnel . identity ;
		  
	field date_canceled
	      datatype date ;

	field canceled_by
	      links_to personnel . identity ;

	field date_assigned
	      datatype date ;

	field assigned_by
	      links_to personnel . identity ;

	field assigned_to
	      links_to personnel . identity ;

	field date_reviewed
	      datatype date ;

	field reviewed_by
	      links_to personnel . identity ;

	field review_comments
	      datatype text ( 500 ) ;

	field review_status
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type LE_REVIEWS ;

	field date_authorized
	      datatype date ;

	field authorized_by
	      links_to personnel . identity ;

	field date_rejected
	      datatype date ;

	field rejected_by
	      links_to personnel . identity ;

	field table_name
	      datatype identity ( 50 ) ;

	field record_key0
	      datatype text ( 500 )
	      case_sensitive ;

	field out_of_range
	      datatype boolean ;

	field old_status
	      datatype text ( 1 )
	      prompt_type choose
	      choose_type LE_ESTAT ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field batch
	      links_to batch_header . identity ;

	field session_variable
	      datatype integer
	      default 0;

	field created_by_step_parameter_id
	      links_to lab_execution_step_parameter . lab_execution_step_param_id as created_by_step_parameter ;

	field chromeleon_mapping_id
	      links_to chromeleon_mapping . identity as chromeleon_mapping ;

	field chromeleon_sequence_id
	      links_to chromeleon_sequence . identity as chromeleon_sequence ;

	field instrument_id
	      links_to instrument . identity as instrument ;

	field plate_id
	      links_to plate . plate_id as plate ;
		  
	field callback_step
	      links_to lab_method_step . lab_method_step_id as callback_step ;

	field xr_enabled
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'False' ;

table lab_execution_link_history;

	field lab_execution_id
	      links_to parent lab_execution . lab_execution_id as lab_execution
	      used_for unique_key ;

	field order_num
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field lab_method_step_id
	      links_to lab_method_step . lab_method_step_id as lab_method_step ;

	field lab_execution_target
	      links_to lab_execution_step . lab_execution_step_id as lab_execution_target ;
		  
	field lab_execution_source_step
	      links_to lab_execution_step . lab_execution_step_id as lab_execution_source_step ;

table lab_execution_link ;

	field lab_execution_link_id
	      datatype guid
	      used_for unique_key ;

	field lab_execution_id
	      links_to parent lab_execution . lab_execution_id as lab_execution ;

	field table_name
	      datatype identity ( 50 ) ;

	field record_key0
	      datatype text ( 500 )
	      case_sensitive ;

	field link_type
	      prompt_type choose
	      choose_type LE_LTYPE
	      default 'PARAMETER'
	      datatype text ( 10 ) ;

	field usage
	      prompt_type choose
	      choose_type LE_LUSAGE
	      default 'REFERENCE'
	      datatype text ( 10 ) ;

table lab_execution_step ;

	field lab_execution_step_id
	      datatype guid
	      used_for unique_key ;

	field lab_execution_id
	      links_to parent lab_execution . lab_execution_id as lab_execution ;

	field lab_method_step_id
	      links_to lab_method_step . lab_method_step_id as lab_method_step ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field workflow_node
	      links_to workflow_node . workflow_node_guid ;

	field status
	      datatype text ( 1 )
	      used_for display_browse ( 3 )
	      default 'V'
	      prompt_type choose
	      choose_type LE_SSTAT ;

	field step_type
	      links_to parameter_type . identity as parameter_type ;

	field allow_comments
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field allow_attachments
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field allow_modification
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field auto_start
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field comments
	      datatype text ( 500 ) ;

	field date_created
	      datatype date ;

	field created_by
	      links_to personnel . identity ;

	field date_started
	      datatype date ;

	field started_by
	      links_to personnel . identity ;

	field date_completed
	      datatype date ;

	field completed_by
	      links_to personnel . identity ;

	field date_canceled
	      datatype date ;

	field canceled_by
	      links_to personnel . identity ;

	field date_reviewed
	      datatype date ;

	field reviewed_by
	      links_to personnel . identity ;

	field review_comments
	      datatype text ( 500 ) ;

	field review_status
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type LE_REVIEWS ;

	field variable_ext
	      datatype text ( 4000 ) ;

	field out_of_range
	      datatype boolean ;

	field create_esig
	      datatype boolean ;

	field old_status
	      datatype text ( 1 )
	      prompt_type choose
	      choose_type LE_SSTAT ;

	field cross_check_user
	      links_to personnel . identity ;

	field cross_check_role
	      links_to role_header . identity ;

	field cross_check_date
	      datatype date ;

	field cross_check_by
	      links_to personnel . identity ;

	field table_name
	      datatype identity ( 50 ) ;

	field record_key0
	      datatype text ( 500 )
	      case_sensitive ;

	field parent_table_name
	      datatype identity ( 50 ) ;

	field parent_record_key0
	      datatype text ( 500 )
	      case_sensitive ;

	field batch_initialized
	      datatype boolean;

	field chromeleon_update
	      datatype boolean ;

	field allow_removal
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;
		  
	field modified
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;
		  
	field enable_workflow_button
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;
		  
	field workflow_button_name
	      datatype text ( 200 ) ;
		  
	field workflow_button_runonce
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;

	field workflow_button_autosave
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;
		  
	field workflow_button_has_run
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;
		  
	field step_reopened
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;
		  
	field instruction_blob
	      links_to blob_values . blob_id ;
		  
table lab_execution_step_parameter ;

	field lab_execution_step_param_id
	      datatype guid
	      used_for unique_key ;

	field lab_execution_step_id
	      links_to parent lab_execution_step . lab_execution_step_id as lab_execution_step ;

	field lab_method_step_parameter_id
	      links_to lab_method_step_parameter . lab_method_step_parameter_id as lab_method_step_parameter ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field name
	      links_to lab_method_step_parameter . name
	      used_for primary_browse, name ;

	field description
	      links_to lab_method_step_parameter . description
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field parameter_type
	      links_to parameter_type . identity as parameter_type;

	field table_name
	      links_to lab_method_step_parameter . table_name ;

	field phrase_type_id
	      links_to lab_method_step_parameter . phrase_type_id ;

	field value
	      datatype text ( 500 )
	      used_for display_browse ( 2 ) ;

	field date_value
	      datatype date ;

	field comments
	      datatype text ( 500 ) ;

	field out_of_range
	      datatype boolean ;

	field mandatory_criteria
	      links_to lab_method_step_parameter . mandatory_criteria ;

	field validation_criteria
	      links_to lab_method_step_parameter . validation_criteria ;

	field create_as_parameter
	      links_to lab_method_step_parameter . create_as_parameter ;

	field create_from_parameter
	      links_to lab_method_step_parameter . create_from_parameter ;

	field units
	      links_to lab_method_step_parameter . units ;

	field places
	      links_to lab_method_step_parameter . places ;

	field minimum
	      links_to lab_method_step_parameter . minimum ;

	field maximum
	      links_to lab_method_step_parameter . maximum ;

	field target_value
	      links_to lab_method_step_parameter . target_value ;

	field prompt_type
	      links_to lab_method_step_parameter . prompt_type ;

	field true_word
	      links_to lab_method_step_parameter . true_word ;

	field false_word
	      links_to lab_method_step_parameter . false_word ;

	field target_boolean
	      links_to lab_method_step_parameter . target_boolean ;

	field create_as_result
	      links_to lab_method_step_parameter . create_as_result ;

	field analysis_id
	      links_to versioned_analysis . identity as analysis ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as analysis ;

	field component_name
	      links_to versioned_component . name ;

	field parameter_name
	      datatype text ( 100 ) ;

	field result_error
	      datatype text ( 255 ) ;

	field copy_to_batch
	      datatype boolean ;

	field batch_slot_type
	      prompt_type choose
	      choose_type BATCH_ENTR
	      default 'SAMPLE'
	      datatype text ( 10 ) ;

	field batch_slot
	      datatype packed_decimal
	      default '         0' ;

	field workflow_create_id
	      links_to workflow . workflow_guid as workflow_create_entity ;

	field workflow_create_version
	      links_to workflow . workflow_version as workflow_create_entity ;

	field copy_to_batch_control
	      datatype boolean ;

	field copy_to_chromeleon
	      datatype boolean ;

	field chromeleon_sequence_id
	      links_to chromeleon_sequence_entry . chromeleon_sequence_id as chromeleon_sequence_entry ;

	field chromeleon_sequence_entry_id
	      links_to chromeleon_sequence_entry . order_number as chromeleon_sequence_entry ;

	field manually_entered
	      datatype boolean 
	      true_word 'True'
	      false_word 'False'
	      default 'False' ;

	field default_value
	      datatype text ( 500 ) ;

	field raw_value
	      datatype text ( 500 ) ;

	field entered_on
	      datatype date ;

	field entered_by
	      links_to personnel . identity ;

	field phrase_valid_only
	      datatype boolean ;

	field samples_batch
	      datatype boolean ;
		  
	field rounding_formula
	      datatype text ( 500 )
	      default NULL ;

	field sig_figs_number datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_rounding datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_filter
	      links_to sig_figs . identity;
	
table lab_execution_step_link ;

	field lab_execution_step_link_id
	      datatype guid
	      used_for unique_key ;

	field lab_execution_step_id
	      links_to parent lab_execution_step . lab_execution_step_id as lab_execution_step ;

	field table_name
	      datatype identity ( 50 ) ;

	field record_key0
	      datatype text ( 500 )
	      case_sensitive ;

	field link_type
	      prompt_type choose
	      choose_type LE_LTYPE
	      default 'PARAMETER'
	      datatype text ( 10 ) ;

	field usage
	      prompt_type choose
	      choose_type LE_LUSAGE
	      default 'REFERENCE'
	      datatype text ( 10 ) ;

table lab_data_source ;

	field lab_data_source_id
	      used_for unique_key
	      datatype guid ;

	field lab_data_source_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field removeflag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field data_source
	      datatype text ( 100 ) ;

	field log_raw_data_to_file
		 datatype boolean
		 true_word 'True'
	     false_word 'False'
	     default 'False';

	field raw_data_log_folder
		 datatype text ( 120 )
		 default 'GetFolder(&apos;smp$datastore&apos;)';
		 
	field raw_data_log_filename
		 datatype text ( 100 )
		 default '[Timestamp]';
	
	field raw_data_log_extension
		 datatype text ( 10 )
		 default 'txt';	
	
	field raw_data_store_method
	      datatype text ( 3 )
	      default 'RAW'
	      prompt_type choose
	      choose_type DSMETHOD ;
		  
table lab_data_source_setting ;

	field lab_data_source_setting_id
	      used_for unique_key
	      datatype guid ;

	field lab_data_source_id
	      links_to parent lab_data_source . lab_data_source_id as lab_data_source
	      used_for unique_key ;

	field lab_data_source_version
	      links_to parent lab_data_source . lab_data_source_version as lab_data_source
	      used_for unique_key ;

	field setting_name
	      datatype text ( 500 ) ;

	field setting_value
	      datatype text ( 500 ) ;

	field order_num
	      used_for ordering
	      datatype packed_decimal ;

table lab_rack_template ;

	field lab_rack_template_id
	      used_for unique_key
	      datatype guid ;

	field lab_rack_template_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field remove_flag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field number_of_rows
	      datatype integer
	      lower_limit 1
	      default 3 ;

	field number_of_columns
	      datatype integer
	      lower_limit 1
	      default 3 ;

	field cell_height
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field cell_width
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field column_heading_height
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field row_heading_width
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field icon_size
	      datatype integer
	      lower_limit 1
	      default 32 ;

	field empty_icon
	      links_to icon . identity
	      default 'WELL_EMPTY' ;

	field fill_order
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type LE_RFORDER
	      default 'LTRTTB' ;

	field row_label
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type LE_RALABEL ;

	field custom_row_labels
	      datatype text ( 100 ) ;

	field column_label
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type LE_RALABEL ;

	field custom_column_labels
	      datatype text ( 100 ) ;

	field size_mode
	      datatype text ( 1 )
	      prompt_type choose
	      choose_type LE_RASM
	      default  'N' ;

	field rack_color
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type COLOR
	      default 'RGB_FFFFFF' ;

	field focused_color
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type COLOR
	      default 'RGB_A9A9A9' ;

	field out_of_range_icon
	      links_to icon . identity ;

	field group_samples
	      datatype boolean ;

	field group_standards
	      datatype boolean ;

	field plate_mode
	      datatype boolean ;

	field plate_type_id
	      links_to plate_type . plate_type_id as plate_type ;

	field plate_type_version
	      default '         1'
	      links_to plate_type . plate_type_version as plate_type ;

	field plate_fill_order_id
	      links_to plate_fill_order . plate_fill_order_id as plate_fill_order ;

	field plate_fill_order_version
	      default '         1'
	      links_to plate_fill_order . plate_fill_order_version as plate_fill_order ;

	field plate_appearance_id
	      links_to plate_appearance . plate_appearance_id as plate_appearance ;

	field plate_appearance_version
	      default '         1'
	      links_to plate_appearance . plate_appearance_version as plate_appearance ;

table lab_rack_icon ;

	field lab_rack_icon_id
	      used_for unique_key
	      datatype guid ;

	field lab_rack_template_id
	      links_to parent lab_rack_template . lab_rack_template_id as lab_rack_template
	      used_for unique_key ;

	field lab_alias_version
	      links_to parent lab_rack_template . lab_rack_template_version as lab_rack_template
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field batch_entry_type
	      used_for unique_key
	      datatype text ( 14 )
	      prompt_type choose
	      choose_type BATCH_ENTR ;

	field icon
	      links_to icon . identity ;

table lab_rack_test_status_icon ;

	field lab_rack_icon_id
	      used_for unique_key
	      datatype guid ;

	field lab_rack_template_id
	      links_to parent lab_rack_template . lab_rack_template_id as lab_rack_template
	      used_for unique_key ;

	field lab_alias_version
	      links_to parent lab_rack_template . lab_rack_template_version as lab_rack_template
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field test_status
	      used_for unique_key
	      datatype text ( 14 )
	      prompt_type choose
	      choose_type TEST_STAT ;

	field icon
	      links_to icon . identity ;

table lab_rack_icon_expression ;

	field lab_rack_icon_id
	      used_for unique_key
	      datatype guid ;

	field lab_rack_template_id
	      links_to parent lab_rack_template . lab_rack_template_id as lab_rack_template
	      used_for unique_key ;

	field lab_alias_version
	      links_to parent lab_rack_template . lab_rack_template_version as lab_rack_template
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field expression
	      used_for unique_key
	      datatype text ( 100 ) ;

	field icon
	      links_to icon . identity ;

table lab_rack_overlay_expression ;

	field lab_rack_icon_id
	      used_for unique_key
	      datatype guid ;

	field lab_rack_template_id
	      links_to parent lab_rack_template . lab_rack_template_id as lab_rack_template
	      used_for unique_key ;

	field lab_alias_version
	      links_to parent lab_rack_template . lab_rack_template_version as lab_rack_template
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field expression
	      used_for unique_key
	      datatype text ( 100 ) ;

	field icon
	      links_to icon . identity ;

table retain_test_plan ;

	field identity
	      used_for unique_key, display_browse ( 1 )
	      datatype identity ( 20 ) ;

	field version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field removeflag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field test_frequency
	      datatype text ( 500 )
	      default 'TIME=(0:00)' ;

	field test_schedule_id
	      links_to test_sched_header . identity as test_schedule ;

	field test_workflow_id
	      links_to workflow . workflow_guid as test_workflow ;

	field test_workflow_version
	      links_to workflow . workflow_version as test_workflow ;

	field sample_workflow_id
	      links_to workflow . workflow_guid as sample_workflow ;

	field sample_workflow_version
	      links_to workflow . workflow_version as sample_workflow ;

	field analysis_id
	      links_to versioned_analysis . identity as analysis ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as analysis ;

	field pre_schedule
	      datatype interval
	      default '0000 0' ;

	field use_latest_version
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'Yes' ;
		  
{=====================================}
{Stores components for various schemas}
{=====================================}
table schema_layout ;
	field schema_guid
		used_for unique_key
		datatype guid ;

	field schema_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
		used_for primary_browse, name
		datatype text (100);

	field group_id
		links_to group_header . identity 
		used_for security_id;

	field description
		used_for display_browse ( 3 )
		datatype text (255);

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field removeflag
		used_for remove_flag
		datatype boolean;

	field custom_icon
		links_to icon . identity 
		default 'SCHEMA';

	field icon_overlay
		links_to icon . identity ;

	field comments_a
		datatype text (4000);

	field comments_b
		datatype text (4000);

	field comments_c
		datatype text (4000);

	field comments_d
		datatype text (4000);

	field comments_e
		datatype text (4000);

	field comments_f
		datatype text (4000);

	field comments_g
		datatype text (4000);

	field comments_h
		datatype text (4000);

	field comments_i
		datatype text (4000);

	field comments_j
		datatype text (4000);

	field comments_k
		datatype text (4000);

	field comments_l
		datatype text (4000);

	field comments_m
		datatype text (4000);

	field comments_n
		datatype text (4000);

	field comments_o
		datatype text (4000);

	field comments_p
		datatype text (4000);

	field comments_q
		datatype text (4000);

	field comments_r
		datatype text (4000);

	field comments_s
		datatype text (4000);

	field comments_t
		datatype text (4000);

	field comments_u
		datatype text (4000);

	field comments_v
		datatype text (4000);

	field comments_w
		datatype text (4000);

	field comments_x
		datatype text (4000);

	field comments_y
		datatype text (4000);

	field comments_z
		datatype text (4000);

	field eof_comment
		datatype text (1024);

	field dbase_is_oracle
		datatype boolean
		default 'N'
		true_word 'Y'
		false_word 'N';

	field dbase_is_sqlserver
		datatype boolean
		default 'N'
		true_word 'Y'
		false_word 'N';

	field dbase_is_postgresql
		datatype boolean
		default 'N'
		true_word 'Y'
		false_word 'N';

	field packed_decimal_as_integer
		datatype boolean
		default 'N'
		true_word 'Y'
		false_word 'N';

	field use_nvarchar
		datatype boolean
		default 'N'
		true_word 'Y'
		false_word 'N';

	field minimum_date
		datatype date;

	field sql_collation
		datatype text (32);

	field sql_collation_case_sensitive
		datatype text (32);

	field td_location_oracle
		datatype text (32);

	field td_location_sql_server
		datatype text (32);

	field td_location_postgresql
		datatype text (32);

	field td_location_rdb
		datatype text (32);

	field id_location_sql_server
		datatype text (32);

	field id_location_oracle
		datatype text (32);

	field id_location_postgresql
		datatype text (32);

	field id_location_rdb
		datatype text (32);
		
	field supported_languages
		datatype text ( 256 );
	
	field default_language
		datatype text ( 10 );

	field auto_translate_name
		datatype boolean;
	
	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;
		  
	field approval_status
		used_for display_browse ( 4 ), approval_status
		datatype text (1)
		default 'A'
		prompt_type choose
			choose_type APPR_STAT;

	field inspection_plan
		links_to inspection_header . identity 
		used_for inspection;

	field entity_icons
		datatype boolean;

	field has_attachments
		used_for has_attachments
		datatype boolean;

table schema_table ;
	field schema_guid
		links_to parent  schema_layout . schema_guid  as schema_layout
		used_for unique_key;

	field schema_version
		links_to parent  schema_layout . schema_version  as schema_layout
		used_for unique_key, display_browse ( 1 ), version_number;

	field identity
		used_for unique_key, primary_browse
		datatype identity (40);

	field active
		used_for active_flag
		datatype boolean
		default 'True'
		true_word 'True'
		false_word 'False';

	field active_from
		used_for active_start_date
		datatype date;

	field active_to
		used_for active_end_date
		datatype date;

	field has_attachments
		used_for has_attachments
		datatype boolean;

	field order_number
		used_for ordering
		datatype packed_decimal;

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field comments
		datatype text (4000);

	field read_only
		datatype boolean;

	field unmanaged
		datatype boolean;

	field no_index
		datatype boolean;

	field no_buffer
		datatype boolean;

	field insert_audit
		datatype integer
		default 2;

	field modify_audit
		datatype integer
		default 2;

	field delete_audit
		datatype integer
		default 2;

	field full_description
		datatype text (256);

	field aliases
		datatype text (256);

	field physical_name
		datatype text (100);

	field data_source
		datatype text (100);

	field table_set
		datatype text (100);

	field renamed_table
		datatype text (100);

	field prompt_description
		datatype text (100);

	field parent_table_guid
		links_to schema_table . schema_guid  as parent_table;

	field parent_table_version
		links_to schema_table . schema_version  as parent_table;

	field parent_table_id
		links_to schema_table . identity  as parent_table;
		
	field sqlserver_specific
		datatype text (500);

	field oracle_specific
		datatype text (500);

	field postgresql_specific
		datatype text (500);

	field sqlserver_location
		datatype text (500);

	field oracle_location
		datatype text (500);

	field postgresql_location
		datatype text (500);

table schema_sequence ;
	field schema_guid
		links_to parent  schema_layout . schema_guid  as schema_layout
		used_for unique_key;

	field schema_version
		links_to parent  schema_layout . schema_version  as schema_layout
		used_for unique_key, display_browse ( 1 ), version_number;

	field identity
		used_for unique_key, primary_browse
		datatype identity (40);

	field order_number
		used_for ordering
		datatype packed_decimal;

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field comments
		datatype text (4000);

	field major_key
		datatype text (50);

	field minor_key
		datatype text (50);

table schema_table_collection ;
	field schema_guid
		links_to parent  schema_table . schema_guid  as schema_table
		used_for unique_key, primary_browse;

	field schema_version
		links_to parent  schema_table . schema_version  as schema_table
		used_for unique_key, display_browse ( 1 ), version_number;

	field table_id
		links_to parent  schema_table . identity  as schema_table
		used_for unique_key;

	field identity
		used_for unique_key
		datatype identity (40);

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field link_table_guid
		links_to schema_table_field . schema_guid  as link_field;

	field link_table_version
		links_to schema_table_field . schema_version  as link_field;

	field link_table_id
		links_to schema_table_field . table_id  as link_field;

	field link_field_id
		links_to schema_table_field . identity  as link_field;

	field order_number
		used_for ordering
		datatype packed_decimal;

	field comments
		datatype text (512);

table schema_table_index ;
	field schema_guid
		links_to parent  schema_table . schema_guid  as schema_table
		used_for unique_key, primary_browse;

	field schema_version
		links_to parent  schema_table . schema_version  as schema_table
		used_for unique_key, display_browse ( 1 ), version_number;

	field table_id
		links_to parent  schema_table . identity  as schema_table
		used_for unique_key;

	field identity
		used_for unique_key
		datatype identity (40);

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field fields
		datatype text (512);

	field is_unique
		datatype boolean;

	field order_number
		used_for ordering
		datatype packed_decimal;

	field comments
		datatype text (512);

	field sqlserver_specific
		datatype text (500);

	field oracle_specific
		datatype text (500);

	field postgresql_specific
		datatype text (500);

	field sqlserver_location
		datatype text (500);

	field oracle_location
		datatype text (500);

	field postgresql_location
		datatype text (500);

table schema_table_field ;
	field schema_guid
		links_to parent  schema_table . schema_guid  as schema_table
		used_for unique_key;

	field schema_version
		links_to parent  schema_table . schema_version  as schema_table
		used_for unique_key, display_browse ( 1 ), version_number;

	field table_id
		links_to parent  schema_table . identity  as schema_table
		used_for unique_key;

	field identity
		used_for unique_key, primary_browse
		datatype identity (40);

	field order_number
		used_for ordering
		datatype packed_decimal;

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field field_type
		datatype text (30);

	field comments
		datatype text (512);

	field aliases
		datatype text (256);

	field textual_length
		datatype integer
		default 10
		format 9999999999;

	field descending
		datatype boolean;

	field link_table_guid
		links_to schema_table_field . schema_guid  as link_field;

	field link_table_version
		links_to schema_table_field . schema_version  as link_field;

	field link_table_id
		links_to schema_table_field . table_id  as link_field;

	field link_field_id
		links_to schema_table_field . identity  as link_field;

	field link_name
		datatype text (100);

	field prompt_description
		datatype text (256);

	field read_only
		datatype boolean;

{needs to be converted from string to target type}
	field default_field_value
		datatype text (100);

	field phrase_type
		datatype text (100);

	field phrase_identities
		datatype boolean;

	field phrase_display_description
		datatype boolean;

	field prompt_type
		datatype text (40)
		prompt_type choose
			choose_type SF_PHTYPE;

	field phrase_is_choose
		datatype boolean;

	field phrase_is_valid
		datatype boolean;
	
	field phrase_no_identities
		datatype boolean;

	field prompt_library
		datatype text (100);

	field prompt_routine
		datatype text (100);

	field true_word
		datatype text (234);

	field false_word
		datatype text (234);

	field allowed_chars
		datatype text (512);

	field upper_limit
		datatype text (32);

	field lower_limit
		datatype text (32);

	field override
		datatype boolean;

	field format
		datatype text (100);

	field case_sensitive
		datatype boolean;

	field is_guid
		datatype boolean;

	field is_key
		datatype boolean;

	field valid_reference
		datatype boolean;

	field links_to_parent
		datatype boolean;

{fields in table object model need to be virtual using values below}
	field is_modifiable_field
		datatype boolean;

	field is_modified_on_field
		datatype boolean;

	field is_modified_by_field
		datatype boolean;

	field is_group_field
		datatype boolean;

	field is_order_field
		datatype boolean;

	field is_version_field
		datatype boolean;

	field is_approval_status_field
		datatype boolean;

	field is_inspection_field
		datatype boolean;

	field is_browse_field
		datatype boolean;

	field browse_order
		datatype integer
		format 9999999999;

	field is_primary_browse
		datatype boolean;

	field is_active_flag_field
		datatype boolean;

	field is_active_start_date_field
		datatype boolean;

	field is_active_end_date_field
		datatype boolean;

	field is_name_field
		datatype boolean;

	field is_remove_flag
		datatype boolean;

	field is_has_attachments_field
		datatype boolean;

	field is_has_notebook_link_field
		datatype boolean;
	
	field audit_mode
		datatype integer
		default 2;

	field is_assignable_flag
		datatype boolean;

	field is_full_description
		datatype boolean;
	
	field is_translatable
		datatype boolean;

	field is_translation
		datatype boolean;

table schema_view ;
	field schema_guid
		links_to parent  schema_layout . schema_guid  as schema_layout
		used_for unique_key, primary_browse;

	field schema_version
		links_to parent  schema_layout . schema_version  as schema_layout
		used_for unique_key, display_browse ( 1 ), version_number;

	field identity
		used_for unique_key
		datatype identity (40);

	field active
		used_for active_flag
		datatype boolean
		default 'True'
		true_word 'True'
		false_word 'False';

	field active_from
		used_for active_start_date
		datatype date;

	field active_to
		used_for active_end_date
		datatype date;

	field has_attachments
		used_for has_attachments
		datatype boolean;

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field order_number
		used_for ordering
		datatype packed_decimal;

	field comments
		datatype text (512);

	field read_only
		datatype boolean;

	field unmanaged
		datatype boolean;

	field no_index
		datatype boolean;

	field no_buffer
		datatype boolean;

	field full_description
		datatype text (256);

	field aliases
		datatype text (256);

	field physical_name
		datatype text (100);

	field data_source
		datatype text (100);

	field table_set
		datatype text (100);

	field renamed_table
		datatype text (100);

	field prompt_description
		datatype text (100);

	field select_clause_a
	      datatype text (4000);

	field select_clause_b
	      datatype text (4000);

	field select_clause_c
	      datatype text (4000);

	field select_clause_d
	      datatype text (4000);

	field select_clause_e
	      datatype text (4000);

	field select_clause_f
	      datatype text (4000);

	field select_clause_g
	      datatype text (4000);

	field select_clause_h
	      datatype text (4000);

	field select_clause_i
	      datatype text (4000);

	field select_clause_j
	      datatype text (4000);

	field oracle_select_clause_a
	      datatype text (4000);

	field oracle_select_clause_b
	      datatype text (4000);

	field oracle_select_clause_c
	      datatype text (4000);

	field oracle_select_clause_d
	      datatype text (4000);

	field oracle_select_clause_e
	      datatype text (4000);

	field oracle_select_clause_f
	      datatype text (4000);

	field oracle_select_clause_g
	      datatype text (4000);

	field oracle_select_clause_h
	      datatype text (4000);

	field oracle_select_clause_i
	      datatype text (4000);

	field oracle_select_clause_j
	      datatype text (4000);

	field sql_server_select_clause_a
	      datatype text (4000);

	field sql_server_select_clause_b
	      datatype text (4000);

	field sql_server_select_clause_c
	      datatype text (4000);

	field sql_server_select_clause_d
	      datatype text (4000);

	field sql_server_select_clause_e
	      datatype text (4000);

	field sql_server_select_clause_f
	      datatype text (4000);

	field sql_server_select_clause_g
	      datatype text (4000);

	field sql_server_select_clause_h
	      datatype text (4000);

	field sql_server_select_clause_i
	      datatype text (4000);

	field sql_server_select_clause_j
	      datatype text (4000);

	field postgresql_select_clause_a
	      datatype text (4000);

	field postgresql_select_clause_b
	      datatype text (4000);

	field postgresql_select_clause_c
	      datatype text (4000);

	field postgresql_select_clause_d
	      datatype text (4000);

	field postgresql_select_clause_e
	      datatype text (4000);

	field postgresql_select_clause_f
	      datatype text (4000);

	field postgresql_select_clause_g
	      datatype text (4000);

	field postgresql_select_clause_h
	      datatype text (4000);

	field postgresql_select_clause_i
	      datatype text (4000);

	field postgresql_select_clause_j
	      datatype text (4000);

	field parent_table_guid
		links_to schema_table . schema_guid  as parent_table;

	field parent_table_version
		links_to schema_table . schema_version  as parent_table;

	field parent_table_id
		links_to schema_table . identity  as parent_table;



table schema_view_field ;
	field schema_guid
		links_to parent  schema_view . schema_guid  as schema_view
		used_for unique_key;

	field schema_version
		links_to parent  schema_view . schema_version  as schema_view
		used_for unique_key, display_browse ( 1 ), version_number;

	field view_id
		links_to parent  schema_view . identity  as schema_view
		used_for unique_key;

	field identity
		used_for unique_key, primary_browse
		datatype identity (40);

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field order_number
		used_for ordering
		datatype packed_decimal;

	field field_type
		datatype text (30);

	field comments
		datatype text (512);

	field aliases
		datatype text (256);

	field textual_length
		datatype integer
		default 10
		format 9999999999;

	field descending
		datatype boolean;

	field link_table_guid
		links_to schema_table_field . schema_guid  as link_field;

	field link_table_version
		links_to schema_table_field . schema_version  as link_field;

	field link_table_id
		links_to schema_table_field . table_id  as link_field;

	field link_field_id
		links_to schema_table_field . identity  as link_field;

	field link_name
		datatype text (100);

	field prompt_description
		datatype text (256);

	field read_only
		datatype boolean;

{needs to be converted from string to whatever}
	field default_field_value
		datatype text (100);

	field phrase_type
		datatype text (100);

	field phrase_identities
		datatype boolean;

	field phrase_display_description
		datatype boolean;

	field prompt_type
		datatype text (40)
		prompt_type choose
			choose_type SF_PHTYPE;

	field phrase_is_choose
		datatype boolean;

	field phrase_is_valid
		datatype boolean;

	field prompt_library
		datatype text (100);

	field prompt_routine
		datatype text (100);

	field true_word
		datatype text (234);

	field false_word
		datatype text (234);

	field allowed_chars
		datatype text (512);

	field upper_limit
		datatype text (32);

	field lower_limit
		datatype text (32);

	field override
		datatype boolean;

	field format
		datatype text (100);

	field case_sensitive
		datatype boolean;

	field is_guid
		datatype boolean;

	field is_key
		datatype boolean;

	field valid_reference
		datatype boolean;

	field links_to_parent
		datatype boolean;

{fields in table object model need to be virtual using values below}
	field is_modifiable_field
		datatype boolean;

	field is_modified_on_field
		datatype boolean;

	field is_modified_by_field
		datatype boolean;

	field is_group_field
		datatype boolean;

	field is_order_field
		datatype boolean;

	field is_version_field
		datatype boolean;

	field is_approval_status_field
		datatype boolean;

	field is_inspection_field
		datatype boolean;

	field is_browse_field
		datatype boolean;

	field browse_order
		datatype integer
		format 9999999999;

	field is_active_flag_field
		datatype boolean;

	field is_active_start_date_field
		datatype boolean;

	field is_active_end_date_field
		datatype boolean;

	field is_name_field
		datatype boolean;

	field is_remove_flag
		datatype boolean;

	field is_has_attachments_field
		datatype boolean;

	field is_has_notebook_link_field
		datatype boolean;

	field is_primary_browse
		datatype boolean;

table cert_template ;

	field cert_template_id
	      datatype guid
	      used_for unique_key ;

	field cert_template_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 1 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field certificate_type
	      datatype identity 
	      prompt_type choose
	      used_for display_browse ( 2 )
	      default 'SAMPLE'
	      choose_type CERT_TYPE ;

	field style
	      datatype identity
	      prompt_type choose
	      choose_type CERT_STYL
	      used_for display_browse ( 3 )
	      default 'GENERAL' ;

	field name_expression
	      datatype text ( 500 )
	      default 'Syntax("CERT_NAME")' ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description 
	      datatype text ( 255 )
	      used_for display_browse ( 4 ) ;

	field modified_on 
	      datatype date 
	      used_for modified_on ;

	field modified_by 
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable 
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag;
	      
	field active_from
	      datatype date
	      used_for active_start_date;
	      
	field active_to
	      datatype date
	      used_for active_end_date;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 5 ) , approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field certificate_inspection_plan
	      links_to inspection_header . identity ;

	field filter_lot
	      datatype text ( 500 )
	      default '[Status]=="A"' ;

	field filter_job
	      datatype text ( 500 )
	      default '[JobStatus]=="A"' ;

	field filter_sow
	      datatype text ( 500 ) ;

	field filter_sample
	      datatype text ( 500 )
	      default '[Status]=="A"' ;

	field filter_test
	      datatype text ( 500 )
	      default '[Status]=="A"' ;

	field filter_result
	      datatype text ( 500 )
	      default '[Status]=="A"' ;

	field entity_template_id
	      links_to entity_template . identity as entity_template 
	      default 'DEFAULT_CERT' ;

	field entity_template_version
	      links_to entity_template . entity_template_version as entity_template
	      default '         1' ;

	field entry_template_id
	      links_to entity_template . identity as entry_template
	      default 'DEFAULT_CERT_RESULT' ;

	field entry_template_version
	      links_to entity_template . entity_template_version as entry_template
	      default '         1' ;

	field report_template_id
	      links_to report_template . identity as report_template
	      default 'CERT_DEFAULT' ;

	field report_template_version
	      links_to report_template . version as report_template
	      default '         1' ;

	field certificate_workflow_id
	      links_to workflow . workflow_guid as certificate_workflow
	      default '405CB4A9-C1F1-4E11-9151-939A18B7462C' ;

	field certificate_workflow_version
	      links_to workflow . workflow_version as certificate_workflow
	      default '         1' ;

	field lab_alias_id
	      links_to lab_alias . lab_alias_id as lab_alias ;

	field lab_alias_version
	      links_to lab_alias . lab_alias_version as lab_alias 
	      default '         1' ;

	field initial_status
	      datatype identity
	      prompt_type choose
	      choose_type CERT_SSTAT
	      default 'D' ;

	field fill_mode
	      datatype identity
	      prompt_type choose
	      choose_type CERT_FILLM
	      default 'ALL' ;

	field load_mode
	      datatype identity
	      prompt_type choose
	      choose_type CERT_LOADM
	      default 'ALL' ;

	field reported_name_expression
	      datatype text ( 500 )
	      default '[ResultName]' ;

	field reported_value_expression
	      datatype text ( 500 )
	      default '[Text]' ;

	field reported_limit_expression
	      datatype text ( 500 )
	      default '[FormattedLimits]' ;

	field reported_units_expression
	      datatype text ( 500 )
	      default '[Units]' ;

	field reported_analysis_expression
	      datatype text ( 500 )
	      default '[FormattedAnalysis]' ;

	field lot_criteria_id
	      links_to criteria_saved . identity as lot_criteria
	      default 'AUTHORIZED' ;

	field lot_criteria_table
	      links_to criteria_saved . table_name as lot_criteria
	      default 'LOT_DETAILS' ;

	field job_criteria_id
	      links_to criteria_saved . identity as job_criteria
	      default 'AUTHORIZED' ;

	field job_criteria_table
	      links_to criteria_saved . table_name as job_criteria
	      default 'JOB_HEADER' ;

	field sample_criteria_id
	      links_to criteria_saved . identity as sample_criteria
	      default 'AUTHORIZED' ;

	field sample_criteria_table
	      links_to criteria_saved . table_name as sample_criteria
	      default 'SAMPLE' ;

	field test_criteria_id
	      links_to criteria_saved . identity as test_criteria
	      default 'AUTHORIZED' ;

	field test_criteria_table
	      links_to criteria_saved . table_name as test_criteria
	      default 'TEST' ;

	field results_read_only
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'Yes' ;

	field allow_add_lot
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field allow_add_job
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field allow_add_sample
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field allow_add_test
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field product_id
	      links_to mlp_header . identity as product ;

	field product_version
	      links_to mlp_header . product_version as product 
	      default '         1' ;

	field grade_code
	      links_to mlp_level . level_id ;

	field customer
	      links_to customer . identity ;

	field language
	      links_to language . identity ;

	field add_subsamples
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'Yes' ;

table cert_template_entry ;

	field cert_template_id
	      links_to parent cert_template . cert_template_id as cert_template
	      used_for unique_key ;

	field cert_template_version
	      links_to parent cert_template . cert_template_version as cert_template
	      default '         1'
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field analysis_id
	      links_to versioned_analysis . identity as analysis ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as analysis 
	      default '         1' ;

	field component_name
	      links_to versioned_component . name ;

	field reported_name_expression
	      datatype text ( 500 ) ;

	field reported_value_expression
	      datatype text ( 500 ) ;

	field reported_limit_expression
	      datatype text ( 500 ) ;

	field reported_units_expression
	      datatype text ( 500 ) ;

	field reported_analysis_expression
	      datatype text ( 500 ) ;

	field custom
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field mandatory
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

table cert ;

	field certificate_id
	      datatype guid
	      used_for unique_key ;

	field certificate_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 1 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field certificate_type
	      datatype identity 
	      prompt_type choose
	      used_for display_browse ( 2 )
	      default 'SAMPLE'
	      choose_type CERT_TYPE ;

	field style
	      datatype identity
	      prompt_type choose
	      choose_type CERT_STYL
	      used_for display_browse ( 3 ) ;

	field table_name
	      datatype identity ( 50 ) ;

	field record_key0
	      datatype text ( 500 )
	      case_sensitive ;

	field cert_template_id
	      links_to cert_template . cert_template_id as certificate_template ;

	field cert_template_version
	      links_to cert_template . cert_template_version as certificate_template 
	      default '         1' ;

	field cert_template_name
	      datatype text ( 100 ) ;

	field entity_template_id
	      links_to entity_template . identity as entity_template ;

	field entity_template_version
	      links_to entity_template . entity_template_version as entity_template
	      default '         1' ;

	field entry_template_id
	      links_to entity_template . identity as entry_template ;

	field entry_template_version
	      links_to entity_template . entity_template_version as entry_template
	      default '         1' ;

	field report_template_id
	      links_to report_template . identity as report_template ;

	field report_template_version
	      links_to report_template . version as report_template
	      default '         1' ;

	field certificate_blob
	      links_to blob_values . blob_id ;

	field status
	      datatype identity
	      prompt_type choose
	      choose_type CERT_STAT
	      used_for display_browse ( 4 )
	      default 'D' ;

	field date_created
	      datatype date 
	      default '0' ;

	field created_by
	      links_to personnel . identity ;

	field modified_on 
	      datatype date 
	      used_for modified_on ;

	field modified_by 
	      links_to personnel . identity
	      used_for modified_by ;

	field authorized_on 
	      datatype date ;

	field authorized_by
	      links_to personnel . identity ;

	field canceled_on 
	      datatype date ;

	field canceled_by
	      links_to personnel . identity ;

	field workflow_node
	      default 'CCA9E1C0-EDCD-44B6-AAC8-1A1555A33B20'
	      links_to workflow_node . workflow_node_guid ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 5 ) , approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field fill_mode
	      datatype identity
	      prompt_type choose
	      choose_type CERT_FILLM
	      default 'ALL' ;

	field load_mode
	      datatype identity
	      prompt_type choose
	      choose_type CERT_LOADM
	      default 'ALL' ;

	field product_id
	      links_to mlp_header . identity as product ;

	field product_version
	      links_to mlp_header . product_version as product 
	      default '         1' ;

	field grade_code
	      links_to mlp_level . level_id ;

	field customer
	      links_to customer . identity ;

	field language
	      links_to language . identity ;

	field comments
	      datatype text ( 500 )
	      default NULL ;

	field limit_check_failed 
	      datatype boolean ;

table cert_entry ;

	field certificate_id
	      links_to parent cert . certificate_id as certificate 
	      used_for unique_key ;

	field certificate_version
	      links_to parent cert . certificate_version as certificate
	      default '         1'
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field table_name
	      datatype identity ( 50 ) ;

	field record_key0
	      datatype text ( 500 )
	      case_sensitive ;

	field fill_mode
	      datatype identity
	      prompt_type choose
	      choose_type CERT_FILLM ;

	field include_children
	      datatype boolean ;

	field valid_only
	      datatype boolean ;

table cert_lot ;

	field certificate_id
	      links_to parent cert . certificate_id as certificate 
	      used_for unique_key ;

	field certificate_version
	      links_to parent cert . certificate_version as certificate
	      default '         1'
	      used_for unique_key ;

	field certificate_lot_id
	      datatype guid
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field lot
	      links_to lot_details . lot_id ;

	field comments 
	      datatype text ( 234 )
	      default NULL ;

table cert_job ;

	field certificate_id
	      links_to parent cert . certificate_id as certificate
	      used_for unique_key ;

	field certificate_version
	      links_to parent cert . certificate_version as certificate
	      default '         1'
	      used_for unique_key ;

	field certificate_job_id
	      datatype guid
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field lot
	      links_to lot_details . lot_id ;

	field job
	      links_to job_header . job_name ;

	field certificate_lot_id
	      links_to cert_lot . certificate_lot_id ;

	field comments 
	      datatype text ( 234 )
	      default NULL ;

table cert_sample ;

	field certificate_id
	      links_to parent cert . certificate_id as certificate
	      used_for unique_key ;

	field certificate_version
	      links_to parent cert . certificate_version as certificate
	      default '         1'
	      used_for unique_key ;

	field certificate_sample_id
	      datatype guid
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field lot
	      links_to lot_details . lot_id ;

	field job
	      links_to job_header . job_name ;

	field sample
	      links_to sample . id_numeric ;

	field id_numeric
	      datatype packed_decimal ;

	field id_text
	      datatype identity ( 30 ) ;

	field sampled_date
	      datatype date ;

	field recd_date
	      datatype date ;

	field dateresreq
	      datatype date ;

	field dateresavail
	      datatype date ;

	field date_authorised
	      datatype date ;

	field authoriser
	      links_to personnel . identity ;

	field authorisation_notes
	      datatype text ( 234 )
	      prompt_type phrase
	      phrase_type authsamp ;

	field product
	      links_to mlp_header . identity as product_link ;

	field product_version
	      links_to mlp_header . product_version as product_link ;

	field grade_code
	      links_to mlp_level . level_id ;

	field sampling_point
	      links_to sample_point . identity ;

	field sample_type
	      datatype identity
	      prompt_type phrase
	      valid
	      identities
	      phrase_type SAMP_TYPE ;

	field priority
	      datatype integer
	      format 999 ;

	field certificate_job_id
	      links_to cert_job . certificate_job_id ;

	field certificate_lot_id
	      links_to cert_lot . certificate_lot_id ;

	field comments 
	      datatype text ( 234 )
	      default NULL ;

table cert_test ;

	field certificate_id
	      links_to parent cert . certificate_id as certificate
	      used_for unique_key ;

	field certificate_version
	      links_to parent cert . certificate_version as certificate
	      default '         1'
	      used_for unique_key ;

	field certificate_test_id
	      datatype guid
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field lot
	      links_to lot_details . lot_id ;

	field job
	      links_to job_header . job_name ;

	field sample
	      links_to sample . id_numeric ;

	field test
	      links_to test . test_number ;

	field certificate_sample_id
	      links_to cert_sample . certificate_sample_id ;

	field certificate_job_id
	      links_to cert_job . certificate_job_id ;

	field certificate_lot_id
	      links_to cert_lot . certificate_lot_id ;

	field comments 
	      datatype text ( 234 )
	      default NULL ;

table cert_result ;

	field certificate_id
	      links_to parent cert . certificate_id as certificate
	      used_for unique_key ;

	field certificate_version
	      links_to parent cert . certificate_version as certificate
	      default '         1'
	      used_for unique_key ;

	field certificate_result_id
	      datatype guid
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field lot
	      links_to lot_details . lot_id ;

	field job
	      links_to job_header . job_name ;

	field sample
	      links_to sample . id_numeric ;

	field test
	      links_to result . test_number as result ;

	field result_name
	      links_to result . name as result ;

	field analysis_id
	      links_to versioned_analysis . identity as analysis ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as analysis ;

	field reported_name
	      datatype text ( 500 ) ;

	field reported_value
	      datatype text ( 500 ) ;

	field reported_limits
	      datatype text ( 500 ) ;

	field reported_units
	      datatype text ( 500 ) ;

	field reported_analysis
	      datatype text ( 500 ) ;

	field certificate_test_id
	      links_to cert_test . certificate_test_id ;

	field certificate_sample_id
	      links_to cert_sample . certificate_sample_id ;

	field certificate_job_id
	      links_to cert_job . certificate_job_id ;

	field certificate_lot_id
	      links_to cert_lot . certificate_lot_id ;

	field mandatory
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field result_type 
	      datatype text ( 1 ) ;

	field units 
	      datatype text ( 40 ) ;

	field value 
	      datatype real ;

	field text
	      datatype text ( 234 ) ;

	field places 
	      datatype integer ;

	field out_of_range
	      datatype boolean ;

	field comments 
	      datatype text ( 234 )
	      default NULL ;

	field limit_check_failed 
	      datatype boolean ;

table cert_result_limit ;

	field certificate_id
	      links_to parent cert_result . certificate_id as certificate_result
	      used_for unique_key ;

	field certificate_version
	      links_to parent cert_result . certificate_version as certificate_result
	      default '         1'
	      used_for unique_key ;

	field certificate_result_id
	      links_to parent cert_result . certificate_result_id as certificate_result
	      used_for unique_key ;

	field level_id
	      links_to mlp_level . level_id 
	      used_for unique_key ;

	field limit_check_failed
	      datatype boolean ;

	field min_limit
	      datatype text ( 234 ) ;

	field max_limit
	      datatype text ( 234 ) ;

table plate_appearance ;

	field plate_appearance_id
	      used_for unique_key
	      datatype guid ;

	field plate_appearance_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field remove_flag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field cell_height
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field cell_width
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field column_heading_height
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field row_heading_width
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field icon_size
	      datatype integer
	      lower_limit 1
	      default 32 ;

	field empty_icon
	      links_to icon . identity
	      default 'WELL_EMPTY' ;

	field no_slot_icon
	      links_to icon . identity
	      default 'INT_BLANK' ;

	field size_mode
	      datatype text ( 1 )
	      prompt_type choose
	      choose_type PLATE_SIZE
	      default  'N' ;

	field plate_color
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type COLOR
	      default 'RGB_FFFFFF' ;

	field focused_color
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type COLOR
	      default 'RGB_A9A9A9' ;

	field show_count_overlay
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field well_expression datatype text ( 500 )
	      default NULL ;

table plate_appearance_icon ;

	field plate_appearance_icon_id
	      used_for unique_key
	      datatype guid ;

	field plate_appearance_id
	      links_to parent plate_appearance . plate_appearance_id as plate_appearance
	      used_for unique_key ;

	field plate_appearance_version
	      links_to parent plate_appearance . plate_appearance_version as plate_appearance
	      default '         1'
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field expression
	      used_for unique_key
	      datatype text ( 500 ) ;

	field icon
	      links_to icon . identity ;

table plate_appearance_overlay ;

	field plate_appearance_overlay_id
	      used_for unique_key
	      datatype guid ;

	field plate_appearance_id
	      links_to parent plate_appearance . plate_appearance_id as plate_appearance
	      used_for unique_key ;

	field plate_appearance_version
	      links_to parent plate_appearance . plate_appearance_version as plate_appearance
	      default '         1'
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field expression
	      used_for unique_key
	      datatype text ( 500 ) ;

	field icon
	      links_to icon . identity ;

table plate_fill_order ;

	field plate_fill_order_id
	      used_for unique_key
	      datatype guid ;

	field plate_fill_order_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field removeflag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field fill_order
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type PLATE_FILL
	      used_for display_browse ( 1 )
	      default 'LTRTTB' ;

	field plate_type_id
	      links_to plate_type . plate_type_id as plate_type ;

	field plate_type_version
	      default '         1'
	      links_to plate_type . plate_type_version as plate_type ;

	field available_positions
	      datatype integer ;

table plate_fill_order_entry ;

	field plate_fill_order_id
	      used_for unique_key, display_browse ( 1 )
	      links_to parent plate_fill_order . plate_fill_order_id as plate_fill_order ;

	field plate_fill_order_version
	      used_for unique_key, display_browse ( 2 )
	      default '         1'
	      links_to parent plate_fill_order . plate_fill_order_version as plate_fill_order ;

	field order_number 
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field position
	      datatype integer ;

table plate_type ;

	field plate_type_id
	      used_for unique_key, display_browse ( 1 )
	      datatype guid ;

	field plate_type_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field removeflag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field number_of_rows
	      datatype integer
	      lower_limit 1
	      default 8 ;

	field number_of_columns
	      datatype integer
	      lower_limit 1
	      default 12 ;

	field row_label
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type PLATE_LABL
	      default 'A' ;

	field custom_row_labels
	      datatype text ( 100 ) ;

	field column_label
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type PLATE_LABL
	      default 'N' ;

	field custom_column_labels
	      datatype text ( 100 ) ;

	field stock
	      links_to stock . identity ;

table plate ;

	field plate_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field plate_type_id
	      links_to plate_type . plate_type_id as plate_type ;

	field plate_type_version
	      default '         1'
	      links_to plate_type . plate_type_version as plate_type ;

	field plate_type_name
	      datatype text ( 100 ) 
	      used_for display_browse ( 1 ) ;

	field plate_fill_order_id
	      links_to plate_fill_order . plate_fill_order_id as plate_fill_order ;

	field plate_fill_order_version
	      default '         1'
	      links_to plate_fill_order . plate_fill_order_version as plate_fill_order ;

	field plate_appearance_id
	      links_to plate_appearance . plate_appearance_id as plate_appearance ;

	field plate_appearance_version
	      default '         1'
	      links_to plate_appearance . plate_appearance_version as plate_appearance ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description 
	      datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field workflow_node
	      default 'D3C12E08-28E8-4131-88B5-EE3534AD38B7'
	      links_to workflow_node . workflow_node_guid ;

	field location_id
	      links_to location . identity as location ;

	field status
	      datatype text ( 1 )
	      used_for display_browse ( 2 )
	      prompt_type choose
	      choose_type PLATE_STAT ;

	field old_status
	      datatype text ( 1 )
	      prompt_type choose
	      choose_type PLATE_STAT ;

	field approval_status
	      datatype text ( 1 )
	      used_for approval_status
	      default 'V'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field stock_id
	      links_to stock_batch . stock as stock_batch ;

	field stock_batch_id
	      links_to stock_batch . stock_batch as stock_batch ;

	field entity_template_id
	      links_to entity_template . identity as entity_template ;

	field entity_template_version
	      default '         1'
	      links_to entity_template . entity_template_version as entity_template ;

	field comments
	      datatype text ( 255 )
	      default NULL ;

	field login_on
	      datatype date
	      default '0' ;

	field login_by
	      links_to personnel . identity ;

	field authorized_on 
	      datatype date ;

	field authorized_by
	      links_to personnel . identity ;

	field canceled_on 
	      datatype date ;

	field canceled_by
	      links_to personnel . identity ;

	field completed_on 
	      datatype date ;

	field completed_by
	      links_to personnel . identity ;

	field disposed_on 
	      datatype date ;

	field disposed_by
	      links_to personnel . identity ;

	field has_notebook_link
	      datatype boolean
	      used_for has_notebook_link;

table plate_parameter ;

	field plate_id
	      links_to parent plate . plate_id as plate
	      used_for unique_key, display_browse ( 1 ) ;

	field parameter_id
	      datatype guid
	      used_for unique_key ;

	field parameter_name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field parameter_type
	      links_to parameter_type . identity  as parameter_type ;

	field value
	      datatype text ( 255 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field category
	      datatype identity
	      prompt_type choose
	      choose_type LE_PCATG ;

	field units
	      links_to unit_header . identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field entered_on
	      datatype date ;

	field entered_by
	      links_to personnel . identity ;

	field out_of_range
	      datatype boolean ;

	field criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field raw_value
	      datatype text ( 500 ) ;

	field date_value
	      datatype date ;

	field phrase_valid_only
	      datatype boolean ;

	field rounding_formula
	      datatype text ( 500 )
	      default NULL ;

	field sig_figs_number
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_rounding
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;

table batch_header_parameter ;

	field batch_id
	      links_to parent batch_header . identity as batch_header
	      used_for unique_key, display_browse ( 1 ) ;

	field parameter_id
	      datatype guid
	      used_for unique_key ;

	field parameter_name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field parameter_type
	      links_to parameter_type . identity  as parameter_type ;

	field value
	      datatype text ( 255 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field category
	      datatype identity
	      prompt_type choose
	      choose_type LE_PCATG ;

	field units
	      links_to unit_header . identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field entered_on
	      datatype date ;

	field entered_by
	      links_to personnel . identity ;

	field out_of_range
	      datatype boolean ;

	field criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field raw_value
	      datatype text ( 500 ) ;

	field date_value
	      datatype date ;

	field phrase_valid_only
	      datatype boolean ;

	field rounding_formula
	      datatype text ( 500 )
	      default NULL ;

	field sig_figs_number
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_rounding
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;

table location_favorite ;

	field favorite_id
	      used_for unique_key
	      datatype guid ;
		  
	field personnel_id
	      links_to parent  personnel . identity  as locationfavorites
	      used_for unique_key;

	field order_number
	      used_for ordering
	      datatype packed_decimal;

	field location
	      links_to location . identity ;

{*************************************************}
{ Tables for Data Manager                         }
{*************************************************}

table dm_rule_template ;

	field dm_rule_template_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field key_file_spec
	      datatype text ( 255 ) ;

	field package_class
	      datatype text ( 255 ) ;

	field package_progid
	      datatype text ( 255 ) ;

	field upload_rule
	      datatype text ( 4000 ) ;

	field converter_class
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMCNVCLASS ;

	field converter_name
	      datatype text ( 255 ) ;

	field converter_extension
	      datatype text ( 255 ) ;

table dm_capture_interval ;

	field dm_capture_interval_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field package_interval
	      datatype interval
	      lower_limit '0 00:00:00.00' ;

	field package_file_event
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMFILEST ;

	field delete_after_package
	      datatype boolean ;

	field delete_interval
	      datatype interval
	      lower_limit '0 00:00:00.00' ;

	field delete_file_event
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMDELST ;

	field delete_dir
	      datatype boolean ;

table dm_data_package ;

	field dm_data_package_id
	      datatype guid
	      used_for unique_key ;

	field dm_data_package_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 1 ) ;

	field name
	      datatype text ( 255 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 2 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field dm_data_destination_id
	      links_to dm_data_destination . dm_data_destination_id as dm_data_destination ;

	field dm_packaging_rule_id
	      links_to dm_packaging_rule . dm_packaging_rule_id as dm_packaging_rule ;

	field computer_name
	      datatype text ( 255 ) ;

	field data_package_file
	      datatype text ( 255 ) ;

	field key_file_name
	      datatype text ( 255 ) ;

	field first_file_created_date
	      datatype date ;

	field last_file_modified_date
	      datatype date ;

	field packaged_on
	      datatype date ;

	field data_package_file_checksum
	      datatype text ( 255 ) ;

	field data_package_file_size
	      datatype integer ;

	field status
	      datatype text (1)
	      used_for display_browse ( 3 )
	      prompt_type choose
	      choose_type DMPACKSTAT ;

	field capture_source_name	
	      datatype text ( 100 ) ;

	field has_neutral_file
	      datatype boolean ;

	field neutral_file_name	
	      datatype text ( 255 ) ;

	field workflow_node
	      links_to workflow_node . workflow_node_guid ;

table dm_data_package_file ;

	field dm_data_package_id
	      links_to parent dm_data_package . dm_data_package_id as dm_data_package 
	      used_for unique_key ;

	field dm_data_package_version
	      links_to parent dm_data_package . dm_data_package_version as dm_data_package 
	      used_for unique_key ;

	field dm_data_package_file_id
	      datatype guid
	      used_for unique_key ;

	field file_name
	      datatype text ( 255 ) ;

	field file_created_date
	      datatype date ;

	field file_modified_date
	      datatype date ;

	field packaged_on
	      datatype date ;

	field deleted_on
	      datatype date ;

	field file_size
	      datatype integer ;

table dm_data_item ;

	field dm_data_package_id
	      links_to parent dm_data_package . dm_data_package_id as dm_data_package 
	      used_for unique_key ;

	field dm_data_package_version
	      links_to parent dm_data_package . dm_data_package_version as dm_data_package 
	      used_for unique_key ;

	field dm_data_item_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 255 )
	      used_for primary_browse, name ;

	field dm_converter_id
	      links_to dm_converter . dm_converter_id as dm_converter ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field dm_property_script_id
	      links_to dm_property_script . dm_property_script_id as dm_property_script ;

	field created_on
	      datatype date ;

	field modified_on
	      datatype date ;

	field converter_class
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMCNVCLASS ;

	field converter_file
	      datatype text ( 255 ) ;

	field file_size
	      datatype integer ;

	field workflow_node
	      links_to workflow_node . workflow_node_guid ;

	field is_result_data
	      datatype boolean ;

table dm_data_item_data ;

	field dm_data_package_id
	      links_to parent dm_data_package . dm_data_package_id as dm_data_package
	      used_for unique_key ;

	field dm_data_package_version
	      links_to parent dm_data_package . dm_data_package_version as dm_data_package
	      used_for unique_key, version_number ;

	field dm_data_item_id
	      datatype guid
	      used_for unique_key ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field binary_data
	      datatype text ( 2000 ) ;

	field converter_class
	      datatype text ( 255 ) ;

table dm_data_item_property ;

	field dm_data_package_id
	      links_to parent dm_data_item . dm_data_package_id as dm_data_item 
	      used_for unique_key ;

	field dm_data_package_version
	      links_to parent dm_data_item . dm_data_package_version as dm_data_item 
	      used_for unique_key ;

	field dm_data_item_id
	      links_to parent dm_data_item . dm_data_item_id as dm_data_item
	      used_for unique_key ;

	field dm_data_item_property_id
	      datatype guid
	      used_for unique_key ;

	field dm_package_property_id
	      links_to dm_package_property . dm_package_property_id as dm_package_property;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field value_date
	      datatype date ;

	field value_number
	      datatype real ;

	field value_text
	      datatype text ( 4000 ) ;

	field modifiable
	      datatype boolean ;

table dm_converter ;

	field dm_converter_id
	      datatype guid
	      used_for unique_key ;

	field dm_packaging_rule_id
	      links_to parent dm_packaging_rule . dm_packaging_rule_id as dm_packaging_rule ;

	field converter_class
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMCNVCLASS ;

	field converter_name
	      datatype text ( 255 ) ;

	field converter_extension
	      datatype text ( 255 ) ;

	field dm_rule_template_id
	      links_to dm_rule_template . dm_rule_template_id as dm_rule_template ;

	field dm_property_script_id
	      links_to dm_property_script . dm_property_script_id as dm_property_script ;

	field workflow_id
	      links_to workflow . workflow_guid ;

	field create_result_data
	      datatype boolean ;

	field order_num
	      datatype packed_decimal
	      used_for ordering;

	field convert_sequence 
	      datatype text (10) ;

	field store_neutral_override
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMCNVSTORE ;

table dm_packaging_rule ;

	field dm_packaging_rule_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field syntax_id
	      links_to syntax . identity ;

	field dm_data_destination_id
	      links_to dm_data_destination . dm_data_destination_id as dm_data_destination ;

	field key_file_spec
	      datatype text ( 255 ) ;

	field upload_rule
	      datatype text ( 255 ) ;

	field package_class
	      datatype text ( 255 ) ;

	field package_progid
	      datatype text ( 255 ) ;

	field store_neutral
	      datatype boolean 
	      true_word 'Yes'
	      false_word 'No'
	      default 'Yes';

	field packaging_group_id
	      links_to group_header . identity ; 

	field dm_rule_template_id
	      links_to dm_rule_template . dm_rule_template_id as dm_rule_template ;

	field workflow_id
	      links_to workflow . workflow_guid ;

	field zip_compression_level
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMZIPCOMP
		  default 'FASTEST';

table dm_capture_source ;

	field dm_capture_source_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field dm_agent_computer_id
	      links_to dm_agent_computer . dm_agent_computer_id as dm_agent_computer ;

	field dm_packaging_rule_id
	      links_to dm_packaging_rule . dm_packaging_rule_id as dm_packaging_rule ;

	field search_path
	      datatype text ( 255 ) ;

	field recursive
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMSERSUB ;

	field dm_capture_interval_id
	      links_to dm_capture_interval . dm_capture_interval_id as dm_capture_interval ;

	field packaging_group_id
	      links_to group_header . identity ; 

	field include_hidden_files
	      datatype boolean 
	      true_word 'Yes'
	      false_word 'No'
	      default 'Yes' ;

	field set_archived_flag
	      datatype boolean ;

	field set_read_only
	      datatype boolean ;

	field database_server
	      datatype text ( 100 ) ;

	field database_name
	      datatype text ( 100 ) ;

	field database_login
	      datatype text ( 100 ) ;

	field database_password
	      datatype text ( 100 ) ;

	field database_parameters
	      datatype text ( 255 ) ;

	field enabled
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'Yes' ;

	field use_cache
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field invalidate_cache
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field remove_superseded
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;
	      
table dm_data_destination ;

	field dm_data_destination_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field dm_server_computer_id
	      links_to dm_server_computer . dm_server_computer_id as dm_server_computer ;

	field file_path
	      datatype text ( 255 ) ;

table dm_property_script ;

	field dm_property_script_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

table dm_property_script_entry ;

	field dm_property_script_id
	      links_to parent dm_property_script . dm_property_script_id as dm_property_script
	      used_for unique_key ;

	field original_field_name
	      datatype text ( 255 )
	      used_for unique_key ;

	field dm_package_property_id
	      links_to dm_package_property . dm_package_property_id as dm_package_property ;

	field mapping_method
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMPRPEXT ;

	field modifiable
	      datatype boolean ;

	field always_create
	      datatype boolean ;

	field default_text
	      datatype text ( 4000 ) ;

table dm_package_property ;

	field dm_package_property_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field datatype
	      datatype text (1)
	      prompt_type choose
	      choose_type DMDATATYP ;

	field entity_type
	      datatype text(30) ;

	field entity_field_name
	      datatype text(100) ;

table dm_server_computer ;

	field dm_server_computer_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field computer_name
	      datatype text ( 100 ) ;

	field host_name
	      datatype text ( 100 ) ;

	field tcp_port_number
	      datatype text ( 6 ) ;

	field http_port_number
	      datatype text ( 6 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

table dm_agent_computer ;

	field dm_agent_computer_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field computer_name
	      datatype text ( 100 ) ;

	field sweep_enabled
	      datatype boolean ;

	field sweep_start_time
	      datatype text ( 14 ) ;

	field sweep_repeat_interval
	      datatype interval
	      lower_limit '0 00:00:00.00' ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field no_events_for_empty_sweep
	      datatype boolean ;

	field agent_timezone
	      datatype text ( 100 ) ;

table dm_status_agent ;

	field dm_status_agent_id
	      datatype guid
	      used_for unique_key ;

	field agent_computer_id
	      links_to dm_agent_computer . dm_agent_computer_id as agent_computer_id ;

	field agent_computer_name
	      datatype text ( 100 )
	      used_for display_browse;

	field agent_computer_description
	      datatype text ( 234 )
	      used_for display_browse;

	field agent_computer_computer_name
	      datatype text ( 100 );

	field agent_computer_timezone
	      datatype text ( 100 )
		  used_for display_browse;

	field current_status
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMAGNTSTAT used_for display_browse;

	field last_schedule_read_date
	      datatype date;

	field last_sweep_start_date
	      datatype date used_for display_browse;

	field last_sweep_end_date
	      datatype date;

	field last_sweep_time_span
	      datatype text ( 20 ) 
	      used_for display_browse;
	
	field next_sweep_date
	      datatype date used_for display_browse;


table dm_status_capture_source ;

	field dm_status_capture_source_id
	      datatype guid
	      used_for unique_key ;

	field capture_source_id
	      links_to dm_capture_source . dm_capture_source_id as capture_source_id ;

	field capture_source_name
	      datatype text ( 100 ) 
	      used_for display_browse;

	field capture_source_description
	      datatype text ( 234 ) 
	      used_for display_browse;

	field agent_computer_id
	      links_to dm_agent_computer . dm_agent_computer_id as agent_computer_id ;

	field agent_computer_name
	      datatype text ( 100 )
	      used_for display_browse;

	field agent_computer_description
	      datatype text ( 234 );

	field agent_computer_computer_name
	      datatype text ( 100 );

	field agent_computer_timezone
	      datatype text ( 100 )
		  used_for display_browse;

	field current_status
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMCAPSRCST;

	field last_sweep_start_date
	      datatype date used_for display_browse;

	field last_sweep_end_date
	      datatype date;

	field last_sweep_time_span
	      datatype text ( 20 ) 
	      used_for display_browse;
	
	field keyfile_found_count
	      datatype integer used_for display_browse;

	field packages_created_count
	      datatype integer used_for display_browse;

	field already_packaged_count
	      datatype integer used_for display_browse;

	field not_eligible_count
	      datatype integer used_for display_browse;

	field packaging_error_count
	      datatype integer used_for display_browse;

	field conversion_error_count
	      datatype integer used_for display_browse;

table dm_data_item_link ;

	field link_guid
	      datatype guid
	      used_for unique_key ;

	field table_name
	      datatype text ( 30 ) ;

	field record_key0
	      datatype text ( 100 ) ;

	field dm_data_package_id
	      links_to dm_data_item . dm_data_package_id as dm_data_item ;

	field dm_data_package_version
	      links_to dm_data_item . dm_data_package_version as dm_data_item ;

	field dm_data_item_id
	      links_to dm_data_item . dm_data_item_id as dm_data_item ;

	field linked_on
	      datatype date ;

	field linked_by
	      links_to personnel . identity ;

table dm_event_entry ;

	field dm_event_entry_id
	      datatype guid
	      used_for unique_key ;

	field event_id
	      datatype text ( 19 ) ;

	field event_type
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMEVENTLOG ;

	field event_date
	      datatype date ;

	field event_title
	      datatype text ( 100 ) ;

	field source_computer_name
	      datatype text ( 100 ) ;

	field component_name
	      datatype text ( 100 ) ;

	field capture_source_name
	      datatype text ( 100 ) ;

	field server_computer_name
	      datatype text ( 100 ) ;

	field event_details
	      datatype text ( 1000 ) ;

table dm_client_computer ;

	field dm_client_computer_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field computer_name	
	      datatype text ( 100 ) ;

	field api_enabled
	      datatype boolean ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

table dm_global ;

	field current_version
	      datatype identity(20) 
		  used_for unique_key;

	field file_size_is_kb
		datatype boolean
		true_word 'Yes'
		false_word 'No' 
		default 'No';

table dm_gaml_extraction_rule ;

	field converter_name
		datatype text ( 50 )
		used_for unique_key ;

	field gaml_file_element
		datatype text ( 12 ) 
		used_for unique_key ;

	field gaml_file_element_parm
		datatype text ( 100 )
		used_for unique_key ;

	field dm_gaml_table
		datatype text ( 24 )
		used_for unique_key ;

	field dm_gaml_table_field
		datatype text ( 100 )
		used_for unique_key ;

table dm_gaml ;

	field gaml_id
		datatype guid
		used_for unique_key ;

	field dm_data_package_id
		links_to parent dm_data_item . dm_data_package_id as dm_data_item ;

	field dm_data_package_version
		links_to parent dm_data_item . dm_data_package_version as dm_data_item ;

	field dm_data_item_id
		links_to parent dm_data_item . dm_data_item_id as dm_data_item ;

	field sm_sample_id
		links_to parent sample.id_numeric as sm_sample ;

	field name
		datatype text ( 255 )
		used_for primary_browse, name ;
	
	field seq_name
		datatype text ( 100 ) used_for display_browse;

	field seq_info
		datatype text ( 255 ) used_for display_browse;

	field operator
		datatype text ( 30 ) used_for display_browse;

	field instrument_name
		datatype text ( 100 ) used_for display_browse;

	field misc_info
		datatype text ( 255 ) used_for display_browse;

table dm_gaml_experiment ;

	field exp_id
		datatype guid
		used_for unique_key ;

	field gaml_id
		links_to parent dm_gaml . gaml_id as dm_gaml ;

	field dm_data_package_id
		links_to parent dm_data_item . dm_data_package_id as dm_data_item ;

	field dm_data_package_version
		links_to parent dm_data_item . dm_data_package_version as dm_data_item ;

	field dm_data_item_id
		links_to parent dm_data_item . dm_data_item_id as dm_data_item ;

	field dm_internal_experiment_index
		datatype integer ;

	field sm_sample_id
		links_to parent sample.id_numeric as sm_sample ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

	field injection_number
		datatype integer used_for display_browse;

	field exp_info
		datatype text ( 255 ) used_for display_browse;

	field study_name
		datatype text ( 100 ) used_for display_browse;

	field lims_id
		datatype text ( 100 ) used_for display_browse;

	field client_id
		datatype text ( 100 ) used_for display_browse;

	field barcode
		datatype text ( 100 ) used_for display_browse;

	field operator
		datatype text ( 30 ) used_for display_browse;

	field batch
		datatype text ( 100 ) used_for display_browse;

	field exp_type
		datatype text ( 30 ) used_for display_browse;

	field misc_info
		datatype text ( 255 ) used_for display_browse;

	field method
		datatype text ( 255 ) used_for display_browse;

	field volume
		datatype real used_for display_browse;

	field amount
		datatype real used_for display_browse;

	field weight
		datatype real used_for display_browse;

table dm_gaml_trace ;

	field trace_id
		datatype guid
		used_for unique_key ;

	field gaml_id
		links_to parent dm_gaml . gaml_id as dm_gaml ;

	field exp_id
		links_to parent dm_gaml_experiment . exp_id as dm_gaml_experiment ;

	field dm_data_package_id
		links_to parent dm_data_item . dm_data_package_id as dm_data_item ;

	field dm_data_package_version
		links_to parent dm_data_item . dm_data_package_version as dm_data_item ;

	field dm_data_item_id
		links_to parent dm_data_item . dm_data_item_id as dm_data_item ;

	field dm_internal_experiment_index
	      datatype integer ;

	field dm_internal_trace_index
	      datatype integer ;

	field sm_sample_id
		links_to parent sample.id_numeric as sm_sample ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

	field detector
		datatype text ( 100 ) used_for display_browse ;

	field channel
		datatype text ( 100 ) used_for display_browse ;

	field method
		datatype text ( 255 ) used_for display_browse;

	field misc_info
		datatype text ( 255 ) used_for display_browse ;

	field noise_6_sigma
		datatype real ;

	field noise_peak_to_peak
		datatype real ;

	field noise_ASTM
		datatype real ;

	field wander
		datatype real ;

	field drift
		datatype real ;

table dm_gaml_trace_array ;

	field trace_array_id
		datatype guid
		used_for unique_key ;

	field gaml_id
		links_to parent dm_gaml . gaml_id as dm_gaml ;

	field exp_id
		links_to parent dm_gaml_experiment . exp_id as dm_gaml_experiment ;

	field trace_id
		links_to parent dm_gaml_trace . trace_id as dm_gaml_trace ;

	field dm_data_package_id
		links_to parent dm_data_item . dm_data_package_id as dm_data_item ;

	field dm_data_package_version
		links_to parent dm_data_item . dm_data_package_version as dm_data_item ;

	field dm_data_item_id
		links_to parent dm_data_item . dm_data_item_id as dm_data_item ;

	field dm_internal_experiment_index
	      datatype integer ;

	field dm_internal_trace_index
	      datatype integer ;

	field dm_internal_trace_array_index
	      datatype integer ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;
 
	field retention_time
		datatype real ;

table dm_gaml_peak_table ;

	field peak_table_id
		datatype guid
		used_for unique_key ;

	field gaml_id
		links_to parent dm_gaml . gaml_id as dm_gaml ;

	field exp_id
		links_to parent dm_gaml_experiment . exp_id as dm_gaml_experiment ;

	field trace_id
		links_to parent dm_gaml_trace . trace_id as dm_gaml_trace ;

	field trace_array_id
		links_to parent dm_gaml_trace_array . trace_array_id as dm_gaml_trace_array ;

	field dm_data_package_id
		links_to parent dm_data_item . dm_data_package_id as dm_data_item ;

	field dm_data_package_version
		links_to parent dm_data_item . dm_data_package_version as dm_data_item ;

	field dm_data_item_id
		links_to parent dm_data_item . dm_data_item_id as dm_data_item ;

	field dm_internal_experiment_index
	      datatype integer ;

	field dm_internal_trace_index
	      datatype integer ;

	field dm_internal_trace_array_index
	      datatype integer ;

	field dm_internal_peak_table_index
	      datatype integer ;
		
	field sm_sample_id
		links_to parent sample.id_numeric as sm_sample ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

table dm_gaml_peak ;

	field peak_id
		datatype guid
		used_for unique_key ;

	field gaml_id
		links_to parent dm_gaml . gaml_id as dm_gaml ;

	field exp_id
		links_to parent dm_gaml_experiment . exp_id as dm_gaml_experiment ;

	field trace_id
		links_to parent dm_gaml_trace . trace_id as dm_gaml_trace ;

	field trace_array_id
		links_to parent dm_gaml_trace_array . trace_array_id as dm_gaml_trace_array ;

	field peak_table_id
		links_to parent dm_gaml_peak_table . peak_table_id as dm_gaml_peak_table ;

	field dm_data_package_id
		links_to parent dm_data_item . dm_data_package_id as dm_data_item ;

	field dm_data_package_version
		links_to parent dm_data_item . dm_data_package_version as dm_data_item ;

	field dm_data_item_id
		links_to parent dm_data_item . dm_data_item_id as dm_data_item ;

	field dm_internal_experiment_index
	      datatype integer ;

	field dm_internal_trace_index
	      datatype integer ;

	field dm_internal_trace_array_index
	      datatype integer ;

	field dm_internal_peak_table_index
	      datatype integer ;
	
	field dm_internal_peak_index
	      datatype integer ;

	field sm_sample_id
		links_to parent sample.id_numeric as sm_sample ;

	field test_number
		links_to parent test.test_number as test ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

	field peak_group
		datatype text ( 30 ) used_for display_browse;

	field peak_detected
		datatype boolean used_for display_browse;

	field peak_type
		datatype text ( 30 ) used_for display_browse;

	field area
		datatype real used_for display_browse;

	field area_percent
		datatype real used_for display_browse;

	field area_sum
		datatype real used_for display_browse;

	field height
		datatype real used_for display_browse;

	field height_percent
		datatype real used_for display_browse;

	field height_sum
		datatype real used_for display_browse;

	field amount
		datatype real used_for display_browse;

	field amount_unit
		datatype text ( 30 ) used_for display_browse;

	field norm_amount
		datatype real used_for display_browse;

	field concentration
		datatype real used_for display_browse;

	field response_factor
		datatype real used_for display_browse;

	field response_ratio
		datatype real used_for display_browse;

	field capacity_factor
		datatype real used_for display_browse;

	field excess
		datatype real used_for display_browse;

	field statistical_moment_0
		datatype real used_for display_browse;
			
	field statistical_moment_1
		datatype real used_for display_browse;
			
	field statistical_moment_2
		datatype real used_for display_browse;
			
	field statistical_moment_3
		datatype real used_for display_browse;
			
	field statistical_moment_4
		datatype real used_for display_browse;

	field plate_2_sigma
		datatype real used_for display_browse;
			
	field plate_3_sigma
		datatype real used_for display_browse;
			
	field plate_4_sigma
		datatype real used_for display_browse;
			
	field plate_5_sigma
		datatype real used_for display_browse;
			
	field plates_per_meter_ep
		datatype real used_for display_browse;
			
	field plates_per_meter_usp
		datatype real used_for display_browse;
			
	field plates_per_meter_jp
		datatype real used_for display_browse;
			
	field plates_per_meter_aoh
		datatype real used_for display_browse;
			
	field plates_statistical
		datatype real used_for display_browse;
			
	field plates_per_meter_emg
		datatype real used_for display_browse;
			
	field plates_per_column_foley_dorsey
		datatype real used_for display_browse;
			
	field plates_per_meter_foley_dorsey
		datatype real used_for display_browse;

	field theoretical_plates_ep
		datatype real used_for display_browse;
			
	field theoretical_plates_usp
		datatype real used_for display_browse;
			
	field theoretical_plates_jp
		datatype real used_for display_browse;
			
	field theoretical_plates_aoh
		datatype real used_for display_browse;
			
	field theoretical_plates_emg
		datatype real used_for display_browse;

	field resolution_ep
		datatype real used_for display_browse;
			
	field resolution_5_sigma
		datatype real used_for display_browse;
			
	field resolution_usp
		datatype real used_for display_browse;
			
	field resolution_usp_hh
		datatype real used_for display_browse;
			
	field resolution_aoh
		datatype real used_for display_browse;
			
	field resolution_jp
		datatype real used_for display_browse;
			
	field resolution_dab
		datatype real used_for display_browse;
			
	field resolution_emg
		datatype real used_for display_browse;
			
	field resolution_statistical
		datatype real used_for display_browse;

	field skew
		datatype real used_for display_browse;
			
	field tailing_factor
		datatype real used_for display_browse;

	field width_base
		datatype real used_for display_browse;

	field width_2_sigma
		datatype real used_for display_browse;
			
	field width_3_sigma
		datatype real used_for display_browse;
			
	field width_4_sigma
		datatype real used_for display_browse;
			
	field width_5_sigma
		datatype real used_for display_browse;

	field width_5_pct
		datatype real used_for display_browse;
			
	field width_10_pct
		datatype real used_for display_browse;
			
	field width_50_pct
		datatype real used_for display_browse;

	field width_tangent
		datatype real used_for display_browse;

	field noise
		datatype real used_for display_browse;
			
	field noise_6_sigma
		datatype real used_for display_browse;
			
	field signal_to_noise
		datatype real used_for display_browse;
			
	field signal_to_noise_6_sigma
		datatype real used_for display_browse;
			
	field signal_to_noise_usp
		datatype real used_for display_browse;
			
	field signal_to_noise_ep
		datatype real used_for display_browse;
			
	field precision 
		datatype real used_for display_browse;
			
	field symmetry 
		datatype real used_for display_browse;
			
	field asymmetry_10_pct 
		datatype real used_for display_browse;
			
	field asymmetry_5_sigma_pct 
		datatype real used_for display_browse;

	field peak_valley_ratio
		datatype real used_for display_browse;
					
	field centroid
		datatype real used_for display_browse;
				
	field purity
		datatype real used_for display_browse;
		
	field r_square
		datatype real used_for display_browse;

	field kovats
		datatype real used_for display_browse;

	field loq
		datatype real used_for display_browse;
			
	field lod
		datatype real used_for display_browse;
			
	field misc_info
		datatype text ( 255 ) used_for display_browse;
		
table label_specification;

	field identity
		datatype identity
		used_for unique_key, display_browse (1);

	field group_id
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text (234)
		used_for display_browse (2);

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
	
		datatype boolean
		used_for remove_flag ;

	field name
		datatype text (100)
		used_for primary_browse, name;
	
	field has_attachments
		datatype boolean
		used_for has_attachments;

	field Label_Width 
		datatype real;

	field Label_Height
		datatype real;

	field Vertical_Pitch 
		datatype real;

	field Horizontal_Pitch
		datatype real;

	field Measurement_Unit 
		datatype text ( 10 )
		prompt_type choose
		choose_type GRAPHICS_U ;

	field Bottom_Margin 
		datatype real;

	field Top_Margin 
		datatype real;

	field Left_Margin
		datatype real;

	field Right_Margin 
		datatype real;

	field Paper_Kind
		datatype integer
		default '1' ;

	field Paper_Width 
		datatype real;

	field Paper_Height
		datatype real;

	field Roll_Paper
		datatype boolean;

table activity_log ;

	field activity_log_id
        datatype guid
		used_for unique_key ;

	field created_on
        datatype date 
		used_for primary_browse ;

	field created_by
        links_to personnel . identity
        used_for display_browse ( 1 ) ;

	field activity_type
		datatype text ( 10 )
		prompt_type choose
		choose_type activity 
		used_for display_browse ( 4 ) ;
		
	field value		
		datatype text (2000)
		used_for display_browse ( 3 ) ;
		
	field comments
		datatype text (2000)
		used_for display_browse ( 2 ) ;	
		
	field session_id
		links_to access_log . session_id ;

		
sequence seq_access_log_key0 major 'ACCESS_LOG' minor 'KEY0' ;

sequence seq_auditor_data major 'AUDITOR' minor 'DATA' ;

sequence seq_auditor_event major 'AUDITOR' minor 'EVENT' ;

sequence seq_auditor_transaction major 'AUDITOR' minor 'TRANSACTION' ;

sequence seq_blob_values_blob_id major 'BLOB_VALUES' minor 'BLOB_ID' ;

sequence seq_sample_key0 major 'SAMPLE' minor 'KEY0' ;

sequence seq_syntax_coa major 'SYNTAX' minor 'COA' ;

sequence seq_syntax_default major 'SYNTAX' minor 'DEFAULT' ;

sequence seq_syntax_incident major 'SYNTAX' minor 'INCIDENT' ;

sequence seq_syntax_jobdefault major 'SYNTAX' minor 'JOBDEFAULT' ;

sequence seq_syntax_samp_templ major 'SYNTAX' minor 'SAMP_TEMPL' ;

sequence seq_syntax_sampleplan major 'SYNTAX' minor 'SAMPLEPLAN' ;

sequence seq_test_test_number major 'TEST' minor 'TEST_NUMBER' ;

sequence seq_timerqueue_entry_number major 'TIMERQUEUE' minor 'ENTRY_NUMBER' ;

table site ;

	field identity
	      used_for unique_key, display_browse
	      datatype identity (10);

	field name
	      used_for display_browse, name
	      datatype text (100);

	field description
	      used_for display_browse
	      datatype text (255);

	field group_id
	      links_to group_header . identity
	      used_for security_id;

	field modified_on
	      used_for modified_on
	      datatype date;

	field modified_by
	      links_to personnel . identity 
	      used_for modified_by;

	field modifiable
	      used_for modifiable
	      datatype boolean;

	field remove_flag
	      used_for remove_flag
	      datatype boolean;

	field include_blanks
	      datatype boolean;

table group_reference ;

	field parent_site
	      links_to parent site.identity
	      used_for unique_key;

	field group_id
	      links_to group_header.identity
	      used_for unique_key;

	field order_number
	      datatype packed_decimal
	      used_for ordering;

table price_list;

	field price_list_guid
	      datatype guid
	      used_for unique_key ;

	field version
		datatype packed_decimal
		default '         1'
		used_for unique_key, version_number, display_browse(1);

	field name
		datatype text(100)
		used_for primary_browse, name;

	field description
		datatype text(234)
		used_for display_browse(3);

	field group_id
		links_to group_header.identity
		used_for security_id;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel.identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field approval_reqd
		datatype boolean;

	field approval_status
		datatype text(1)
		used_for approval_status, display_browse(2)
		default 'A'
		prompt_type choose
		choose_type APPR_STAT;

	field inspection_plan
		links_to inspection_header.identity
		used_for inspection;

	field active
		datatype boolean
		true_word 'True'
		false_word 'False'
		default 'True'
		used_for active_flag ;

	field active_from
		datatype date
		used_for active_start_date ;

	field active_to
		datatype date
		used_for active_end_date ;

	field currency
		links_to currency.currency_guid;

	field adjustment
		datatype real
		format '9999.99'
		lower_limit '-100.0'
		upper_limit '999.9';

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field base_price_list_guid
		links_to price_list.price_list_guid;

	field use_charge_code
		datatype boolean;

table price_list_charge_code;

	field price_list_guid
		links_to parent price_list.price_list_guid as price_list
		used_for unique_key;

	field price_list_version
		links_to parent price_list.version as price_list
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field pl_charge_code
		datatype  text(10)
		prompt_type choose
		choose_type CHARGECODE ;

	field price_option
		datatype identity
		default 'NONE'
		prompt_type choose
		choose_type PRC_LST_OP;

	field rate
		datatype real
		format '999999999.99'
		lower_limit '0.00';

table price_list_entry;

	field price_list_guid
		links_to parent price_list.price_list_guid as price_list
		used_for unique_key;

	field price_list_version
		links_to parent price_list.version as price_list
		used_for unique_key;

	field table_name
		datatype text(30)
		used_for unique_key;

	field entry_identifier
		datatype text(100)
		used_for unique_key;

	field price_option
		datatype identity
		used_for unique_key, display_browse(1)
		default 'NONE'
		prompt_type choose
		choose_type PRC_LST_OP;

	field name
		datatype text(100)
		used_for primary_browse, name;

	field description
		datatype text(234)
		used_for display_browse(2);

	field rate
		datatype real
		format '999999999.99'
		lower_limit '0.00';

	field quantity1
		datatype integer
		lower_limit '0';

	field discount1
		datatype real
		format '999.99'
		lower_limit '0.0'
		upper_limit '100.0';

	field quantity2
		datatype integer
		lower_limit '0';

	field discount2
		datatype real
		format '999.99'
		lower_limit '0.0'
		upper_limit '100.0';

table currency ;

	field currency_guid
		datatype guid
		used_for unique_key ;

	field name
		used_for primary_browse, name
		datatype text ( 100 ) ;

	field description
		used_for display_browse (2)
		datatype text (234);

	field custom_icon
		links_to icon . identity;

	field group_id
		alias group
		links_to group_header . identity
		used_for security_id;

	field removeflag
		datatype boolean
		used_for remove_flag ;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field alphabetic_code
		used_for display_browse (1)
		datatype text(3);

table currency_format ;

	field currency_format_guid
		datatype guid
		used_for unique_key ;

	field name
		datatype text(100)
		used_for primary_browse, name;

	field custom
		datatype boolean;

	field default_format
		datatype boolean;

	field locale
		datatype text ( 20 );

	field format_string
		datatype text ( 100 )
		default null ;

	field currency
		links_to parent currency . currency_guid;

table contact;

	field contact_guid
		datatype guid
		used_for unique_key ;

	field group_id
		links_to group_header.identity
		used_for security_id;

	field contact_name
		datatype text(234)
		used_for name, primary_browse;

	field description
		datatype text(234);

	field contact_type
		datatype text(10)
		default 'CUST'
		prompt_type choose
		choose_type CONT_TYPE;

	field customer
		links_to customer.identity;

	field supplier
		links_to supplier.identity;

	field department
		datatype text(10)
		prompt_type choose
		choose_type DEPARTMENT;

	field first_name
		datatype text(100);

	field last_name
		datatype text(100);

	field initials
		datatype text(10);

	field title
		datatype text(10)
		prompt_type choose
		choose_type CONT_TITLE
		default 'BLANK';

	field job_title
		datatype text(50)
		prompt_type phrase
		phrase_type CONT_JOB
		used_for display_browse(1);

	field use_company_address
		datatype boolean
		true_word 'True'
		false_word 'False'
		default 'True';

	field address1
		datatype text(100);

	field address2
		datatype text(100);

	field city
		datatype text(100);

	field state_county
		datatype text(100);

	field zip_postalcode
		datatype text(100);

	field country
		datatype text(100);

	field work_num
		datatype text(100)
		used_for display_browse(3);

	field mobile_num
		datatype text(100)
		used_for display_browse(4);

	field home_num
		datatype text(100)
		used_for display_browse(5);

	field fax_num
		datatype text(100);

	field email
		datatype text(100)
		used_for display_browse(2);

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel.identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field inactive
		datatype boolean
		true_word 'Yes'
		false_word 'No'
		default 'No' ;

	field primary_contact
		datatype boolean
		true_word 'Yes'
		false_word 'No'
		default 'No' ;

	field custom_icon
	    links_to icon . identity
	    default 'CONTACT';

	field profile_blob
		links_to blob_values.blob_id;


table discussion_entry;

	field discussion_guid
		datatype guid
		used_for unique_key ;

	field table_name
		datatype text ( 30 ) ;

	field entity_identity
		datatype text ( 255 ) ;

	field comments
		datatype text ( 2000 ) ;

	field modified_on
		datatype date
		used_for modified_on ;

	field modified_by
		links_to personnel . identity
		used_for modified_by ;

table sow;

	field sow_guid
		datatype guid
		used_for unique_key;

	field version
		datatype packed_decimal
		default '         1'
		used_for unique_key, version_number, display_browse(1);

	field name
		datatype text(100)
		used_for primary_browse, name;

	field description
		datatype text(234)
		used_for display_browse(3);

	field group_id
		links_to group_header.identity
		used_for security_id;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel.identity
		used_for modified_by;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field approval_reqd
		datatype boolean;

	field approval_status
		datatype text(1)
		used_for approval_status
		default 'A'
		prompt_type choose
		choose_type APPR_STAT;

	field inspection_plan
		links_to inspection_header.identity
		used_for inspection;

	field status
		datatype text(1)
		default 'B'
		prompt_type choose
		choose_type SOW_STAT
		used_for display_browse(2);

	field project_id
		links_to customer_project . customer_project_guid as project;

	field customer_id
		links_to customer.identity as customer;

	field price_list_id
		links_to price_list.price_list_guid as price_list;

	field price_list_version
		links_to price_list.version as price_list;

	field invoice_workflow_id
		DEFAULT '06EC1F6C-3CB5-4C30-A8C5-BD46586CD3D1'
		LINKS_TO WORKFLOW . WORKFLOW_GUID AS INVOICE_WORKFLOW;

	field invoice_workflow_version
		DEFAULT '         1'
		LINKS_TO WORKFLOW . WORKFLOW_VERSION AS INVOICE_WORKFLOW;

	field discount
		datatype real
		format '999.9'
		lower_limit '0.0'
		upper_limit '100.0';

	field total_price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

	field fixed_price
		datatype boolean;

	field external_reference
		datatype text(100);

	field purchase_order
		datatype text(100);

	field accepted_by
		links_to personnel.identity;

	field date_accepted
		datatype date;

	field date_completed
		datatype date;

	field date_created
		datatype date;

	field date_started
		datatype date;

	field date_end
		datatype date;

	field job_template_id
		links_to job_template.identity as job_template;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field workflow_node
		default '9CE02ADD-A7F8-4B31-8174-383B2B4D459B'
		links_to workflow_node . workflow_node_guid ;

	field entity_template_id
		links_to entity_template . identity as entity_template;

	field entity_template_version
		links_to entity_template . entity_template_version as entity_template;

	field quote_expiry_date
		datatype date;

	field quote_blob
		links_to blob_values.blob_id;

	field quoted_by
		links_to personnel.identity;

	field quoted_on
		datatype date;

	field quote_comment
		datatype text (234);

	field date_canceled
		datatype date;

	field date_rejected
		datatype date;

	field cert_template_id
		links_to cert_template . cert_template_id as cert_template ;

	field cert_template_version
		links_to cert_template . cert_template_version as cert_template ;

	field schedule
	    links_to schedule . identity ;

	field schedule_group
	   links_to schedule_group . identity ;

table sow_item;

	field sow_guid
		links_to parent sow.sow_guid as sow
		used_for unique_key;

	field sow_version
		links_to parent sow.version as sow
		used_for unique_key, display_browse(2);

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field name
		datatype text(100)
		used_for primary_browse, name;

	field description
		datatype text(234);

	field priority
		datatype integer
		format 999
		default 1
		lower_limit 1
		upper_limit 999;

	field quantity
		datatype integer
		lower_limit '1'
		default '1';

	field base_price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

	field fixed_base_price
		datatype boolean;

	field volume_discount
		datatype real
		format '999.9'
		lower_limit '0.0'
		upper_limit '100.0';

	field item_price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

	field fixed_item_price
		datatype boolean;

	field discount
		datatype real
		format '999.9'
		lower_limit '0.0'
		upper_limit '100.0';

	field discounted_item_price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

	field fixed_discounted_item_price
		datatype boolean;

	field total_price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

	field fixed_price
		datatype boolean;

	field sample_template_id
		links_to samp_tmpl_header.identity as sample_template;

	field sample_workflow_id
		default '1223EE94-5D9A-460F-A87B-33AD9477A865'
		links_to workflow . workflow_guid as sample_workflow;

	field sample_workflow_version
		default '         1'
		links_to workflow . workflow_version as sample_workflow;

	field price_option
		datatype identity
		default 'NONE'
		prompt_type choose
		choose_type PRC_LST_OP;

table sow_item_charge;

	field sow_guid
		links_to parent sow_item.sow_guid as sow_item
		used_for unique_key;

	field sow_version
		links_to parent sow_item.sow_version as sow_item
		used_for unique_key, display_browse(2);

	field sow_item_order
		links_to parent sow_item.order_number as sow_item
		used_for unique_key, display_browse(3);

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field name
		datatype text(100);

	field description
		datatype text(234);

	field item_price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

	field quantity
		datatype integer
		lower_limit '1'
		default '1';

	field volume_discount
		datatype real
		format '999.9'
		lower_limit '0.0'
		upper_limit '100.0';

	field discount
		datatype real
		format '999.9'
		lower_limit '0.0'
		upper_limit '100.0';

	field total_price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

	field fixed_total_price
		datatype boolean;

	field item_table_name
		datatype text(100);

	field item_identity
		datatype text(234);

table customer_project;

	field customer_project_guid
		datatype guid
		used_for unique_key ;

	field customer_project_name
		datatype text (100)
		used_for primary_browse, name;

	field description
		datatype text(234);

	field customer
		links_to customer.identity;

	field modifiable datatype boolean
		used_for modifiable;

	field modified_on datatype date
		used_for modified_on;

	field modified_by links_to personnel.identity
		used_for modified_by;

	field removeflag datatype boolean
		used_for remove_flag;

	field group_id
		used_for security_id
		links_to group_header.identity;

	field has_attachments
		datatype boolean
		used_for has_attachments;

	field price_list
		links_to price_list . price_list_guid as price_list;

	field price_list_version
		links_to price_list.version as price_list;

	field quote_template_id
		links_to report_template.identity as quote_template;

	field quote_template_version
		links_to report_template.version as quote_template;

	field invoice_template_id
		links_to report_template.identity as Invoice_Template;

	field invoice_template_version
		links_to report_template.version as Invoice_Template;

	field sow_workflow_id
		links_to workflow . workflow_guid as sow_workflow;

	field sow_workflow_version
		links_to workflow . workflow_version as sow_workflow;

	field invoice_workflow_id
		LINKS_TO WORKFLOW . WORKFLOW_GUID AS INVOICE_WORKFLOW;

	field invoice_workflow_version
		LINKS_TO WORKFLOW . WORKFLOW_VERSION AS INVOICE_WORKFLOW;

	field invoice_due_days
		DATATYPE INTEGER
		LOWER_LIMIT 0
		UPPER_LIMIT 9999;

	field quote_expires
		DATATYPE INTEGER
		LOWER_LIMIT 0
		UPPER_LIMIT 9999
		DEFAULT 0;

	field closed
		datatype boolean
		true_word 'Yes'
		false_word 'No'
		default 'No' ;

	field cert_template_id
	    links_to cert_template . cert_template_id as cert_template ;

	field cert_template_version
	    links_to cert_template . cert_template_version as cert_template ;

table sow_contact_roles;

	field project_id
		links_to parent customer_project.customer_project_guid as project
		used_for unique_key;

	field customer_id
		links_to parent customer.identity as customer
		used_for unique_key;

	field contact_id
		links_to contact.contact_guid as contact
		used_for unique_key;

	field contact_role
		used_for unique_key
		datatype text(10)
		default 'QUOTE'
		prompt_type choose
		choose_type CONT_ROLE;

table invoice;

	field invoice_guid
		datatype guid
		used_for unique_key ;

	field name
		datatype text(100)
		used_for primary_browse, name;

	field description
		datatype text(234)
		used_for display_browse(2);

	field group_id
		links_to group_header.identity
		used_for security_id;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel.identity
		used_for modified_by;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field status
		datatype text(1)
		default 'B'
		prompt_type choose
		choose_type INV_STAT
		used_for display_browse(3);

	field sow_guid
		links_to sow.sow_guid as sow;

	field sow_version
		links_to sow.version as sow;

	field project_id
		links_to customer_project.customer_project_guid as customer_project;

	field customer_id
		links_to customer.identity as customer;

	field price_list_guid
		links_to price_list.price_list_guid as price_list;

	field price_list_version
		links_to price_list.version as price_list;

	field report_template_id
		links_to report_template.identity as invoice_template;

	field report_template_version
		links_to report_template.version as invoice_template;

	field discount
		datatype real
		format '999.9'
		lower_limit '0.0'
		upper_limit '100.0';

	field total_price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

	field fixed_price
		datatype boolean;

	field date_due
		datatype date;

	field date_paid
		datatype date;

	field external_reference
		datatype text(100);

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field workflow_node
		default 'FA6361EC-7E73-4021-BB58-CC66D5C19075'
		links_to workflow_node . workflow_node_guid ;

	field entity_template_id
		  links_to entity_template . identity as entity_template ;

	field entity_template_version
		  links_to entity_template . entity_template_version as entity_template ;

	field invoice_blob
		  links_to blob_values.blob_id;

	field invoiced_by
		  links_to personnel.identity;

	field invoiced_on
		  datatype date;

	field samples_criteria_identity
		  links_to criteria_saved . identity as samples_criteria;

	field samples_criteria_table
		  links_to criteria_saved . table_name as samples_criteria;

table invoice_item;

	field invoice_guid
		links_to parent invoice.invoice_guid as invoice
		used_for unique_key;

	field invoice_item_order
		datatype packed_decimal
		used_for unique_key, ordering;

	field name
		datatype text(100);

	field description
		datatype text(234);

	field sow
		links_to sow_item.sow_guid as sow_item;

	field sow_version
		links_to sow_item.sow_version as sow_item;

	field sow_item_order
		links_to sow_item.order_number as sow_item;

	field price_option
		datatype identity
		default 'NONE'
		prompt_type choose
		choose_type PRC_LST_OP;

	field item_price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

	field quantity
		datatype integer
		lower_limit '1'
		default '1';

	field total_price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

table invoice_item_charge;

	field invoice_guid
		links_to parent invoice_item.invoice_guid as invoice_item
		used_for unique_key;

	field invoice_item_order
		links_to parent invoice_item.invoice_item_order as invoice_item
		used_for unique_key;

	field invoice_item_charge_order
		datatype packed_decimal
		used_for unique_key, ordering;

	field sow_guid
		links_to sow_item_charge.sow_guid as sow_item_charge;

	field sow_version
		links_to sow_item_charge.sow_version as sow_item_charge;

	field sow_item_order
		links_to sow_item_charge.sow_item_order as sow_item_charge;

	field sow_item_charge_order
		links_to sow_item_charge.order_number as sow_item_charge;

	field item_price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

	field quantity
		datatype integer
		lower_limit '1'
		default '1';

	field total_price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

table invoice_sample;

	field invoice_guid
		links_to parent invoice.invoice_guid as invoice
		used_for unique_key;

	field invoice_sample_order
		datatype packed_decimal
		used_for unique_key, ordering;

	field sample
		links_to sample.id_numeric;

	field name
		datatype text(100);

	field description
		datatype text(234);

	field price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

	field invoice_price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

table invoice_sample_charge;

	field invoice_guid
		links_to parent invoice_sample.invoice_guid as invoice_sample
		used_for unique_key;

	field invoice_sample_order
		links_to parent invoice_sample.invoice_sample_order as invoice_sample
		used_for unique_key;

	field invoice_sample_charge_order
		datatype packed_decimal
		used_for unique_key, ordering;

	field test
		links_to test.test_number;

	field name
		datatype text(100);

	field description
		datatype text(234);

	field charge_table_name
		datatype text(100);

	field charge_identity
		datatype text(234);

	field price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

	field invoice_price
		datatype real
		format '999999999.99'
		lower_limit '0.00';

table molecule ;

	field molecule_id
	      used_for unique_key
	      datatype guid ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field remove_flag
	      used_for remove_flag
	      datatype boolean ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field smile
	      datatype text ( 4000 ) ;

	field use_mol_file
	       datatype boolean ;

	field mol_blob
	      links_to blob_values . blob_id ;

	field has_notebook_link
	      datatype boolean
	      used_for has_notebook_link;

{*************************************************}
{* Additional Tables/Fields for Portal           *}
{*************************************************}

table portal_navigation_header ;

	field portal_navigation_header_guid
		datatype guid
		used_for unique_key ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

	field description
		datatype text ( 234 )
		used_for display_browse ( 2 ) ;

	field max_depth
		datatype integer
		default 1
		lower_limit 1
		upper_limit 100 ;

	field max_nodes_per_level
		datatype integer
		default 20
		lower_limit 20
		upper_limit 100 ;

	field group_id alias group
		links_to group_header . identity
		used_for security_id ;

	field modified_on
		datatype date
		used_for modified_on ;

	field modified_by
		links_to personnel . identity
		used_for modified_by ;

	field modifiable
		datatype boolean
		used_for modifiable ;

	field removeflag
		datatype boolean
		used_for remove_flag ;

	field default_form
		links_to portal_form_definition . portal_form_definition_guid;

	field header_form
		links_to portal_form_definition . portal_form_definition_guid;

	field header_form_color
		datatype text;

	field header_text_color
		datatype text;

table portal_navigation;

	field navigation_id
		datatype guid
		used_for unique_key, primary_browse ;

	field parent_id
		datatype guid ;

	field menu_header_id
		links_to parent portal_navigation_header . portal_navigation_header_guid as portal_navigation_header
		used_for unique_key, display_browse ( 1 ) ;

	field group_item
		datatype boolean ;

	field order_num
		datatype integer ;

	field display_text
		datatype text(50) ;

	field icon
		links_to icon . identity ;

	field form_definition
		links_to portal_form_definition . portal_form_definition_guid ;


table portal_top_menu_header ;

	field portal_top_menu_header_guid
		datatype guid
		used_for unique_key ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

	field description
		datatype text ( 234 )
		used_for display_browse ( 1 ) ;

	field max_depth
		datatype integer
		default 2
		lower_limit 2
		upper_limit 100 ;

	field max_nodes_per_level
		datatype integer
		default 20
		lower_limit 20
		upper_limit 100 ;

	field group_id alias group
		links_to group_header . identity
		used_for security_id ;

	field modified_on
		datatype date
		used_for modified_on ;

	field modified_by
		links_to personnel . identity
		used_for modified_by ;

	field modifiable
		datatype boolean
		used_for modifiable ;

	field removeflag
		datatype boolean
		used_for remove_flag ;


table portal_top_menu ;

	field menu_id
		datatype guid
		used_for unique_key, primary_browse ;

	field parent_id
		datatype guid ;

	field menu_header_id
		links_to parent portal_top_menu_header . portal_top_menu_header_guid as portal_top_menu_header
		used_for unique_key, display_browse ( 1 ) ;

	field order_num
		datatype integer ;

	field display_text
		datatype text ( 100 ) ;

	field icon
		links_to icon . identity ;

	field action
		datatype text ( 234 ) ;


table portal_form_definition ;

	field portal_form_definition_guid
		datatype guid
		used_for unique_key ;

	field name
		datatype text ( 100 )
		allowed_characters '0..9A..Za..z_$-'
		used_for primary_browse, name ;

	field description
		datatype text ( 234 )
		used_for display_browse ( 3 ) ;

	field definition_type
		datatype identity
		prompt_type choose
		choose_type PFD_TYPE
		used_for display_browse ( 4 )
		default 'PORTAL';

	field group_id
		links_to group_header.identity
		used_for security_id ;

	field modified_on
		datatype date
		used_for modified_on ;

	field modified_by
		links_to personnel.identity
		used_for modified_by ;

	field modifiable
		datatype boolean
		used_for modifiable ;

	field removeflag
		datatype boolean
		used_for remove_flag ;

	field title
		datatype text ( 234 )
		used_for display_browse ( 1 );

	field subtitle
		datatype text ( 234 )
		used_for display_browse ( 2 );

	field entity_type
		datatype text ( 100 ) ;

	field entity_template_id
		links_to entity_template . identity as form_entity_template ;

	field entity_template_version
		links_to entity_template . entity_template_version as form_entity_template ;

	field caption
		datatype text (32)
		allowed_characters '0..9A..Za..z_$-' ;

table portal_form_panel ;

	field portal_form_panel_guid
		datatype guid
		used_for unique_key ;

	field portal_form_definition_guid
		links_to parent portal_form_definition . portal_form_definition_guid as portal_form_definition ;

	field parent_panel_guid
		links_to parent portal_form_panel . portal_form_panel_guid as parent_panel ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

	field description
		datatype text(234)
		used_for display_browse ( 2 ) ;

	field title
		datatype text(234)
		used_for display_browse ( 1 ) ;

	field order_number
		datatype packed_decimal
		used_for ordering ;

	field portal_panel_type datatype identity
		prompt_type phrase
		identities
		valid
		phrase_type PANEL_TYPE ;

	field border
		datatype boolean ;

	field column_count
		datatype integer
		default 1
		lower_limit 1
		upper_limit 12 ;

	field column_span
		datatype integer
		default 1
		lower_limit 1
		upper_limit 12 ;

	field row_span
		datatype integer
		default 1
		lower_limit 1
		upper_limit 12 ;

table portal_form_element;

	field portal_form_element_guid
		datatype guid
		used_for unique_key ;

	field portal_form_panel_guid
		links_to parent portal_form_panel . portal_form_panel_guid as portal_form_panel ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

	field order_number
		datatype packed_decimal
		used_for ordering ;

	field property
		datatype text ( 100 )
		used_for display_browse ( 3 ) ;

	field portal_element_type_guid
		links_to portal_element_type . portal_element_type_guid as portal_element_type ;

	field portal_grid_guid
		links_to portal_grid . portal_grid_guid as portal_grid ;

	field parent_control
		links_to parent portal_form_element . portal_form_element_guid as parent_control ;


table portal_form_element_parameter;

	field portal_form_element_guid
		links_to parent portal_form_element . portal_form_element_guid ;

	field portal_frm_ctrl_parameter_guid
		datatype guid
		used_for unique_key ;

	field order_number
		datatype packed_decimal
		used_for ordering ;

	field parameter_name
		datatype text(234)
		used_for primary_browse, name ;

	field parameter_value
		datatype text(256)
		used_for display_browse ( 2 ) ;

	field parameter_type
		datatype identity
		prompt_type choose
		choose_type P_PARA_TYP ;

	field value_mandatory
		datatype boolean ;

	field is_formula
		datatype boolean ;

table portal_element_type;

	field portal_element_type_guid
		datatype guid
		used_for unique_key ;

	field name
		datatype text(100)
		used_for primary_browse, name ;

	field portal_identifier
		datatype text(100) ;

	field description
		datatype text(234)
		used_for display_browse ( 2 ) ;

	field group_id
		links_to group_header.identity
		used_for security_id ;

	field modified_on
		datatype date
		used_for modified_on ;

	field modified_by
		links_to personnel.identity
		used_for modified_by ;

	field modifiable
		datatype boolean
		used_for modifiable ;

	field removeflag
		datatype boolean
		used_for remove_flag ;

	field control_icon
		links_to icon . identity ;

	field accepts_action_controls
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'F' ;

	field visible_on_toolbox
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T' ;

	field data_type_expression
		datatype text(200) ;

	field base_control
		links_to portal_element_type . portal_element_type_guid;

	field control_category
		datatype identity
		prompt_type choose
		choose_type P_CTRL_CAT ;

table portal_element_type_parameter;

	field portal_element_type_guid
		links_to parent portal_element_type . portal_element_type_guid ;

	field portal_element_parameter_guid
		datatype guid
		used_for unique_key ;

	field order_number
		datatype packed_decimal
		used_for ordering ;

	field parameter_name
		datatype text(234)
		used_for primary_browse, name ;

	field parameter_default
		datatype text(234)
		used_for display_browse ( 2 ) ;

	field group_id
		links_to group_header.identity
		used_for security_id ;

	field is_read_only
		datatype boolean ;

	field is_hidden
		datatype boolean ;

	field parameter_type
		datatype identity
		prompt_type choose
		choose_type P_PARA_TYP ;

	field parameter_phrase
		links_to phrase_header . identity;

	field parameter_criteria_table_name
		links_to criteria_saved . table_name as parameter_criteria;

	field parameter_criteria_identity
		links_to criteria_saved . identity as parameter_criteria;

	field parameter_category
		datatype text(30)
		default 'General' ;

	field is_required
		datatype boolean ;

	field abstract
		datatype boolean ;

	field allow_formula
		datatype boolean ;

table portal_browse;

	field portal_browse_guid
		datatype guid
		used_for unique_key ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

	field description
		datatype text(234)
		used_for display_browse ( 2 ) ;

	field group_id
		links_to group_header.identity
		used_for security_id ;

	field modified_on
		datatype date
		used_for modified_on ;

	field modified_by
		links_to personnel . identity
		used_for modified_by ;

	field modifiable
		datatype boolean
		used_for modifiable ;

	field removeflag
		datatype boolean
		used_for remove_flag ;

	field title
		datatype text ( 234 )
		used_for display_browse ( 3 );

	field entity_type
		datatype text ( 100 ) ;

	field allow_multiple
		datatype boolean ;

	field allow_search
		datatype boolean ;

	field portal_grid_guid
		links_to portal_grid . portal_grid_guid as portal_grid ;


table portal_grid;

	field portal_grid_guid
		datatype guid
		used_for unique_key ;

	field name
		datatype text ( 25 )
		used_for primary_browse, name;

	field description
		datatype text(234)
		used_for display_browse ( 2 ) ;

	field group_id
		links_to group_header . identity
		used_for security_id ;

	field modified_on
		datatype date
		used_for modified_on ;

	field modified_by
		links_to personnel.identity
		used_for modified_by ;

	field modifiable
		datatype boolean
		used_for modifiable ;

	field removeflag
		datatype boolean
		used_for remove_flag ;

	field entity_type
		datatype text ( 100 ) ;

	field entity_criteria_table_name
		links_to criteria_saved . table_name as entity_criteria;

	field entity_criteria_identity
		links_to criteria_saved . identity as entity_criteria;

table portal_grid_column ;

	field portal_grid_column_guid
		datatype guid
		used_for unique_key ;

	field portal_grid_guid
		links_to parent portal_grid . portal_grid_guid as portal_grid ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

	field title
		datatype text ( 234 )
		used_for display_browse ( 1 ) ;

	field order_number
		datatype packed_decimal
		used_for ordering ;

	field property
		datatype text ( 100 )
		used_for display_browse ( 2 ) ;

	field visible
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T';

	field allow_sort
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T';

	field sort_index
		datatype integer
		lower_limit 0;

	field sort_order
		datatype text
		prompt_type phrase
		phrase_type p_sort_ord;

	field width
		datatype integer
		default 100;

{*************************************************}
{* End of Additional Tables/Fields for Portal    *}
{*************************************************}


table analyst_notebook ;

	field notebook_guid
	      used_for unique_key
	      datatype guid ;

	field title
	      used_for primary_browse
	      datatype text (150);

	field group_id
	      links_to group_header . identity 
	      used_for security_id;

	field description
	      used_for display_browse
	      datatype text (255);

	field modified_on
	      used_for modified_on
	      datatype date;

	field modified_by
	      links_to personnel . identity 
	      used_for modified_by;

	field modifiable
	      used_for modifiable
	      datatype boolean;

	field created_on
	      datatype date;

	field created_by
	      links_to personnel . identity ;

	field order_number
	      used_for ordering
	      datatype packed_decimal;

	field remove_flag
	      used_for remove_flag
	      datatype boolean;

	field has_attachments
	      used_for has_attachments
	      datatype boolean;

	field page_name_syntax
	      links_to syntax . identity
		  default 'NOTEBOOK';

	field custom_icon
	      links_to icon . identity 
	      default 'NOTEBOOK_GREEN';	
		  
	field notebook_locked
	      datatype boolean;

	field cross_check_user
	      links_to personnel . identity ;

	field cross_check_role
	      links_to role_header . identity ;

	field require_review_comments
	      datatype boolean ;

	field project_info
	      links_to project_info . project_id;
	
	field detailed_spreadsheet_logging
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F';
	
      field category
	      datatype text  ( 10 )
	      used_for display_browse ( 3 )
            default 'GENERAL'
	      prompt_type choose
	            choose_type NOTE_CAT ;

table analyst_notebook_page ;

	field analyst_notebook_guid
	      links_to parent  analyst_notebook . notebook_guid  as analyst_notebook;

	field page_guid
	      used_for unique_key
	      datatype guid ;

	field title
	      datatype text (150) 
	      used_for name,primary_browse;

	field order_number
	      used_for ordering
	      datatype packed_decimal;

	field modified_on
	      used_for modified_on
	      datatype date;
	
	field modified_by
	      links_to personnel . identity 
	      used_for modified_by;

	field created_on
	      datatype date;

	field created_by
	      links_to personnel . identity ;

	field page_type
	      datatype identity
	      prompt_type choose
	      choose_type ANPAGETYP ;

	field page_blob_id
	      links_to blob_values . blob_id ;

	field plain_text_clob
	       links_to clob_values . clob_id;

	field page_locked
	      datatype boolean;

	field page_scrapped
	      datatype boolean;
	
	field date_reviewed
	      datatype date ;

	field reviewed_by
	      links_to personnel . identity ;

	field review_comments
	      datatype text ( 500 ) ;

	field store_searchable_doc
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'T' ;

	field store_searchable_pdf
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'T' ;

	field store_searchable_sheet
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;

	field page_data_reader
	      links_to notebook_page_data_reader . page_data_reader_id ;

	field page_transcriptor
	      links_to notebook_page_transcriptor . page_transcriptor_id ;

table analyst_page_entity ;

	field link_guid
	      used_for unique_key
	      datatype guid ;

	field order_number
	      used_for ordering
	      datatype packed_decimal;

	field page_guid
	      links_to parent analyst_notebook_page . page_guid  as analyst_page;

	field target_type
	     datatype identity
	     prompt_type choose
	     choose_type ANPAGEENT ;

	field target_identity
	      datatype text ( 500 ) ;

table analyst_notebook_lock ;

	field notebook_guid
	      used_for unique_key
	      datatype guid ;

table analyst_notebook_page_template ;

	field template_guid
	      used_for unique_key
	      datatype guid ;

	field name
	      used_for primary_browse
	      datatype text (150);

	field group_id
	      links_to group_header . identity 
	      used_for security_id;

	field description
	      used_for display_browse
	      datatype text (255);

	field modified_on
	      used_for modified_on
	      datatype date;

	field modified_by
	      links_to personnel . identity 
	      used_for modified_by;

	field modifiable
	      used_for modifiable
	      datatype boolean;

	field remove_flag
	      used_for remove_flag
	      datatype boolean;

	field page_type
	      datatype text (50)
	      prompt_type choose
	      choose_type ANPAGETYP;
	
	field page_name_syntax
	      links_to syntax . identity ;

	field doc_blob_id
	      links_to blob_values . blob_id ;
	
	field sheet_blob_id
	      links_to blob_values . blob_id ;

	field rich_text_blob_id
	      links_to blob_values . blob_id ;

	field pdf_blob_id
	      links_to blob_values . blob_id ;

	field page_data_reader
	      links_to notebook_page_data_reader . page_data_reader_id ;

	field page_transcriptor
	      links_to notebook_page_transcriptor . page_transcriptor_id ;

table analyst_notebook_log ;

	field analyst_notebook_guid
	      links_to parent analyst_notebook . notebook_guid  as analyst_notebook;

	field log_guid
	      used_for unique_key
	      datatype guid ;

	field page_guid
	      links_to analyst_notebook_page . page_guid ;

	field info
	      datatype text (1000) 
	      used_for display_browse;

	field operator
	      used_for display_browse
	      links_to personnel . identity ;

	field logged_on
	      used_for display_browse
	      datatype date;

	field log_entry_number
	      used_for ordering, primary_browse
	      datatype packed_decimal;

	field log_type
	      datatype identity
	      prompt_type choose
	      choose_type ANLOGTYPE ;

table dashboard_definition ;

	field dashboard_definition_guid
		datatype guid
		used_for unique_key ;

	field name
		datatype text ( 100 )
		allowed_characters '0..9A..Za..z_$-'
		used_for primary_browse, name ;

	field description
		datatype text ( 234 )
		used_for display_browse ( 3 ) ;

	field group_id
		links_to group_header.identity
		used_for security_id ;

	field modified_on
		datatype date
		used_for modified_on ;

	field modified_by
		links_to personnel.identity
		used_for modified_by ;

	field modifiable
		datatype boolean
		used_for modifiable ;

	field removeflag
		datatype boolean
		used_for remove_flag ;

	field title
		datatype text ( 234 )
		used_for display_browse ( 1 );

	field subtitle
		datatype text ( 234 )
		used_for display_browse ( 2 );

    field caption
        datatype text (32)
        allowed_characters '0..9A..Za..z_$-' ;
		
	field entity_type
		datatype text ( 100 ) ;

	field back_color
		datatype text ( 50 ) ;

	field padding
		datatype integer
		default 0
		lower_limit 0
		upper_limit 12 ;

	field left_padding
		datatype integer
		default 0
		lower_limit 0
		upper_limit 12 ;

	field top_padding
		datatype integer
		default 0
		lower_limit 0
		upper_limit 12 ;

	field right_padding
		datatype integer
		default 0
		lower_limit 0
		upper_limit 12 ;

	field bottom_padding
		datatype integer
		default 0
		lower_limit 0
		upper_limit 12 ;

table dashboard_panel ;

	field dashboard_panel_guid
		datatype guid
		used_for unique_key ;

	field dashboard_definition_guid
		links_to parent dashboard_definition .dashboard_definition_guid as dashboard_definition ;

	field parent_panel_guid
		links_to parent dashboard_panel . dashboard_panel_guid as parent_panel ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

	field description
		datatype text(234)
		used_for display_browse ( 2 ) ;

	field title
		datatype text(234)
		used_for display_browse ( 1 ) ;

	field order_number
		datatype packed_decimal
		used_for ordering ;

	field dashboard_panel_type datatype identity
		prompt_type phrase
		identities
		valid
		phrase_type PANEL_TYPE ;

	field border
		datatype boolean ;

	field column_count
		datatype integer
		default 1
		lower_limit 1
		upper_limit 12 ;

	field column_span
		datatype integer
		default 1
		lower_limit 1
		upper_limit 12 ;

	field row_span
		datatype integer
		default 1
		lower_limit 1
		upper_limit 12 ;

table dashboard_widget;

	field dashboard_widget_guid
		datatype guid
		used_for unique_key ;

	field dashboard_panel_guid
		links_to parent dashboard_panel . dashboard_panel_guid as dashboard_panel ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

	field order_number
		datatype packed_decimal
		used_for ordering ;

	field property
		datatype text ( 100 )
		used_for display_browse ( 3 ) ;

	field widget_definition_guid
		links_to widget_definition . widget_definition_guid as widget_definition ;

	field parent_control
		links_to parent dashboard_widget . dashboard_widget_guid as parent_control ;


table dashboard_widget_parameter;

	field dashboard_widget_guid
		links_to parent dashboard_widget . dashboard_widget_guid ;

	field dashboard_widget_parameter_guid
		datatype guid
		used_for unique_key ;

	field order_number
		datatype packed_decimal
		used_for ordering ;

	field parameter_name
		datatype text(234)
		used_for primary_browse, name ;

	field parameter_value
		datatype text(234)
		used_for display_browse ( 2 ) ;

	field parameter_type
		datatype identity
		prompt_type choose
		choose_type W_PARA_TYP ;
	
	field value_mandatory
		datatype boolean ;
		
	field widget_control_name
		datatype text(234);
		
	field widget_control_property
		datatype text(234);

	field parameter_image
		links_to blob_values . blob_id ;

table widget_definition;

	field widget_definition_guid
		datatype guid
		used_for unique_key ;

	field name
		datatype text(100)
		used_for primary_browse, name ;

	field description
		datatype text(234)
		used_for display_browse ( 2 ) ;

	field group_id
		links_to group_header.identity
		used_for security_id ;

	field modified_on
		datatype date
		used_for modified_on ;

	field modified_by
		links_to personnel.identity
		used_for modified_by ;

	field modifiable
		datatype boolean
		used_for modifiable ;

	field removeflag
		datatype boolean
		used_for remove_flag ;

	field control_icon
		links_to icon . identity ;

	field visible_on_toolbox
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T' ;

	field base_control
		links_to widget_definition . widget_definition_guid;
		
	field category
		datatype identity
		default 'UNCA'
		prompt_type phrase
		valid
		identities
		phrase_type WIDGET_CAT ;

table widget_definition_parameter;

	field widget_definition_guid
		links_to parent widget_definition . widget_definition_guid ;

	field widget_definition_parameter_guid
		datatype guid
		used_for unique_key ;

	field order_number
		datatype packed_decimal
		used_for ordering ;

	field parameter_name
		datatype text(234)
		used_for primary_browse, name ;

	field parameter_default
		datatype text(234)
		used_for display_browse ( 2 ) ;

	field group_id
		links_to group_header.identity
		used_for security_id ;

	field is_read_only
		datatype boolean ;

	field is_hidden
		datatype boolean ;

	field parameter_type
		datatype identity
		prompt_type choose
		choose_type W_PARA_TYP ;

	field parameter_phrase
		links_to phrase_header . identity;

	field parameter_criteria_table_name
		links_to criteria_saved . table_name as parameter_criteria;

	field parameter_criteria_identity
		links_to criteria_saved . identity as parameter_criteria;

	field parameter_category
		datatype text(30)
		default 'General' ;

	field is_required
		datatype boolean ;
		
	field abstract
		datatype boolean ;
		
	field widget_control_name
		datatype text(234);
		
	field widget_control_property
		datatype text(234);

table sweeper_header ;

	field sweeper_header_guid
	      used_for unique_key
	      datatype guid ;

	field machine_name
	      used_for primary_browse, name
	      datatype text (100);

	field description
	      used_for display_browse ( 3 )
	      datatype text (234);

	field group_id
	      links_to group_header . identity 
	      used_for security_id;

	field modified_on
	      used_for modified_on
	      datatype date;

	field modified_by
	      links_to personnel . identity 
	      used_for modified_by;

	field modifiable
	      used_for modifiable
	      datatype boolean;

	field removeflag
	      used_for remove_flag
	      datatype boolean;

	field active
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'T';
	
	field frequency_seconds
	      default 20
	      datatype integer ;

	field responsible_operator
		links_to personnel . identity ;
	
	field distribution_list
	      links_to printer . identity ;

	field error_workflow_guid
	      links_to workflow . workflow_guid  as error_workflow;

	field error_workflow_version
	      links_to workflow . workflow_version  as error_workflow;

	field unresponsive_workflow_guid
	      links_to workflow . workflow_guid  as unresponsive_workflow;

	field unresponsive_workflow_version
	      links_to workflow . workflow_version  as unresponsive_workflow;

	field unresponsive_minutes
	      default 60
	      datatype integer ;

	field unresponsive_message
	      datatype text(500) ;

table sweeper_entry ;

	field sweeper_header_guid
	      links_to parent  sweeper_header . sweeper_header_guid as sweeper ;

	field entry_guid
	      used_for unique_key
	      datatype guid ;

	field order_number
	      used_for ordering, primary_browse
	      datatype packed_decimal;
	
	field description
	      used_for display_browse ( 5 )
	      datatype text (234);

	field client_source_directory
	      used_for display_browse ( 2 )
	      datatype text (500);

	field client_destination_direction
	      used_for display_browse ( 3 )
	      datatype text (500);
	
	field file_filter
	      used_for display_browse ( 4 )
	      datatype text (100)
	      default '*.txt';

	field sweeper_type
	      datatype text  ( 1 )
	      used_for display_browse ( 6 )
	      prompt_type choose
	            choose_type SW_ACT_T;

	field workflow_workflow_guid
	      links_to workflow . workflow_guid  as workflow;

	field workflow_workflow_version
	      links_to workflow . workflow_version  as workflow;

	field lab_import_definition_id
	      links_to lab_import_definition . lab_import_definition_id  as lab_import_definition;

	field active
	      datatype boolean
            used_for display_browse ( 7 )
	      true_word 'T'
	      false_word 'F'
	      default 'T';
	
	field new_extension
	      datatype text  ( 10 )
            used_for display_browse ( 8 );

table sweeper_log ;

	field sweeper_header_guid
	      links_to parent  sweeper_header . sweeper_header_guid as sweeper
	      used_for unique_key;

	field log_guid
	      used_for unique_key
	      datatype guid ;

	field machine_name
	      datatype text(100) used_for display_browse(3);
	
	field original_sweeper_name
	      datatype text (100) used_for display_browse(2);

	field order_number
	      used_for ordering
	      datatype packed_decimal;

      field log_type
	      datatype identity (10)
	      prompt_type choose
	      choose_type SW_LG_TYPE;

	field log_time
	      datatype date used_for primary_browse;

	field client_information
	      datatype text (500);

	field log_information
	      datatype text (4000) used_for display_browse(4);

	field original_filename
	      datatype text (500) used_for display_browse(5);

	field original_folder
	      datatype text(500) used_for display_browse(6);

	field original_full_path
	      datatype text (500) ;

	field archived_file_blob
	      links_to blob_values . blob_id ;

	field data_size
	      datatype text (100) used_for display_browse(8);

	field entry_guid
	      links_to sweeper_entry . entry_guid as sweeper_entry ;

	field has_been_re_processed
	      datatype boolean used_for display_browse(7);

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

table sweeper_check_in;

	field sweeper_header
	      links_to sweeper_header . sweeper_header_guid
	      used_for unique_key ;

	field check_in_time
	      datatype date;
	
	field unresponsive_wflow_triggered
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F';

table plugin;

	field key_guid
	      used_for unique_key
	      datatype guid ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 );

	field description
	      used_for display_browse
	      datatype text ( 255 ) ;

	field plugin_provider
	      datatype text ( 100 );

	field plugin_type
	      datatype text ( 100 );

	field icon
	      links_to icon . identity;

	field default_for_type
	      used_for display_browse
	      datatype boolean;

	field group_id
	      links_to group_header.identity
	      used_for security_id ;

	field modified_on
	      used_for modified_on
	      datatype date;

	field modified_by
	      links_to personnel . identity 
	      used_for modified_by;

	field modifiable
	      used_for modifiable
	      datatype boolean;

	field removeflag
	      used_for remove_flag
	      datatype boolean;


table plugin_parameter;

	field plugin_parameter_key
	      used_for unique_key
	      datatype guid;

	field plugin
	      links_to parent plugin . key_guid ;

	field parameter_name
	      datatype text ( 100 );

	field parameter_value
	      datatype text ( 2000 );


table overview_layout;

	field identity
	    datatype identity ( 40 )
	    used_for primary_browse, unique_key ;

	field name
	    datatype text ( 100 )
	    used_for display_browse ( 2 ), name;

	field description
	    datatype text(234)
	    used_for display_browse ( 3 ) ;

	field group_id
	    links_to group_header . identity
	    used_for security_id ;

	field modified_on
	    datatype date
	    used_for modified_on ;

	field modified_by
	    links_to personnel.identity
	    used_for modified_by ;

	field modifiable
	    datatype boolean
	    used_for modifiable ;

	field removeflag
	    datatype boolean
	    used_for remove_flag ;

	field null_cell_color
	    default ''
	    datatype text ( 50 ) ;

	field show_explorer_rmb
	    datatype boolean
	    true_word 'T'
	    false_word 'F'
	    default 'T';

table overview_entity_type ;

	field overview_entity_type_guid
	    datatype guid
	    used_for unique_key ;

	field overview_entity_type_id
	    links_to parent overview_layout . identity as overview_layout ;

	field entity_type
	    datatype text ( 100 ) ;

	field order_number
		datatype packed_decimal
		used_for ordering ;

	field icon
	    links_to icon . identity ;

table overview_layout_column ;

	field overview_layout_column_guid
	    datatype guid
	    used_for unique_key ;

	field overview_entity_type_guid
	    links_to parent overview_entity_type . overview_entity_type_guid as overview_entity_type ;
	
	field property_name
	    datatype text ( 100 )
	    used_for display_browse ( 2 ) ;

	field property_expression
	    datatype text ( 500 )
	    used_for display_browse ( 3 ) ;

	field icon_expression
	    datatype text ( 500 ) ;

	field title
	    datatype text ( 234 )
	    used_for display_browse ( 1 ) ;

	field order_number
	    datatype packed_decimal
	    used_for ordering ;

	field hide_if_empty
	    datatype boolean
	    true_word 'T'
	    false_word 'F'
	    default 'T';

	field icon
	    links_to icon . identity ;

	field width
	    datatype integer
		default 200
	    lower_limit 0
	    upper_limit 99999 ;

table overview_layout_column_format ;

	field column_format_guid
		datatype guid
		used_for unique_key ;

	field overview_layout_column_guid
		links_to parent overview_layout_column . overview_layout_column_guid as overview_layout_column ;
	
	field order_number
		datatype packed_decimal
		used_for ordering ;

	field expression
		datatype text ( 500 )
		used_for primary_browse, name ;

	field bold
	    datatype boolean ;

	field italic
	    datatype boolean ;

	field underline
	    datatype boolean ;

	field strikeout
	    datatype boolean ;

	field back_color
		datatype text ( 50 ) ;

	field fore_color
		datatype text ( 50 ) ;

table clob_values ;

	field clob_id
	      datatype packed_decimal
	      used_for unique_key ;
	field is_binary
	      datatype boolean;
	field table_name
	      datatype identity ( 40 ) ;
	field field_name
	      datatype identity ( 40 ) ;
	field stored_file_name
	      datatype text (1024);
	field clob_field
	      datatype clob ;

view analyst_notebook_pages_view ;

	field target_type
	    links_to phrase . phrase_text ;
	field target_identity
	    links_to analyst_page_entity . target_identity 	;
	field notebook_title
	    links_to analyst_notebook . title 	;
	field page_title
	    links_to analyst_notebook_page . title ;

select_clause

	SELECT
		[PHRASE].[PHRASE_TEXT] AS TARGET_TYPE,
		[ANALYST_PAGE_ENTITY].[TARGET_IDENTITY] AS TARGET_IDENTITY,
		[ANALYST_NOTEBOOK].[TITLE] AS NOTEBOOK_TITLE,
		[ANALYST_NOTEBOOK_PAGE].[TITLE] AS PAGE_TITLE
	FROM
		[ANALYST_NOTEBOOK] INNER JOIN
		[ANALYST_NOTEBOOK_PAGE] ON [ANALYST_NOTEBOOK].[NOTEBOOK_GUID] = [ANALYST_NOTEBOOK_PAGE].[ANALYST_NOTEBOOK_GUID] INNER JOIN
		[ANALYST_PAGE_ENTITY] INNER JOIN
		[PHRASE] ON [ANALYST_PAGE_ENTITY].[TARGET_TYPE] = [PHRASE].[PHRASE_ID]  ON [ANALYST_NOTEBOOK_PAGE].[PAGE_GUID] = [ANALYST_PAGE_ENTITY].[PAGE_GUID]
	WHERE 
		[PHRASE].[PHRASE_TYPE] LIKE 'ANPAGEENT';

table statistical_script ;

	field stat_script_definition_guid
	      used_for unique_key
	      datatype guid ;

	field name
	      used_for primary_browse, name 
	      datatype text ( 100 ) ;

	field description
	      used_for display_browse
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity 
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field remove_flag
	      used_for remove_flag
	      datatype boolean ;

	field script
	      links_to blob_values . blob_id ;

	field input
	      datatype text ( 255 ) ;

	field output
	      datatype text ( 255 ) ;

	field remove_script_files
	      datatype boolean 
	      true_word 'T'
	      false_word 'F'
	      default 'T' ;

	field lab_parsing_script_id
	      links_to lab_parsing_script . lab_parsing_script_id as lab_parsing_script ;

	field lab_parsing_script_version
	      links_to lab_parsing_script . lab_parsing_script_version as lab_parsing_script ;

table statistical_script_parameter ;

	field statistical_script
	      links_to parent statistical_script.stat_script_definition_guid;

	field statistical_script_parameter_guid
	       datatype guid
	       used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field parameter_type
	      datatype identity
	      prompt_type choose
	      choose_type STATSCRTYP
	      default 'CSV' ;

	field output
	      datatype boolean ;

table notification;

	field notification_guid
	      datatype guid
	      used_for unique_key ;

	field notified
	      datatype boolean ;

	field date_created
	      datatype date 
	      default '0' ;

	field notification_text
	      datatype text ( 2000 )
	      used_for display_browse ( 4 ) ;

	field operator_id
	      links_to personnel . identity
	      used_for display_browse ;

	field notification_type
	      datatype text ( 20 ) ;

	field caption
	      datatype text ( 100 ) ;

	field icon
	      datatype text ( 20 ) ;

	field command
	      datatype text ( 100 ) ;

	field dismissed
	      datatype boolean ;

	field permanent_flag
		datatype boolean ;

	field expiry_date
	      datatype date
		default '0' ;

table notebook_page_transcriptor ;

	field page_transcriptor_id
	      used_for unique_key
	      datatype guid ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field remove_flag
	      used_for remove_flag
	      datatype boolean ;

table notebook_transcriptor_entry ;

	field transcriptor_entry_id
	      used_for unique_key
	      datatype guid ;

	field transcriptor_id
	      links_to parent notebook_page_transcriptor . page_transcriptor_id as notebook_page_transcriptor
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field context
	      datatype text ( 100 ) ;
		  
	field analysis_id
	      links_to versioned_analysis . identity as analysis ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as analysis ;

	field address_method
	      datatype text (10)
                prompt_type choose
                choose_type LOOKUPMTHD ;

	field address_argument
	      datatype text ( 50 ) ;

	field component_name
	      datatype text ( 50 ) ;

	field allow_ad_hoc
	      datatype boolean ;

	field skip_if_empty
	      datatype boolean ;

table notebook_page_data_reader ;

	field page_data_reader_id
	      used_for unique_key
	      datatype guid ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field remove_flag
	      used_for remove_flag
	      datatype boolean ;
	
	field lab_data_source_id
	      links_to lab_data_source . lab_data_source_id as lab_data_source ;

	field lab_data_source_version
	      links_to lab_data_source . lab_data_source_version as lab_data_source ;

	field lab_parsing_script_id
	      links_to lab_parsing_script . lab_parsing_script_id as lab_parsing_script ;

	field lab_parsing_script_version
	      links_to lab_parsing_script . lab_parsing_script_version as lab_parsing_script ;

	field lab_alias_id
	      links_to lab_alias . lab_alias_id as lab_alias ;

	field lab_alias_version
	      links_to lab_alias . lab_alias_version as lab_alias ;

	field workflow_id
	      links_to workflow . workflow_guid as workflow ;

	field workflow_version
	      links_to workflow . workflow_version as workflow ;

	field commit_workflow_entities
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field link_entities_to_page
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;




table notebook_data_reader_entry ;

	field data_reader_entry_id
	      used_for unique_key
	      datatype guid ;

	field data_reader_id
	      links_to parent notebook_page_data_reader . page_data_reader_id as notebook_page_data_reader
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field variable_name
	      datatype text ( 100 ) ;

	field address_method
	      datatype text (10)
	          prompt_type choose
	          choose_type LOOKUPMTHD ;

	field address_argument
	      datatype text ( 200 ) ;

table notebook_wkflow_reader_entry ;

	field workflow_reader_entry_id
	      used_for unique_key
	      datatype guid ;

	field workflow_reader_id
	      links_to parent notebook_page_data_reader . page_data_reader_id as notebook_page_data_reader
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field workflow_value
	      datatype text ( 100 ) ;

	field address_method
	      datatype text (10)
	          prompt_type choose
	          choose_type LOOKUPMTHD ;

	field address_argument
	      datatype text ( 200 ) ;

table lab_method_expert ;

	field lab_method_expert_id
	      datatype guid
	      used_for unique_key ;

	field lab_method_id
	      links_to parent lab_method . lab_method_id as lab_method ;

	field lab_method_version
	      links_to parent lab_method . lab_method_version as lab_method ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field operator 
	      links_to personnel . identity ;

	field comments
	      datatype text ( 500 ) ;
	      
	      
{63.0 *********************** STABILITY *************************************}

table pds_proto ;

	field identity
		datatype identity(20)
		used_for unique_key    ,
		primary_browse ;
		
	field protocol_version
		datatype packed_decimal
		default '         1'
		used_for unique_key ,
		version_number      ,
		display_browse ( 1 ) ;
		
	field description
		datatype text(234)
		used_for display_browse ;
		
	field group_id
		links_to group_header . identity
		used_for security_id ;
		
	field default_config
		links_to pds_config . identity ;
		
	field status
		datatype text (1)
		prompt_type choose
		choose_type PROT_STAT
		default 'P' ;
		
	field job_template_id
		links_to job_template . identity
		default 'STABJBTMPL' ;

	field sample_template
		links_to samp_tmpl_header . identity
		default 'STABSMTMPT' ;

	field report_name
		links_to report . identity ;

	field label_name
		links_to report . identity ;

	field log_type
		datatype identity
		default 'S'
		prompt_type choose
		choose_type LOGIN_TYPE ;

	field authorised_on
		datatype date ;

	field authorised_by
		links_to personnel . identity ;

	field authorisation_text
		datatype text ( 234 ) ;

	field type
		datatype text(20)
		prompt_type phrase
		identities
		phrase_type TYPE_PHR ;

	field use_predicted
		datatype boolean
		true_word 'Yes'
		false_word 'No'
		default 'Yes' ;

	field use_study_name
		datatype boolean
		true_word 'Yes'
		false_word 'No'
		default 'Yes' ;

	field product_id
		links_to inventory_header . inventory_id ;

	field modified_on
		datatype date
		used_for modified_on ;

	field stability_version
		datatype text(10)
		default '2003R1' ;

	field modified_by
		links_to personnel.identity
		used_for modified_by ;

	field modifiable
		datatype boolean
		used_for modifiable ;

	field remove_flag
		datatype boolean
		used_for remove_flag ;

table pds_proto_pull ;

	field header
		links_to pds_proto . identity
		used_for unique_key, primary_browse;

	field protocol_version
		datatype packed_decimal
		used_for unique_key, display_browse ( 1 ) ;

	field layer_factor
		links_to layer_factor . identity
		used_for unique_key, display_browse ( 2 ) ;

	field time_factor
		links_to time_factor . identity
		used_for unique_key, display_browse ( 3 ) ;

	field c_factor
		links_to c_factor . identity
		used_for unique_key, display_browse ( 4 ) ;

	field pull_num
		datatype packed_decimal
		used_for unique_key, display_browse ( 5 ) ;

	field pull_amount
		datatype real;

	field pull_unit
		links_to unit_header . identity ;

	field description
		datatype text ( 234 ) ;

	field time_window
		datatype interval ;

	field location
		links_to location . identity ;

	field pull_name
		datatype identity
		prompt_type phrase
		identities
		phrase_type PULL_NAME
		used_for display_browse ( 6 );

	field max_pulls
		datatype integer ;

	field label_number
		datatype integer
		default 0
		lower_limit 0
		upper_limit 10  ;

	field sampling_point
		links_to sample_point . identity ;

	field sample_template
		links_to samp_tmpl_header . identity ;

	field test_schedule
		links_to test_sched_header . identity  ;
		
	field active
		datatype boolean
		true_word 'Yes'
		false_word 'No'
		default 'Yes' ;

table pds_study ;

	field identity
		datatype identity ( 20 )
		used_for unique_key,
		primary_browse ;

	field description
		datatype text (234)
		used_for display_browse( 2 ) ;

	field created_on
		datatype date ;

	field created_by
		links_to personnel . identity ;

	field created_from
		links_to pds_proto . identity ;

	field protocol_version
		links_to pds_proto . protocol_version ;

	field group_id
		alias group
		links_to group_header . identity
		used_for security_id ;

	field default_config
		links_to pds_config . identity ;

	field start_date
		datatype date ;

	field status
		datatype text (1)
		prompt_type choose
		choose_type STUDY_STAT
		default 'S'
		used_for display_browse( 1 );

	field job_template_id
		links_to job_template . identity
		default 'STABJBTMPL' ;

	field sample_template
		links_to samp_tmpl_header . identity
		default 'STABSMTMPT' ;

	field report_name
		links_to report . identity ;

	field label_name
		links_to report . identity ;

	field authorised_on
		datatype date ;

	field authorised_by
		links_to personnel . identity ;

	field authorisation_text
		datatype text ( 234 ) ;

	field log_type
		datatype text ( 1 )
		default 'S'
		prompt_type choose
		choose_type LOGIN_TYPE ;

	field job_name
		links_to job_header . job_name ;

	field type
		datatype text(20)
		prompt_type phrase
		identities
		phrase_type TYPE_PHR ;

	field stability_version
		datatype text(10)
		default '2003R1' ;

	field product_id
		links_to inventory_header . inventory_id ;

	field activated_before
		datatype boolean 
		true_word 'Yes'
		false_word 'No'
		default 'No' ;

	field modified_on
		datatype date
		used_for modified_on ;

	field modified_by
		links_to personnel.identity
		used_for modified_by ;

	field modifiable
		datatype boolean
		used_for modifiable ;

	field remove_flag
		datatype boolean
		used_for remove_flag ;

	field use_predicted
		datatype boolean
		true_word 'Yes'
		false_word 'No'
		default 'Yes' ;

	field use_study_name
		datatype boolean
		true_word 'Yes'
		false_word 'No'
		default 'Yes' ;



   {75.0}
 field comments
		datatype text ( 234 ) ;
{end 75.0}
    


table pds_study_pull ;

	field header
		links_to pds_study . identity
		used_for unique_key, primary_browse ;
	
	field layer_factor
		links_to layer_factor . identity
		used_for unique_key, display_browse ( 1 ) ;
	
	field time_factor
		links_to time_factor . identity
		used_for unique_key, display_browse ( 2 ) ;
	
	field c_factor
		links_to c_factor . identity
		used_for unique_key, display_browse ( 3 ) ;
	
	field pull_num
		datatype packed_decimal
		used_for unique_key, display_browse ( 4 ) ;
	
	field description
		datatype text ( 234 ) ;
	
	field time_window
		datatype interval ;
	
	field location
		links_to location . identity ;
	
	field pull_name
		datatype identity
		prompt_type phrase
		identities
		phrase_type PULL_NAME
		used_for display_browse ( 5 );
	
	field pull_amount
		datatype real;
	
	field pull_unit
		links_to unit_header . identity ;
	
	field cell_disp alias status
		datatype text (1)
		prompt_type choose
		choose_type PULL_STAT
		default 'P'  ;
	
	field created_sample_id
		links_to sample . id_numeric  ;
	
	field label_number
		datatype integer ;
	
	field sample_template
		links_to samp_tmpl_header . identity ;
		
	field test_schedule
		links_to test_sched_header . identity  ;
		
	field sample_id_text
		datatype text ( 30 ) ;
		
	field due_login_date
		datatype date ;
		
	field wdt_entry_number
		links_to timerqueue . entry_number  ;

	field active
		datatype boolean
		true_word 'Yes'
		false_word 'No'
		default 'Yes' ;
		
table pds_config ;

	field identity
		datatype identity
		used_for unique_key,
		primary_browse ;
		
	field description
		datatype text (234)
		used_for display_browse ;
		
	field group_id alias group
		links_to group_header.identity
		used_for security_id ;
		
	field cell_width
		datatype integer
		default '10'
		lower_limit 1
		upper_limit 40 ;
		
	field c_axis_name
		datatype text(20)
		default 'Condition' ;
		
	field layer_axis_name
		datatype text(20)
		default 'Type' ;
		
	field time_axis_name
		datatype text(20)
		default 'Time Points' ;
		
	field x_axis
		datatype boolean
		true_word 'Time Factors'
		false_word  'C-Factors'
		default 'C-Factors' ;
		
	field load_type
		datatype boolean
		true_word  'Factor Name'
		false_word 'AKA Name' ;
		
	field modified_on
		datatype date
		used_for modified_on ;
		
	field modified_by
		links_to personnel.identity
		used_for modified_by ;
		
	field modifiable
		datatype boolean
		used_for modifiable ;
		
	field remove_flag
		datatype boolean
		used_for remove_flag ;

table c_factor ;

	field identity
		datatype identity
		used_for unique_key,
		primary_browse ;
		
	field description
		datatype text(234)
		used_for display_browse ;
		
	field group_id alias group
		links_to group_header.identity
		used_for security_id ;
		
	field location
		links_to location.identity ;
		
	field aka_name
		datatype text(20) ;
		
	field modified_on
		datatype date
		used_for modified_on ;
		
	field modified_by
		links_to personnel.identity
		used_for modified_by ;
		
	field modifiable
		datatype boolean
		used_for modifiable ;
		
	field remove_flag
		datatype boolean
		used_for remove_flag ;
		
	field sample_template
		links_to samp_tmpl_header . identity ;

table layer_factor ;

	field identity
		datatype identity
		used_for unique_key, primary_browse ;
		
	field description
		datatype text(234)
		used_for display_browse ;
		
	field group_id alias group
		links_to group_header . identity
		used_for security_id ;
		
	field location
		links_to location . identity ;
		
	field aka_name
		datatype text(20) ;
		
	field modified_on
		datatype date
		used_for modified_on ;
		
	field modified_by
		links_to personnel . identity
		used_for modified_by ;
		
	field modifiable
		datatype boolean
		used_for modifiable ;
		
	field remove_flag
		datatype boolean
		used_for remove_flag ;

table time_factor ;

	field identity
		datatype identity
		used_for unique_key,
		primary_browse ;
		
	field description
		datatype text(234)
		used_for display_browse ;
		
	field group_id alias group
		links_to group_header . identity
		used_for security_id ;
	
	field day_equiv
		datatype interval ;
	
	field time_window
		datatype interval ;
	
	field aka_name
		datatype text(20) ;
	
	field modified_on
		datatype date
		used_for modified_on ;
	
	field modified_by
		links_to personnel.identity
		used_for modified_by ;
	
	field modifiable
		datatype boolean
		used_for modifiable ;
	
	field remove_flag
		datatype boolean
		used_for remove_flag ;

table pds_axis_point ;

	field matrix_type
		datatype text ( 1 )
		used_for unique_key ;
	
	field header
		datatype text(20)
		used_for unique_key ;
	
	field protocol_version
		datatype packed_decimal
		default '         1'
		used_for unique_key ;
	
	field axis_point_name
		datatype identity
		used_for unique_key ;
	
	field axis_type
		datatype text(1)
		used_for unique_key ;
	
	field aka_name
		datatype text(20) ;
	
	field axis_pos
		datatype integer ;
	
	field start_date
		datatype date ;
	
	field sample_template
		links_to samp_tmpl_header . identity ;
	
table pds_basetime ;
	
	field matrix_type
		datatype text ( 1 )
		used_for unique_key ;
	
	field header
		datatype text ( 20 )
		used_for unique_key ;
	
	field protocol_version
		datatype packed_decimal
		default '         1'
		used_for unique_key ;
	
	field layer_factor
		links_to layer_factor . identity
		used_for unique_key ;
	
	field c_factor
		links_to c_factor . identity
		used_for unique_key ;
	
	field start_date
		datatype text ( 23 ) ;
	
	field status
		datatype text ( 1 )
		allowed_characters 'UA'
		default 'U' ;

table layer_entry rename_table pds_product_pull ;

	field header
		links_to pds_study . identity
		used_for unique_key ;
		
	field version 
		links_to pds_study . protocol_version
		used_for unique_key;
		
	field layer_factor
		links_to layer_factor . identity
		used_for unique_key ;
		
	field matrix_type
		datatype text ( 1 )
		used_for unique_key ;
		
	field batch_number
		links_to inventory_item . item_id;

	field reporting_unit
		links_to unit_header . identity ;


table condition_entry rename_table pds_condition_pull ;

	field header 
		links_to pds_study . identity
		used_for unique_key ;
		
	field version 
		links_to pds_study . protocol_version
		used_for unique_key;
		
	field layer_factor
		links_to layer_factor . identity
		used_for unique_key ;
		
	field c_factor
		links_to c_factor . identity
		used_for unique_key ;
		
	field matrix_type
		datatype text ( 1 )
		used_for unique_key ;
			
	field overage
		datatype real ;
		
	field reporting_unit
		links_to unit_header . identity ;

	field allocation_id
		links_to inventory_allocation . entry_number ;
		
	field reserved_on
		datatype date ;

table inventory_header ;

	field identity alias inventory_id
		datatype identity( 20 )
		used_for unique_key ,
		primary_browse ;
	
	field low_unallocated_level alias low_supply_level
		datatype real
		format '9999999999.9999999999'
		default 0.0
		lower_limit 0 ;
		
	field callback_library
		links_to report . identity ;

	field low_unallocated_routine
		datatype text ( 40 )
		prompt_type user_defined
		library '$PROMPT_ROUTINE'
		routine 'prompt_routine';
	
	field base_unit alias inventory_unit
		links_to unit_header . identity ;
	
	field product_id alias item_id
		links_to mlp_header . identity;
	
	field description alias item_name 
		datatype text ( 30 ) ;
	
	field modified_on
		datatype date
		used_for modified_on ;
	
	field modified_by
		links_to personnel . identity
		used_for modified_by ;

	field modifiable datatype boolean
		used_for modifiable;
		
	field group_id 
		links_to group_header.identity
		used_for security_id;

table inventory_item ;

	field inventory_id
		links_to inventory_header . identity
		used_for unique_key, primary_browse ;
	
	field item_id alias internal_batch_number
		datatype identity ( 10 )
		used_for unique_key, display_browse( 1 ) ;
	
	field item_code alias external_batch_number
		datatype text ( 20 )
		used_for display_browse( 2 ) ;

	field entered_on alias date_received
		datatype date ;
	
	field entered_by alias received_by
		links_to personnel . identity ;
	
	field last_tested_on alias last_tested
		datatype date ;
	
	field last_tested_by
		links_to personnel . identity ;
	
	field quantity
		datatype real
		used_for display_browse( 3 );
	
	field base_unit
		links_to unit_header . identity ;
	
	field expiry_date
		datatype date ;
	
	field location
		links_to location . identity
		used_for display_browse( 5 ) ;

	field description
		datatype text ( 234 )
		used_for display_browse( 6 ) ;

table inventory_allocation ;

	field inventory_id
		links_to inventory_header . inventory_id
		used_for unique_key, primary_browse;

	field entry_number alias entry_code
		datatype packed_decimal
		used_for unique_key, display_browse( 1 ) ;

	field allocated_on alias allocated_date
		datatype date ;

	field allocated_by
		links_to personnel . identity ;

	field purpose alias usage
		datatype text ( 234 )
		used_for display_browse( 2 );
	
table inventory_alloc_item ;

	field inventory_id
		links_to inventory_allocation . inventory_id
		used_for unique_key, primary_browse;

	field entry_number
		links_to inventory_allocation . entry_number
		used_for unique_key, display_browse( 1 );

	field item_id 
		links_to inventory_item . item_id
		used_for unique_key, display_browse( 2 ) ;

	field quantity
		datatype real
		used_for display_browse( 3 ) ;

	field base_unit
		links_to unit_header . identity ;

view inventory_allocation_view on_table inventory_allocation     ,
                                        inventory_alloc_item;

	field inventory_id
		links_to inventory_allocation . inventory_id
		used_for unique_key, primary_browse ;

	field entry_number
		links_to inventory_allocation . entry_number 
		used_for unique_key, display_browse( 1 ) ;

	field item_id
		links_to inventory_alloc_item . item_id
		used_for unique_key, display_browse( 2 ) ;

	field allocated_on
		links_to inventory_allocation . allocated_on
		used_for display_browse( 3 ) ;
		
	field allocated_by
		links_to inventory_allocation . allocated_by
		used_for display_browse( 4 ) ;

	field purpose
		links_to inventory_allocation . purpose ;
		
	field quantity
		links_to inventory_alloc_item . quantity
		used_for display_browse( 5 ) ;
	
	field base_unit
		links_to inventory_alloc_item . base_unit ;
		
select_clause
	
	SELECT
		a . inventory_id    ,
		a . entry_number    ,
		ai . item_id        ,
		a . allocated_on    ,
		a . allocated_by    ,
		a . purpose         ,
		ai . quantity       ,
		ai . base_unit
		
	FROM
		inventory_allocation a ,
		inventory_alloc_item ai
	WHERE 
		a . inventory_id = ai . inventory_id
		AND
		a . entry_number = ai . entry_number ;


view inventory_item_summary_view on_table inventory_alloc_item ,
                                          inventory_item;

	field inventory_id
		links_to inventory_item . inventory_id
		used_for unique_key, primary_browse ;
		
	field item_id
		links_to inventory_item . item_id
		used_for unique_key, display_browse( 1 );
		
	field item_code
		links_to inventory_item . item_code
		used_for display_browse( 2 );
		
	field entered_on
		links_to inventory_item . entered_on ;
	
	field entered_by
		links_to inventory_item . entered_by;
	
	field last_tested_on
		links_to inventory_item . last_tested_on;
	
	field last_tested_by
		links_to inventory_item . last_tested_by;
	
	field total
		links_to inventory_item . quantity
		used_for display_browse( 3 );
		
	field base_unit
		links_to inventory_item . base_unit ;
	
	field expiry_date
		links_to inventory_item . expiry_date ;
	
	field location
		links_to inventory_item . location
		used_for display_browse( 4 );

	field description
		links_to inventory_item . description
		used_for display_browse( 7 );
		
	field allocated
		datatype real
		used_for display_browse( 5 );
	
	field unallocated
		datatype real
		used_for display_browse( 6 );

select_clause

	SELECT
		i . inventory_id      ,
		i . item_id           ,
		i . item_code         ,
		i . entered_on        ,
		i . entered_by        ,
		i . last_tested_on    ,
		i . last_tested_by    ,
		i . quantity as total ,
		i . base_unit         ,
		i . expiry_date       ,
		i . location          ,
		i . description       ,
		COALESCE ( SUM ( a . quantity ) , 0 ) as allocated   ,
		i . quantity - COALESCE ( SUM ( a . quantity ) , 0 ) as unallocated
	FROM 
		inventory_alloc_item a
	RIGHT OUTER JOIN inventory_item i ON i.inventory_id = a.inventory_id AND i.item_id = a.item_id
	GROUP BY
  		i . inventory_id      ,
		i . item_id           ,
		i . item_code         ,
		i . entered_on        ,
		i . entered_by        ,
		i . last_tested_on    ,
		i . last_tested_by    ,
		i . quantity          ,
		i . base_unit         ,
		i . expiry_date       ,
		i . location          ,
		i . description       ;

view inventory_alloc_summary_view on_table inventory_allocation ,
                                            inventory_alloc_item ;

	field inventory_id
		links_to inventory_allocation . inventory_id
		used_for unique_key, primary_browse ;
		
	field entry_number
		links_to inventory_allocation . entry_number
		used_for unique_key, display_browse( 1 );
		
	field allocated_on
		links_to inventory_allocation . allocated_on
		used_for display_browse( 2 );
		
	field allocated_by
		links_to inventory_allocation . allocated_by ;
	
	field purpose
		links_to inventory_allocation . purpose;
		
	field total_allocated
		datatype real
		used_for display_browse( 3 );

select_clause

	SELECT
		a . inventory_id ,
		a . entry_number ,
		a . allocated_on ,
		a . allocated_by ,
		a . purpose      ,
		COALESCE ( SUM ( ai . quantity ) , 0 ) as total_allocated
	FROM 
		inventory_alloc_item ai 
	RIGHT OUTER JOIN inventory_allocation a ON a.inventory_id = ai.inventory_id AND a.entry_number = ai.entry_number
	GROUP BY
		a . inventory_id ,
		a . entry_number ,
		a . allocated_on ,
		a . allocated_by ,
		a . purpose      ;
		

view inventory_view on_table inventory_item_summary_view ,
                             inventory_header    ;

	field identity
		links_to inventory_header . inventory_id
		used_for unique_key, primary_browse ;

	field description
		links_to inventory_header . description
		used_for display_browse( 1 );

	field low_unallocated_level
		links_to inventory_header . low_unallocated_level;
		
	field callback_library
		links_to inventory_header . callback_library;
		
	field low_unallocated_routine
		links_to inventory_header . low_unallocated_routine;
		
	field base_unit
		links_to inventory_header . base_unit
		used_for display_browse( 5 ) ;
		
	field product_id
		links_to inventory_header . product_id;
		
	field modified_on
		links_to inventory_header . modified_on;
		
	field modified_by
		links_to inventory_header . modified_by;
		
	field modifiable
		links_to inventory_header . modifiable;
		
	field group_id
		links_to inventory_header . group_id;
		
	field total
		datatype real
		used_for display_browse( 2 );
		
	field allocated
		datatype real
		used_for display_browse( 3 );

	field unallocated
		datatype real
		used_for display_browse( 4 );

oracle_specific_select
	

	SELECT 
		h.identity,
		h.description,
		h.low_unallocated_level,
		h.callback_library,
		h.low_unallocated_routine,
		h.base_unit,
		h.product_id,
		h.modified_on,
		h.modified_by,
		h.modifiable,
		h.group_id ,
		nvl( SUM( i.total ) , 0 ),
		nvl( SUM( i.allocated ) , 0 ) ,
		nvl( SUM( i.unallocated ) , 0 )
	FROM
		inventory_item_summary_view i ,
		inventory_header h
	WHERE
		h.identity = i.inventory_id (+)
	GROUP BY
		h.identity,
		h.description,
		h.low_unallocated_level,
		h.callback_library,
		h.low_unallocated_routine,
		h.base_unit,
		h.product_id,
		h.description,
		h.modified_on,
		h.modified_by,
		h.modifiable,
		h.group_id ;

sqlserver_specific_select

	SELECT 
		h.[identity],
		h.description,
		h.low_unallocated_level,
		h.callback_library,
		h.low_unallocated_routine,
		h.base_unit,
		h.product_id,
		h.modified_on,
		h.modified_by,
		h.modifiable,
		h.group_id ,
		COALESCE ( SUM( i.total ) , 0 ),
		COALESCE ( SUM( i.allocated ) , 0 ),
		COALESCE ( SUM( i.unallocated ) , 0 )
	FROM
		inventory_item_summary_view i
	RIGHT OUTER JOIN inventory_header h ON h.[identity] = i.inventory_id		
	GROUP BY
		h.[identity],
		h.description,
		h.low_unallocated_level,
		h.callback_library,
		h.low_unallocated_routine,
		h.base_unit,
		h.product_id,
		h.description,
		h.modified_on,
		h.modified_by,
		h.modifiable,
		h.group_id ;


{/63.0 ****************** END STABILITY *******************************}


{64.0  ************************ SQC ***********************************}

{******************************************************************************
* SQC
******************************************************************************}

view c_samp_test_result
    parent_view samp_test_result
    tableset default_table_set ;

view sqcwin_c_samp_test_result on_table  c_samp_test_result;

	field   id_numeric
		datatype packed_decimal
		used_for unique_key, primary_browse ;

	field   test_number 
        datatype packed_decimal
		used_for unique_key ;

	field component_name
		datatype text (40)
		used_for unique_key ;

	field job_name
		datatype text ( 20 ) ;

	field id_text
		datatype text (30) ;

	field status
		datatype text (1)
		prompt_type choose
		choose_type SAMP_STAT ;

	field sample_old_status
		datatype text (1)
		prompt_type choose
		choose_type SAMP_STAT ;

	field compared
		datatype boolean ;

	field on_spec
		datatype boolean ;

	field re_sampled
		datatype boolean ;

	field original_sample
		datatype packed_decimal ;

	field link_number
		datatype integer ;

	field login_date
		datatype date ;

	field login_by
	      datatype identity ;

	field sampled_date
		datatype date ;

	field recd_date
		datatype date ;

	field date_started
		datatype date ;

	field starter
	      datatype identity ;

	field dateresreq
		datatype date ;

	field date_completed
		datatype date ;

	field completer
	      datatype identity ;

	field dateresavail
		datatype date ;

	field sample_date_authorised
		datatype date ;

	field authoriser
	      datatype identity ;

	field authorisation_notes
		datatype text ( 234 ) ;

	field product
	      datatype identity ;

	field product_version
		datatype packed_decimal ;

	field grade_code
	      datatype identity ;

	field tests_to_do
	      datatype integer ;

	field on_wks
	      datatype boolean ;

	field project_id
	      datatype identity ;

	field batch_name
	      datatype identity ;

	field sampling_point
        datatype identity ;

	field sample_type
		datatype identity ;

	field sample_name
		datatype text ( 30 ) ;

	field description
		datatype text ( 234 ) ;

	field preparation
		datatype identity ;

	field hazard
		datatype identity ;

	field priority
		datatype integer ;

	field location_id
		datatype identity ;

	field customer_id
		datatype identity ;

	field invoice_number
		datatype text ( 20 ) ;

	field test_schedule
		datatype identity ;

	field template_id
		datatype identity ;

	field comp_prod_name
		datatype identity ;

	field comp_prod_ver
		datatype identity ;

	field comp_prod_grade
		datatype identity ;

	field standard
		datatype boolean ;

	field analysis
        datatype identity ;

	field test_status
        datatype text (1)
        prompt_type choose
        choose_type TEST_STAT ;

	field instrument
        datatype identity ;

	field result_type
        datatype text(1) ;

	field result_status
        datatype text(1) ;

	field result_text
        datatype text(234) ;

	field result_value
        datatype real ;

	field units
        datatype text(10) ;

	field minimum
        datatype real ;

	field maximum
        datatype real ;

	field out_of_range
        datatype boolean ;

	field date_result_entered
        datatype date ;

	field result_entered_by
		datatype identity;

	field date_result_authorised
		datatype date ;

	field result_authoriser
		datatype identity;

	field replicate_test
		datatype boolean;

	field test_count
		datatype integer ;

select_clause

    SELECT

        id_numeric,
        test_number,
        component_name,
        job_name,
        id_text,
        status,
        sample_old_status,
        compared,
        on_spec,
        re_sampled,
        original_sample,
        link_number,
        login_date,
        login_by,
        sampled_date,
        recd_date,
        date_started,
        starter,
        dateresreq,
        date_completed,
        completer,
        dateresavail,
        sample_date_authorised,
        authoriser,
        authorisation_notes,
        product,
        product_version,
        grade_code,
        tests_to_do,
        on_wks,
        project_id,
        batch_name,
        sampling_point,
        sample_type,
        sample_name,
        description,
        preparation,
        hazard,
        priority,
        location_id,
        customer_id,
        invoice_number,
        test_schedule,
        template_id,
        comp_prod_name,
        comp_prod_ver,
        comp_prod_grade,
        standard,
        analysis,
        test_status,
        instrument,
        result_type,
        result_status,
        result_text,
        result_value,
        units,
        minimum,
        maximum,
        out_of_range,
        date_result_entered,
        result_entered_by,
        date_result_authorised,
        result_authoriser,
        replicate_test,
        test_count

    FROM c_samp_test_result;


view sqcwin_all_samp_test_result on_table  samp_test_result, 
                                           sqcwin_c_samp_test_result ;

	field   id_numeric
		datatype packed_decimal
		used_for unique_key, primary_browse ;

	field   test_number 
        datatype packed_decimal
		used_for unique_key ;

	field component_name
		datatype text (40) 
		used_for unique_key ;

	field job_name
		datatype text ( 20 ) ;

	field id_text
		datatype text (30) ;

	field status
		datatype text (1)
		prompt_type choose
		choose_type SAMP_STAT ;

	field sample_old_status
		datatype text (1)
		prompt_type choose
		choose_type SAMP_STAT ;

	field compared
		datatype boolean ;

	field on_spec
		datatype boolean ;

	field re_sampled
		datatype boolean ;

	field original_sample
		datatype packed_decimal ;

	field link_number
		datatype integer ;

	field login_date
		datatype date ;

	field login_by
	      datatype identity ;

	field sampled_date
		datatype date ;

	field recd_date
		datatype date ;

	field date_started
		datatype date ;

	field starter
	      datatype identity ;

	field dateresreq
		datatype date ;

	field date_completed
		datatype date ;

	field completer
	      datatype identity ;

	field dateresavail
		datatype date ;

	field sample_date_authorised
		datatype date ;

	field authoriser
	      datatype identity ;

	field authorisation_notes
		datatype text ( 234 ) ;

	field product
	      datatype identity ;

	field product_version
		datatype packed_decimal ;

	field grade_code
	      datatype identity ;

	field tests_to_do
	      datatype integer ;

	field on_wks
	      datatype boolean ;

	field project_id
	      datatype identity ;

	field batch_name
	      datatype identity ;

	field sampling_point
        datatype identity ;

	field sample_type
		datatype identity ;

	field sample_name
		datatype text ( 30 ) ;

	field description
		datatype text ( 234 ) ;

	field preparation
		datatype identity ;

	field hazard
		datatype identity ;

	field priority
		datatype integer ;

	field location_id
		datatype identity ;

	field customer_id
		datatype identity ;

	field invoice_number
		datatype text ( 20 ) ;

	field test_schedule
		datatype identity ;

	field template_id
		datatype identity ;

	field comp_prod_name
		datatype identity ;

	field comp_prod_ver
		datatype identity ;

	field comp_prod_grade
		datatype identity ;

	field standard
		datatype boolean ;

	field analysis
        datatype identity ;

	field test_status
        datatype text (1)
        prompt_type choose
        choose_type TEST_STAT ;

	field instrument
        datatype identity ;

	field result_type
        datatype text(1) ;

	field result_status
        datatype text(1) ;

	field result_text
        datatype text(234) ;

	field result_value
        datatype real ;

	field units
        datatype text(10) ;

	field minimum
        datatype real ;

	field maximum
        datatype real ;

	field out_of_range
        datatype boolean ;

	field date_result_entered
        datatype date ;

	field result_entered_by
		datatype identity;

	field date_result_authorised
		datatype date ;

	field result_authoriser
		datatype identity;

	field replicate_test
		datatype boolean;

	field test_count
		datatype integer ;

select_clause

    SELECT

        id_numeric,
        test_number,
        component_name,
        job_name,
        id_text,
        status,
        sample_old_status,
        compared,
        on_spec,
        re_sampled,
        original_sample,
        link_number,
        login_date,
        login_by,
        sampled_date,
        recd_date,
        date_started,
        starter,
        dateresreq,
        date_completed,
        completer,
        dateresavail,
        sample_date_authorised,
        authoriser,
        authorisation_notes,
        product,
        product_version,
        grade_code,
        tests_to_do,
        on_wks,
        project_id,
        batch_name,
        sampling_point,
        sample_type,
        sample_name,
        description,
        preparation,
        hazard,
        priority,
        location_id,
        customer_id,
        invoice_number,
        test_schedule,
        template_id,
        comp_prod_name,
        comp_prod_ver,
        comp_prod_grade,
        standard,
        analysis,
        test_status,
        instrument,
        result_type,
        result_status,
        result_text,
        result_value,
        units,
        minimum,
        maximum,
        out_of_range,
        date_result_entered,
        result_entered_by,
        date_result_authorised,
        result_authoriser,
        replicate_test,
        test_count

    FROM samp_test_result

    UNION

    SELECT

        id_numeric,
        test_number,
        component_name,
        job_name,
        id_text,
        status,
        sample_old_status,
        compared,
        on_spec,
        re_sampled,
        original_sample,
        link_number,
        login_date,
        login_by,
        sampled_date,
        recd_date,
        date_started,
        starter,
        dateresreq,
        date_completed,
        completer,
        dateresavail,
        sample_date_authorised,
        authoriser,
        authorisation_notes,
        product,
        product_version,
        grade_code,
        tests_to_do,
        on_wks,
        project_id,
        batch_name,
        sampling_point,
        sample_type,
        sample_name,
        description,
        preparation,
        hazard,
        priority,
        location_id,
        customer_id,
        invoice_number,
        test_schedule,
        template_id,
        comp_prod_name,
        comp_prod_ver,
        comp_prod_grade,
        standard,
        analysis,
        test_status,
        instrument,
        result_type,
        result_status,
        result_text,
        result_value,
        units,
        minimum,
        maximum,
        out_of_range,
        date_result_entered,
        result_entered_by,
        date_result_authorised,
        result_authoriser,
        replicate_test,
        test_count

    FROM sqcwin_c_samp_test_result ;

table sqcwin_header ;

field identifier
      alias identity
      datatype identity (20)
      used_for unique_key , primary_browse ;
field chart_id
      datatype identity (10)
      used_for display_browse ;
field spare_id
      datatype text (10) ;
field created_on
      datatype date ;
field created_by
      links_to personnel.identity ;
field modified_on
      datatype date
      used_for modified_on ;
field modified_by
      links_to personnel.identity
      used_for modified_by ;
field modifiable
      datatype boolean
      used_for modifiable ;
field removeflag
      datatype boolean
      used_for remove_flag ;
field group_id
      links_to group_header.identity
      used_for security_id ;
field description
      datatype text (234)
      used_for display_browse (2) ;
field group_id_type
      datatype integer ;
field subgroup_size_wanted
      datatype integer ;
field test_length
      datatype integer ;
field product_name
      datatype identity (10) ;
field start_date
      datatype date ;
field end_date
      datatype date ;
field sample_criteria_1
      datatype text (10) ;
field sample_criteria_2
      datatype text (10) ;
field sample_criteria_3
      datatype text (10) ;
field sample_criteria_4
      datatype text (10) ;
field sample_criteria_5
      datatype text (10) ;
field sample_criteria_6
      datatype text (10) ;
field sample_criteria_7
      datatype text (10) ;
field sample_criteria_8
      datatype text (10) ;
field spare_criteria
      datatype text (40) ;
field analysis_id
      datatype identity (10) ;
field component_name
      datatype text (40) ;
field search_type
      datatype integer ;
field min_point_sum
      datatype real ;
field max_point_sum
      datatype real ;
field units
      datatype text (10) ;
field chart_type
      datatype integer ;
field limits_calc_type_a
      datatype integer ;
field spare_integer
      datatype integer ;
field spec_type
      datatype integer ;
field trend_chart_a
      links_to sqcwin_trend.identifier ;
field limits_calc_type_b
      datatype integer ;
field trend_chart_b
      links_to sqcwin_trend.identifier ;
field display_centre_line
      datatype boolean ;
field display_one_sigma
      datatype boolean ;
field display_warning
      datatype boolean ;
field display_control
      datatype boolean ;
field display_spec
      datatype boolean ;
field use_old_windows
      datatype boolean ;
field min_Limit_zero
      datatype boolean ;
field display_limit_text_a
      datatype boolean ;
field display_limit_text_b
      datatype boolean ;
field default_y_axis
      datatype boolean ;
field y_min_chart_a
      datatype real ;
field y_max_chart_a
      datatype real ;
field y_min_chart_b
      datatype real ;
field y_max_chart_b
      datatype real ;
field number_of_cells
      datatype integer ;
field discrete_n_value
      datatype integer ;
field discrete_n_mean
      datatype real ;
field discrete_n_range
      datatype real ;
field upper_spec
      datatype real ;
field lower_spec
      datatype real ;
field upper_control_a
      datatype real ;
field lower_control_a
      datatype real ;
field upper_warning_a
      datatype real ;
field lower_warning_a
      datatype real ;
field upper_sigma_a
      datatype real ;
field lower_sigma_a
      datatype real ;
field target_value_a
      datatype real ;
field upper_control_b
      datatype real ;
field lower_control_b
      datatype real ;
field upper_warning_b
      datatype real ;
field lower_warning_b
      datatype real ;
field upper_sigma_b
      datatype real ;
field lower_sigma_b
      datatype real ;
field target_value_b
      datatype real ;
field target_mean
      datatype real ;
field target_sigma
      datatype real ;
field decimal_places
      datatype integer ;
field spare_line_text
      datatype text (80) ;
field report_group_info
      datatype boolean ;
field x_axis_annotation
      datatype integer ;
field display_mean
      datatype boolean ;
field cusum_chart
      datatype boolean ;
field target_value
      datatype real ;
field shift_size
      datatype real ;
field alpha
      datatype real ;
field points_mean
      datatype real ;
field points_sigma
      datatype real ;
field confidence_ucl
      datatype real ;
field confidence_uwl_ucl
      datatype real ;
field confidence_usd_uwl
      datatype real ;
field confidence_cl_usd
      datatype real ;
field confidence_cl_lsd
      datatype real ;
field confidence_lsd_lwl
      datatype real ;
field confidence_lwl_lcl
      datatype real ;
field confidence_lcl
      datatype real ;
field v_mask_d
      datatype real ;
field v_mask_theta
      datatype real ;
field start_of_trend
      datatype integer ;
field end_of_trend
      datatype integer ;
field current_density
      datatype real ;
field data_selection
      datatype boolean;

table sqcwin_subgroup ;

field chart_id
      links_to sqcwin_header.identifier
      used_for unique_key ;

field chart_type_id 
      datatype identity
      default '0'
      used_for unique_key ;

field subgroup_number
      datatype text (4)
      used_for unique_key ;

field first_point
      datatype text (6) ;
field subgroup_date
      datatype date ;
field subgroup_size
      datatype integer ;
field discrete_n
      datatype integer ;
field group_name
      datatype integer ;
field x_bar
      alias median , P , I , number_defective , fraction_defective
      datatype real ;
field range
      alias moving_range , concentration
      datatype real ;
field sigma
      alias industrial_range
      datatype real ;
field running_average
      datatype real ;
field a_plot
      datatype boolean ;
field a_bad
      datatype boolean ;
field a_bad_manual
      datatype boolean ;
field trend_a
      datatype integer ;
field trend_a_p
      datatype integer ;
field trend_a_1
      datatype real ;
field trend_a_2
      datatype integer ;
field discrete_sigma
      datatype real ;
field b_plot
      datatype boolean ;
field b_bad
      datatype boolean ;
field b_bad_manual
      datatype boolean ;
field trend_b
      datatype integer ;
field trend_b_p
      datatype integer ;
field trend_b_1
      datatype real ;
field trend_b_2
      datatype integer ;
field cusum
      datatype real ;
field c_plot
      datatype boolean ;
field c_bad
      datatype boolean ;
field comments
      datatype text (234) ;

table sqcwin_point ;

field chart_ID
      links_to sqcwin_header.identifier
      used_for unique_key ;
field point_number
      datatype text (6)
      used_for unique_key ;
field comments
      datatype text (234) ;
field point_date
      datatype date ;
field point_name
      datatype text (10) ;
field point_value
      alias x , amount , quantity
      datatype real ;
field result_number
      datatype packed_decimal;
field component_name
      links_to component.name ;
field sample_id
      datatype packed_decimal;
field replicate_number
      datatype integer ;
field include
      datatype boolean ;
field bad
      datatype boolean ;
field spare_integer
      datatype integer ;
field subgroup_number
      datatype text (4) ;

table sqcwin_trend ;

field identifier
      alias identity
      datatype identity (10)
      used_for unique_key , primary_browse ;
field modified_on
      datatype date
      used_for modified_on ;
field modified_by
      links_to personnel.identity
      used_for modified_by ;
field modifiable
      datatype boolean
      used_for modifiable ;
field removeflag
      datatype boolean
      used_for remove_flag ;
field description
      datatype text (234)
      used_for display_browse (1);

table sqcwin_trend_point ;

field trend_id
      links_to sqcwin_trend.identifier
      used_for unique_key ;
field trend_number
      datatype text (2)
      used_for unique_key ;
field trend_type
      datatype integer ;
field trend_parameter
      datatype integer ;
field trend_factor_one
      datatype real ;
field trend_factor_two
      datatype integer ;
field trend_factor_three
      datatype real ;

table sqcwin_criteria ;

field chart_id
      links_to sqcwin_header . identity
      used_for unique_key ;

field order_number
      datatype integer
      used_for unique_key ;

field value_1
      datatype integer ;

field value_2
      datatype text ( 50 ) ;

field value_3
      datatype text ( 50 ) ;

table sqcwin_chart_type ;

field chart_id
      links_to sqcwin_header . identity
      used_for unique_key ;

field chart_type_id
      datatype identity
      used_for unique_key ;

field chart_type
      datatype text ( 50 ) ;

field order_num   
      datatype packed_decimal 
      used_for ordering;

field chart_active
      datatype boolean ;

field subgroup_chosen_by
      datatype text ( 10 ) ;

field subgroup_size_wanted
      datatype integer ;

field test_length
      datatype integer ;

field limits_calc_type_a
      datatype integer ;

field limits_calc_type_b
      datatype integer ;

field spec_type
      datatype integer ;

field trend_chart_a
      links_to sqcwin_trend.identifier ;

field trend_chart_b
      links_to sqcwin_trend.identifier ;

field display_one_sigma
      datatype boolean ;

field display_warning
      datatype boolean ;

field display_control
      datatype boolean ;

field display_spec
      datatype boolean ;

field display_limit_text_a
      datatype boolean ;

field display_limit_text_b
      datatype boolean ;

field user_defined_y_axis
      datatype boolean ;

field y_min_chart_a
      datatype real ;

field y_max_chart_a
      datatype real ;

field y_min_chart_b
      datatype real ;

field y_max_chart_b
      datatype real ;

field cusum_y_min
      datatype real;

field cusum_y_max
      datatype real;

field number_of_cells
      datatype integer ;

field upper_spec
      datatype real ;

field lower_spec
      datatype real ;

field mlp_level       
      datatype text (10) ;

field upper_control_a
      datatype real ;

field lower_control_a
      datatype real ;

field upper_warning_a
      datatype real ;

field lower_warning_a
      datatype real ;

field upper_sigma_a
      datatype real ;

field lower_sigma_a
      datatype real ;

field target_value_a
      datatype real ;

field mean_value_a
      datatype real ;

field mlp_level_a
      datatype text (10) ;

field upper_control_b
      datatype real ;

field lower_control_b
      datatype real ;

field upper_warning_b
      datatype real ;

field lower_warning_b
      datatype real ;

field upper_sigma_b
      datatype real ;

field lower_sigma_b
      datatype real ;

field target_value_b
      datatype real ;

field mean_value_b
      datatype real ;

field mlp_level_b
      datatype text (10) ;

field target_mean
      datatype real ;

field target_sigma
      datatype real ;

field target_cusum
      datatype text(10)
      default 'M';

field spare_line_text
      datatype text (80) ;

table sqcwin_window ;

field chart_ID
      links_to sqcwin_header.identifier
      used_for unique_key ;

field chart_type_id
      datatype identity
      default '0'
      used_for unique_key ;

field chart_number
      datatype text (2)
      used_for unique_key ;
field window_number
      datatype text (2)
      used_for unique_key ;
field first_subgroup
      datatype integer ;
field last_subgroup
      datatype integer ;
field subgroup_size
      datatype integer ;
field window_enabled
      datatype boolean ;
field spare_boolean
      datatype boolean ;
field window_k
      datatype integer ;
field x_bar_mean
      alias values_mean
      datatype real ;
field range_mean
      alias mr_mean , concentration_mean
      datatype real ;
field sigma_mean
      alias industrial_range_mean
      datatype real ;
field upper_control
      datatype real ;
field centre_value
      datatype real ;
field lower_control
      datatype real ;
field reference_val
      datatype real ;
field spare_result_1
      datatype real ;
field spare_result_2
      datatype real ;
field spare_result_3
      datatype real ;
field chart_text_1
      datatype text (10) ;
field chart_text_2
      datatype text (10) ;
field chart_text_3
      datatype text (10) ;

{/64.0 ******************************* END SQC **************************************}

{65.0 ******************************** YUKON ****************************************}

table labstation;
field identity alias identifier datatype identity
      used_for unique_key, primary_browse;
field group_id alias group
      links_to group_header.identity
      used_for security_id;
field description datatype text ( 234 )
      used_for display_browse;
field modified_on datatype date used_for modified_on ;
field modified_by links_to personnel.identity
      used_for modified_by;
field modifiable datatype boolean
      used_for modifiable;
field removeflag datatype boolean
      used_for remove_flag;
field node_name alias node datatype text (10);
field node_address alias address datatype text(20);
field node_location alias location_id, location
      links_to location.identity;
field instrument_1 links_to instrument.identity;
field instrument_2 links_to instrument.identity;
field instrument_3 links_to instrument.identity;
field instrument_4 links_to instrument.identity;
field instrument_5 links_to instrument.identity;
field instrument_6 links_to instrument.identity;
field instrument_7 links_to instrument.identity;
field instrument_8 links_to instrument.identity;

table report_tag;

field   identity datatype identity
        used_for unique_key, primary_browse;
field   group_id links_to group_header.identity
        used_for security_id;
field   description datatype text (80)
        used_for display_browse (1);
field   num_args datatype integer
        default 0
        format 99
      lower_limit 0
      upper_limit 10;
field   type datatype identity
      prompt_type phrase
            identities
            valid
      phrase_type TAG_TYPE;
field argument1 datatype text (30);
field argument2 datatype text (30);
field argument3 datatype text (30);
field argument4 datatype text (30);
field argument5 datatype text (30);
field argument6 datatype text (30);
field argument7 datatype text (30);
field argument8 datatype text (30);
field argument9 datatype text (30);
field argument10 datatype text (30);
field   library links_to report . identity;
field   routine datatype text (20);
field   modifiable datatype boolean
        used_for modifiable;
field   modified_on datatype date
        used_for modified_on;
field   modified_by links_to personnel.identity
        used_for modified_by;
field   removeflag datatype boolean
        used_for remove_flag;

table versioned_yukon ;
      field   identity
            datatype identity
            used_for unique_key ;
      field   yukon_version
            datatype packed_decimal
            default '         1'
            used_for unique_key , version_number , display_browse ( 1 ) ;
      field   group_id
            links_to group_header . identity
            used_for security_id ;
      field   description
            datatype text ( 234 )
            used_for display_browse ( 2 ) ;
      field   modified_on
            datatype date
            used_for modified_on ;
      field   modified_by
            links_to personnel . identity
            used_for modified_by ;
      field   modifiable
            datatype boolean
            used_for modifiable ;
      field   removeflag
            datatype boolean
            used_for remove_flag ;
      field   node_location
            links_to location . identity ;
      field   status
            datatype text ( 1 )
            prompt_type phrase identities
            phrase_type INST_STAT ;
      field   default_instrument
            links_to instrument . identity ;
      field   approval_reqd
            datatype boolean ;

table yukon_inst_sched ;
      field   yukon_identity
            used_for unique_key
            links_to versioned_yukon . identity ;
      field   yukon_version
            used_for unique_key
            links_to versioned_yukon . yukon_version ;
      FIELD   instrument
            used_for unique_key
            links_to instrument . identity ;
      FIELD   order_number
            datatype packed_decimal
            used_for ordering , unique_key ;
      FIELD   template
            links_to samp_tmpl_header . identity ;
      FIELD   delete_template
            datatype boolean
            true_word 'Y'
            false_word 'N'
            default 'Y' ;
      field   batch_header
            links_to batch_header . identity ;
      field   test
            links_to test . test_number ;
      field   sample
            links_to test.sample_id;
      field   analysis
            links_to test.analysis;
      field   replicate
            links_to test.test_count;
      field   update_calibration
            datatype boolean
            true_word 'Y'
            false_word 'N'
            default 'N' ;
      field   update_service
            datatype boolean
            true_word 'Y'
            false_word 'N'
            default 'N' ;
      field   collected_on
            datatype date default ' ' ;


{/65.0  *********************************** END YUKON *************************}

{66.0 ************************************* SMIDI *****************************}

{SMIDI UPGRADE START}
{**********************************************************************}
{ 2004 SampleMananger IDI                                                          }
{**********************************************************************}
{2004 SampleMananger IDI UPGRADE START}

TABLE smidi_background;
	field service          datatype text (10)			used_for unique_key,ordering                      ;
	field description       datatype text(80)               used_for display_browse			 ;
	field running            datatype boolean   used_for display_browse	default 'Yes' true_word 'Yes' false_word 'No'          ;
	field active            datatype boolean   used_for display_browse	default 'Yes' true_word 'Yes' false_word 'No'          ;
	field vgl_library       links_to report.identity        used_for display_browse                  ;
	field vgl_routine       datatype text(50)               used_for display_browse                  ;
	field instance	datatype text(20)											;
	field user_id           links_to personnel.identity                                              ;
	field process_id	datatype text (20);
	field create_service            datatype boolean  default 'Yes' true_word 'Yes' false_word 'No'          ;
	field restart_mode      datatype boolean  default 'Yes' true_word 'Yes' false_word 'No'          ;
	field serv_templ	datatype text (20);
	field smp_templ	datatype text (20);
	field type datatype text(10);
	field log_loc	datatype text(100) ;
	field max_retry	datatype text(3);
	field debug_id          datatype text(20)                                                        ;
	field modified_on       datatype date                   used_for modified_on                     ;
	field modified_by       links_to personnel.identity     used_for modified_by                     ;
	field removeflag        datatype boolean                used_for remove_flag                     ;

TABLE smidi_logfiles ORACLE_SPECIFIC 'storage (initial 2M next 1M)' noindex;
	field service         links_to smidi_background.service      used_for unique_key              ;
	field order_number      links_to smidi_background.service  used_for unique_key,ordering     ;
	field smidi_logfile     datatype text(80)               allowed_characters '0..9a..zA..Z/_#$.:\' ;
	field smidi_process_id  datatype text(20)                                                        ;
	field smidi_lot         datatype text(20)                                                        ;
	field smidi_batch       datatype text(20)                                                        ;
	field smidi_report      datatype text(50)                                                        ;
	field a_start_time      datatype date default '0'                                                ;
	field a_end_time        datatype date default '0'                                                ;
	field a_error_message   datatype text(200)                                                       ;

TABLE smidi_system;
	field identity          datatype identity(20)             used_for unique_key                    ;
	field group_id          links_to group_header.identity    used_for security_id                   ;
	field description       datatype text (234)                                                      ;
	field smidi_host        datatype text (30)                                                       ;
	field smidi_service	datatype text (30) default smidi_                                                       ;
	field smidi_protocol	datatype identity default 'TCP'                                          ;
	field r3_destination	datatype text (3)                                                        ;
	field r3_client         datatype text (3)                                                        ;
	field r3_user           datatype text (12)                                                       ;
	field r3_password       datatype text (10)                                                       ;
	field r3_language       datatype text (1) default 'E'                                            ;
	field r3_mode           datatype text (3) default 'R/3'                                          ;
	field r3_hostname       datatype text (30)                                                       ;
	field r3_sysnr          datatype text (2)                                                        ;
	field r3_gwhost         datatype text (30)                                                       ;
	field r3_gwservice	datatype text (30) default 'sapgw00'                                     ;
	field r3_trace          datatype text (3) default 'OFF'                                          ;
	field subsystem_id	datatype text (6)                                                        ;
	field qmidi_object      datatype integer lower_limit 1 upper_limit 2 default 2                   ;
	field qmidi_version     datatype text(6) default '46c'                                           ;
	field modified_on       datatype date                     used_for modified_on                   ;
	field modified_by       links_to personnel.identity       used_for modified_by                   ;
	field modifiable        datatype boolean                  used_for modifiable                    ;
	field removeflag        datatype boolean                  used_for remove_flag                   ;



TABLE smidi_system_downtimes;
	field  smidi_system     links_to smidi_system.identity    used_for unique_key                    ;
	field  order_number     datatype packed_decimal           used_for unique_key,ordering           ;
	field  type             datatype boolean true_word 'Date' false_word 'Interval' default 'Date'   ;
	field  start_downtime   datatype text(30)                                                        ;
	field  end_downtime     datatype text(30)                                                        ;
	field  description      datatype text(30)                                                        ;

TABLE smidi_query;
	field smidi_system       links_to smidi_system.identity    used_for unique_key                   ;
	field identity           datatype identity(20)             used_for unique_key                   ;
	field insp_status        datatype text (1)                 used_for unique_key prompt_type phrase identities phrase_type R3_LOTSTAT;
	field query_repeat	 datatype interval                                                       ;
	field filter_library     links_to report.identity default '$SMIDI_USER'                          ;
	field filter_routine	 datatype text(50)                                                       ;
	field process_repeat	 datatype interval                                                       ;
	field process_library    links_to report.identity default '$SMIDI_LIB_QPUP'                      ;
	field process_routine    datatype text(50)        default 'process_download_queue'               ;
	field mapping_profile    links_to smidi_map_header.mapping_profile default 'DEFAULT'             ;
	field from_lot_no        datatype text (12) allowed_characters ' 0123456789'                     ;
	field to_lot_no          datatype text (12) allowed_characters ' 0123456789'                     ;
	field op_sequence        datatype text (6)                                                       ;
	field from_op_no         datatype text (4)                                                       ;
	field to_op_no           datatype text (4)                                                       ;
	field op_plant           datatype text (4)                                                       ;
	field subsystem          datatype text (6)                                                       ;
	field work_centre        datatype text (8)                                                       ;
	field wc_plant           datatype text (4)                                                       ;
	field material_no        datatype text (18)                                                      ;
	field from_date          datatype date                                                           ;
	field to_date            datatype date                                                           ;
	field inspection_type    datatype text (8)                                                       ;
	field origin             datatype text (2) prompt_type phrase identities phrase_type R3_ORIGIN   ;
	field batch_no           datatype text (10)                                                      ;
	field from_order_no      datatype text (12)                                                      ;
	field to_order_no        datatype text (12)                                                      ;
	field vendor_no          datatype text (10)                                                      ;
	field customer_no        datatype text (10)                                                      ;
	field mat_doc_no         datatype text (10)                                                      ;
	field max_lots           datatype integer lower_limit 0 upper_limit 9999 default 10              ;
	field sort_ascending     datatype boolean true_word 'Y' false_word 'N' default 'Y'                                                        ;
	field sort_descending    datatype boolean true_word 'Y' false_word 'N' default 'N'                                                        ;
	field allow_corrections  datatype boolean                                                        ;
	field lock_chars         datatype boolean                                                        ;
	field get_required       datatype boolean                                                        ;
	field get_valuation      datatype boolean                                                        ;
	field get_res_cat        datatype boolean                                                        ;
	field get_ud_cat         datatype boolean                                                        ;
	field get_work_centre    datatype boolean                                                        ;
	field get_vendor         datatype boolean                                                        ;
	field get_purchasing     datatype boolean                                                        ;
	field get_sales          datatype boolean                                                        ;
	field group_id           links_to group_header.identity used_for security_id                     ;
	field description        datatype text (234)            used_for display_browse                  ;
	field do_two_stage       datatype boolean true_word 'Y' false_word 'N' default 'Y'                                                        ;
	field modified_on        datatype date                  used_for modified_on                     ;
	field modified_by        links_to personnel.identity    used_for modified_by                     ;
	field modifiable         datatype boolean               used_for modifiable                      ;
	field removeflag         datatype boolean               used_for remove_flag                     ;

TABLE smidi_points_query ORACLE_SPECIFIC 'storage (initial 2M next 1M)';
	field smidi_system       links_to smidi_system.identity   used_for unique_key                    ;
	field from_ip_lot        datatype identity(12)            used_for unique_key                    ;
	field from_ip_op_no      datatype text(4)                 used_for unique_key                    ;
	field from_ip_point      datatype text(6)                                                        ;
	field to_ip_point        datatype text(6)                                                        ;
	field process_library    links_to report.identity    default '$SMIDI_LIB_QPUP'                   ;
	field process_routine    datatype text (50)          default ''            ;
	field repeat_interval	 datatype interval                                                       ;
	field mapping_profile    links_to smidi_map_header.mapping_profile              ;
	field subsystem          links_to smidi_system.subsystem_id                                      ;
	field user_C1_enabled    datatype text(1)                                                        ;
	field user_C1_keyword    datatype text(20)                                                       ;
	field user_C1_value      datatype text(40)                                                       ;
	field user_C1_library    links_to report.identity                                                ;
	field user_C1_routine    datatype text(30)                                                       ;
	field user_C1_type   datatype identity default 'TEXT' prompt_type choose choose_type CONFG_TYPE  ;
	field user_C2_enabled    datatype text(1)                                                        ;
	field user_C2_keyword    datatype text(20)                                                       ;
	field user_C2_value      datatype text(40)                                                       ;
	field user_C2_library    links_to report.identity                                                ;
	field user_C2_routine    datatype text(30)                                                       ;
	field user_C2_type   datatype identity default 'TEXT' prompt_type choose choose_type CONFG_TYPE  ;
 	field user_N1_enabled    datatype text(1)                                                        ;
	field user_N1_keyword    datatype text(20)                                                       ;
	field user_N1_value      datatype text(40)                                                       ;
	field user_N1_library    links_to report.identity                                                ;
	field user_N1_routine    datatype text(30)                                                       ;
	field user_N1_type   datatype identity default 'REAL' prompt_type choose choose_type CONFG_TYPE  ;
	field user_N2_enabled    datatype text(1)                                                        ;
	field user_N2_keyword    datatype text(20)                                                       ;
	field user_N2_value      datatype text(40)                                                       ;
	field user_N2_library    links_to report.identity                                                ;
	field user_N2_routine    datatype text(30)                                                       ;
	field user_N2_type  datatype identity default 'REAL' prompt_type choose choose_type CONFG_TYPE   ;
	field user_D1_enabled    datatype text(1)                                                        ;
	field user_D1_keyword    datatype text(20)                                                       ;
	field user_D1_value      datatype text(40)                                                       ;
	field user_D1_library    links_to report.identity                                                ;
	field user_D1_routine    datatype text(30)                                                       ;
	field user_D1_type  datatype identity default 'DATE' prompt_type choose choose_type CONFG_TYPE   ;
	field user_T1_enabled    datatype text(1)                                                        ;
	field user_T1_keyword    datatype text(20)                                                       ;
	field user_T1_value      datatype text(40)                                                       ;
	field user_T1_library    links_to report.identity                                                ;
	field user_T1_routine    datatype text(30)                                                       ;
	field user_T1_type  datatype identity default 'DATE' prompt_type choose choose_type CONFG_TYPE   ;
	field group_id           links_to group_header.identity used_for security_id                     ;
	field description        datatype text(234)             used_for display_browse                  ;
	field modified_on        datatype date                  used_for modified_on                     ;
	field modified_by        links_to personnel.identity    used_for modified_by                     ;
	field modifiable         datatype boolean               used_for modifiable                      ;
	field removeflag         datatype boolean               used_for remove_flag                     ;



{**********************************************************************}
{ SMIDI tables for download/upload and background processes            }
{**********************************************************************}

TABLE smidi_download_queue ORACLE_SPECIFIC 'storage (initial 2M next 2M)' noindex;
	field smidi_system      links_to smidi_system.identity    used_for unique_key                    ;
	field smidi_query       links_to smidi_query.identity     used_for unique_key                    ;
	field sap_lot           datatype text(22)                 used_for unique_key                    ;
	field sap_object        datatype text(10)                 used_for unique_key                    ;
	field order_number      datatype packed_decimal           used_for unique_key,ordering           ;
	field qmidi_object      links_to smidi_system.qmidi_object                                       ;
	field sap_op_no         datatype text(4)                                                         ;
	field sap_batch         datatype text(20)                                                        ;
	field sap_status        datatype text(1) default 'A'                                             ;
	field processed         datatype boolean true_word 'Y' false_word 'N' default 'N'                ;
	field retry_count       datatype integer default '0'                                             ;
	field error_msg         datatype text(200) default ' '                                           ;
	field log_date          datatype date default ' '                                                ;
	field subsystem         datatype text(6)                                                         ;
	field message           datatype text(1200);

	INDEX smidi_download_queue_i unique on smidi_system,smidi_query,sap_lot,sap_object,order_number ORACLE_SPECIFIC 'storage (initial 1M next 1M)';

TABLE smidi_upload_queue 	ORACLE_SPECIFIC 'storage (initial 1M next 1M)' noindex;
	field job_name            datatype text(30)               used_for unique_key                    ;
	field id_numeric          datatype text(20)               used_for unique_key                    ;
	field test_number         datatype text(20)               used_for unique_key                    ;
	field name                datatype text(40)               used_for unique_key                    ;
	field status              datatype integer default 1                                             ;
	field retry_count         datatype integer default 0                                             ;
	field type                datatype identity                                                      ;
	field date_created        datatype date default 0                                                ;
	field analysis_id         links_to versioned_analysis.identity                                   ;
	field job_status          datatype text(1)                                                       ;
	field sample_status       datatype text(1)                                                       ;
	field test_status         datatype text(1)                                                       ;
	field result_status       datatype text(1)                                                       ;
	field result_text         links_to result.text                                                   ;
	field result_Value        links_to result.value                                                  ;
	field send_result         datatype text(40)                                                      ;
	field lims_units          links_to result.units                                                  ;
	field lims_out_of_range   links_to result.out_of_range                                           ;
	field smidi_system        links_to job_header.smidi_requester                                    ;
	field smidi_lot           links_to job_header.smidi_lot                                          ;
	field smidi_operation     links_to sample.smidi_operation                                        ;
	field smidi_phys_samp     links_to sample.smidi_phys_sample                                      ;
	field smidi_part_samp     links_to sample.smidi_part_sample                                      ;
	field sap_start_date      datatype date                                                          ;
	field sap_entered_by      links_to personnel.identity                                            ;
	field sap_result_conf_no  datatype text(20)                                                      ;
	field sap_result_origin   datatype text(2)              { SAP QERGDATH SAP_origin V2 field }     ;
	field sap_code_number     datatype text(4)                                                       ;
	field sap_code_group      datatype text(8)                                                       ;
	field sap_documentation   datatype text(40)                                                      ;
	field sap_doc_required    datatype text(1)                                                       ;
	field sap_serial_no       datatype text(8)                                                       ;
	field sap_serial_required datatype text(1)                                                       ;
	field sap_specification   datatype text(10)                                                      ;
	field sap_valuation       datatype text(1)                                                       ;
	field sap_attribute       datatype text(1)                                                       ;
	field sap_units           datatype text(6)                                                       ;
	field sap_places          datatype text(1)                                                       ;
	field sap_result_type     datatype text(1)                                                       ;
	field sap_subsys_valuates datatype text(1)                                                       ;
	field sap_valuate_type    datatype text(1)                                                       ;
	field sap_need_subsamps   datatype text(1)                                                       ;
	field sap_subsamp_valtype datatype text(1)                                                       ;
	field sap_inspect_scope   datatype text(1)                                                       ;
	field sap_defect_class    datatype text(4)                                                       ;
	field sap_subsamp_defect  datatype text(4)                                                       ;
	field qmidi_object        links_to smidi_system.qmidi_object                                     ;
	field error               datatype text(100)                                                     ;

	INDEX smidi_upload_q1     on smidi_lot,sap_result_conf_no ORACLE_SPECIFIC 'storage  (initial 1M next 1M)';

{**********************************************************************}
{ SMIDI tables low level SAP objects                                   }
{**********************************************************************}

TABLE smidi_insppoint ORACLE_SPECIFIC 'storage (initial 1M next 1M)' noindex
      oracle_location 'ACTIVE_MISC'
    ;                                                           { 67.0 }

	field smidi_system            links_to smidi_system.identity    used_for unique_key              ;
	field request_key             datatype text(22)                 used_for unique_key              ;
	field job                     links_to job_header.job_name                                       ;
	field sample                  links_to sample.id_numeric                                         ;
	field SAP_UD_material_no      datatype text(18)                                                  ;
	field SAP_UD_partial_lot      datatype text(6)                                                   ;
	field SAP_UD_batch            datatype text(10)                                                  ;
	field SAP_UD_code             datatype text(4)                                                   ;
	field SAP_UD_decision_text    datatype text(40)                                                  ;
	field SAP_UD_quantity         datatype text(17)                                                  ;
	field SAP_UD_units            datatype text(3)                                                   ;
	field SAP_UD_rework_quantity  datatype text(17)                                                  ;
	field SAP_UD_scrap_amount     datatype text(17)                                                  ;
	field SAP_UD_scrap_reason     datatype text(4)                                                   ;
	field SAP_UD_equipment_no     datatype text(18)                                                  ;
	field SAP_UD_functional_loc   datatype text(30)                                                  ;
	field SAP_UD_uploaded         datatype boolean                                                   ;
	field SAP_UD_operator         links_to personnel.identity                                        ;
	field SAP_UD_date             datatype date                                                      ;
	field SAP_UD_CAT_PLANT        datatype text(4)                                                   ;
	field SAP_UD_CODE_GROUP       datatype text(8)                                                   ;
	field SAP_UD_SELECTED_SET     datatype text(8)                                                   ;
	field SAP_UD_INSPECT_TYPE     datatype text(2)                                                   ;
	field SAP_point_created       datatype boolean true_word '*' false_word ' ' default ' '          ;
	field user_C1_value           datatype text(40)                                                  ;
	field user_C2_value           datatype text(40)                                                  ;
	field user_N1_value           datatype text(40)                                                  ;
	field user_N2_value           datatype text(40)                                                  ;
	field user_D1_value           datatype text(40)                                                  ;
	field user_T1_value           datatype text(40)                                                  ;
	field qmidi_object            links_to smidi_system.qmidi_object                                 ;
	field message                 datatype text(234)                                                 ;

{ 67.0 }
	INDEX smidi_insppoint_i unique on smidi_system,request_key ORACLE_SPECIFIC 'storage  (initial 1M next 1M)'
      oracle_location 'ACTIVE_MISC_I'    ;

	INDEX smidi_request_key        on request_key ORACLE_SPECIFIC 'storage  (initial 1M next 1M)'
      oracle_location 'ACTIVE_MISC_I'    ;

{ end 67.0 }


TABLE smidi_request_header ORACLE_SPECIFIC 'storage (initial 1M next 1M)'
       oracle_location 'ACTIVE_MISC'
     ;                                                   { 67.0 }

	field smidi_system            links_to smidi_system.identity    used_for unique_key              ;
	field request_key             datatype text(30)                 used_for unique_key              ;
	field job_key                 datatype text(20)                                                  ;
	field smidi_lot               datatype text(12)                                                  ;
	field mlp_id                  links_to mlp_header.identity                                       ;
	field qmidi_object            links_to smidi_system.qmidi_object                                 ;
	field mlp_version             links_to mlp_versions.product_version                              ;
	field message                 datatype text(1000)                                                ;
	field qiwlr                   datatype text(200)                                                 ;

{ 67.0 }

 index smidi_req_head_job_i on job_key               
       oracle_location 'ACTIVE_MISC_I'
       ;

{ Already exists 
 index smidi_request_header_i unique on smidi_system, request_key
       oracle_location 'ACTIVE_MISC_I'
          ;
}

{ end 67.0 }


TABLE smidi_request_record ORACLE_SPECIFIC 'storage (initial 1M next 1M)'
     oracle_location 'ACTIVE_MISC'
       ;   
	field smidi_system            links_to smidi_system.identity    used_for unique_key              ;
	field request_key             datatype text(30)                 used_for unique_key              ;
	field result_key              datatype text(20)                 used_for unique_key              ;
	field sample_key              datatype text(6)                  used_for unique_key              ;
	field entry_code              datatype packed_decimal                                            ;
	field analysis_id             links_to versioned_analysis.identity                               ;
	field component_name          links_to versioned_component.name                                  ;
	field message                 datatype text(700)                                                 ;
	field smidi_lot               datatype text(12)                                                  ;
	field sap_units               datatype text(10)                                                  ;
	field sap_places              datatype text(2)                                                   ;
	field sap_code_group          datatype text(8)                                                   ;
	field sap_subsys_valuates     datatype text(1)                                                   ;
	field sap_need_subsamps       datatype text(1)                                                   ;
	field sap_subsamp_valtype     datatype text(1)                                                   ;
	field sap_serial_required     datatype text(1)                                                   ;
	field sap_doc_required        datatype text(1)                                                   ;
	field sap_result_type         datatype text(1)                                                   ;
	field sap_valuate_type        datatype text(1)                                                   ;
	field sap_inspect_scope       datatype text(1)                                                   ;
	field sap_result_conf_no      datatype text(20)							             ;
	field qmidi_object            links_to smidi_system.qmidi_object                                 ;
	field userinfo                datatype text(1);

{ 67.0 }

	INDEX smidi_request_1    unique on smidi_lot,result_key                 ORACLE_SPECIFIC 'storage  (initial 1M next 1M)'
    oracle_location 'ACTIVE_MISC_I';  { <- result.sap_result_conf_no exists              }
	INDEX smidi_lot_ana_comp        on smidi_lot,analysis_id,component_name ORACLE_SPECIFIC 'storage  (initial 1M next 1M)'
    oracle_location 'ACTIVE_MISC_I';  { <-- if you do NOT have result.sap_result_conf_no }

{ Already exists 
      INDEX smidi_request_record_i unique on smidi_system, request_key, result_key ORACLE_SPECIFIC 'storage  (initial 1M next 1M)'
                oracle_location 'ACTIVE_MISC_I'
                 ;
}

{ end 67.0 }


{**********************************************************************}
{ SMIDI tables to translate QAICA (selected sets) into phrases         }
{**********************************************************************}

TABLE smidi_phrase_translate;
	field identity         links_to phrase_header.identity used_for unique_key                       ;
	field system           links_to smidi_system.identity  used_for unique_key                       ;
	field entry_is_sset    datatype boolean                                                          ;
	field catalog_type     datatype text(1)                                                          ;
	field catalog_plant    datatype text(4)                                                          ;
	field main_id          datatype text(8)                                                          ;

TABLE smidi_phrase_supp;
	field phrase_type      datatype identity used_for unique_key allowed_characters ' ..`'           ;
	field system           links_to smidi_system.identity  used_for unique_key                       ;
	field phrase_id        datatype identity used_for unique_key allowed_characters ' ..`'           ;
	field code_group       datatype text(8)                                                          ;
	field defect_class     datatype text(2)                                                          ;
	field need_text        datatype boolean                                                          ;
	field do_inv_posting   datatype boolean                                                          ;
	field quality_score    datatype integer                                                          ;

{**********************************************************************}
{ SMIDI tables to translate any other tables/fields using mapping      }
{**********************************************************************}

TABLE smidi_structure;
	field identity         datatype identity(30)          used_for unique_key                        ;
	field sap_version      datatype packed_decimal        used_for unique_key,version_number         ;
	field sap_sum_length   datatype integer                                                          ;
	field description      datatype text(100)                                                        ;
	field modified_on      datatype date                  used_for modified_on                       ;
	field modified_by      links_to personnel.identity    used_for modified_by                       ;
	field modifiable       datatype boolean               used_for modifiable                        ;
	field removeflag       datatype boolean               used_for remove_flag                       ;

TABLE smidi_structure_items;
	field identity         links_to smidi_structure.identity    used_for unique_key,primary_browse   ;
	field sap_version      links_to smidi_structure.sap_version used_for unique_key,display_browse(1);
	field sap_name         datatype identity(20)                used_for unique_key,display_browse(2);
	field internal_name    datatype identity(20)                used_for display_browse(3)           ;
	field SAP_Length       datatype integer                                                          ;
	field SAP_Order        datatype integer                                                          ;
	field SAP_Property     datatype boolean true_word 'Y' false_word 'N' default 'N'                 ;
	field print            datatype boolean true_word 'Y' false_word 'N' default 'N'                 ;
	field description      datatype text(60)                                                         ;

TABLE smidi_map_header ;
	field mapping_profile       datatype identity(20)          used_for unique_key                   ;
	field description           datatype text (234)                                                  ;
	field result_create         datatype boolean                                                     ;
	field result_assign         datatype boolean                                                     ;
	field test_create           datatype boolean                                                     ;
	field test_missing          datatype boolean                                                     ;
	field force_sample_size     datatype boolean                                                     ;
	field component_places      datatype boolean                                                     ;
	field component_units       datatype boolean                                                     ;
	field component_phrase      datatype boolean                                                     ;
	field comp_limits_plausible datatype boolean                                                     ;
	field mlp_update            datatype boolean                                                     ;
	field mlp_copy_lims_only    datatype boolean                                                     ;
	field mlp_places            datatype boolean                                                     ;
	field mlp_type              datatype boolean                                                     ;
	field mlp_units             datatype boolean                                                     ;
	field mlp_phrase            datatype boolean                                                     ;
	field mlp_target            datatype boolean                                                     ;
	field analysis_copy_comps   datatype boolean                                                     ;
	field analysis_copy_lists   datatype boolean                                                     ;
	field boolean_true_word     datatype text(8) default 'Yes'                                       ;
	field boolean_false_word    datatype text(8) default 'No'                                        ;
	field group_id              links_to group_header.identity used_for security_id                  ;
	field modified_on           datatype date                  used_for modified_on                  ;
	field modified_by           links_to personnel.identity    used_for modified_by                  ;
	field modifiable            datatype boolean               used_for modifiable                   ;
	field removeflag            datatype boolean               used_for remove_flag                  ;

TABLE smidi_map_item ;
	field mapping_profile       links_to smidi_map_header.mapping_profile used_for unique_key        ;
	field table_name            datatype identity(20)                     used_for unique_key        ;
	field field_name            datatype identity(20)                     used_for unique_key        ;
	field library_name          links_to report.identity                                             ;
	field routine_name          datatype identity(30)                                                ;
	field structure             links_to smidi_structure_items.identity                              ;
	field smp_name              links_to smidi_structure_items.internal_name                         ;
	field default_value         datatype text(50)                                                    ;
	field mandatory             datatype boolean true_word 'Yes' false_word 'No' default 'No'        ;
	field number_right          datatype integer lower_limit 0 upper_limit 999                       ;
	field number_left           datatype integer lower_limit 0 upper_limit 999                       ;
	field map_update            datatype boolean true_word 'Y' false_word 'N' default 'Y'            ; 

{**********************************************************************}
{ SMIDI tables for configuration by system, server, query              }
{**********************************************************************}

TABLE smidi_config_header;
	field identity        datatype identity(30)         used_for unique_key                          ;
	field modified_on     datatype date                 used_for modified_on                         ;
	field modified_by     links_to personnel.identity   used_for modified_by                         ;
	field modifiable      datatype boolean              used_for modifiable                          ;
	field removeflag      datatype boolean              used_for remove_flag                         ;
	field user_modifiable datatype boolean                                                           ;
	field description     datatype text(255)                                                         ;
	field data_type       datatype identity default 'TEXT' prompt_type choose choose_type CONFG_TYPE ;
	field library         links_to report.identity                                                   ;
	field routine         datatype text(30)                                                          ;
	field value           datatype text(255) prompt_type user_defined library '$CONFIG_PROMPT' routine 'prompt_config';
	field level_id        datatype identity  prompt_type choose choose_type SMIDI_LEVL default 'SYSTEM'               ;
	field purpose         datatype text(1)                                                                            ;
	field vgl_libraries   datatype text(300)                                                                          ;

TABLE smidi_config_item;
	field identity 	    links_to smidi_config_header.identity  used_for unique_key                 ;
	field server 	    links_to smidi_system.identity         used_for unique_key                 ;
	field query 	    links_to smidi_query.identity          used_for unique_key                 ;
	field value           links_to smidi_config_header.value                                       ;

{**********************************************************************}
{ SMIDI user defined tables                                            }
{**********************************************************************}

TABLE smidi_r3_units;
	field smidi_system    links_to smidi_system.identity used_for unique_key                         ;
	field identity        datatype text(3)               used_for unique_key allowed_characters '0..9a..zA..Z/*^+-.[]()%_#05' ;
	field id_sm_unit      datatype text(40)                                                          ;
	field description     datatype text(40)                                                          ;
	field modified_on     datatype date                  used_for modified_on                        ;
	field modified_by     links_to personnel.identity    used_for modified_by                        ;
	field modifiable      datatype boolean               used_for modifiable                         ;
	field removeflag      datatype boolean               used_for remove_flag                        ;

TABLE status_queue;
	field type            datatype text(1)            used_for unique_key                            ;
	field status          datatype text(1)            used_for unique_key                            ;
	field identity        datatype text(50)           used_for unique_key                            ;
	field entered_on      datatype date;
	field entered_by      links_to personnel . identity 						 ;

{**********************************************************************}
{ end SMIDI tables                                                     }
{**********************************************************************}



{**********************************************************************}
{  SMIDI VIEWS                                                         }
{**********************************************************************}

VIEW smidi_query_view on_table smidi_query,smidi_system                    ;
	field smidi_system            links_to smidi_query.smidi_system      ;
	field identity                links_to smidi_query.identity          ;
	field smidi_query             links_to smidi_query.identity          ;
	field group_id                links_to smidi_query.group_id          ;
	field description             links_to smidi_query.description       ;
	field from_lot_no             links_to smidi_query.from_lot_no       ;
	field to_lot_no               links_to smidi_query.to_lot_no         ;
	field op_sequence             links_to smidi_query.op_sequence       ;
	field from_op_no              links_to smidi_query.from_op_no        ;
	field to_op_no                links_to smidi_query.to_op_no          ;
	field op_plant                links_to smidi_query.op_plant          ;
	field subsystem               links_to smidi_query.subsystem         ;
	field work_centre             links_to smidi_query.work_centre       ;
	field wc_plant                links_to smidi_query.wc_plant          ;
	field material_no             links_to smidi_query.material_no       ;
	field from_date               links_to smidi_query.from_date         ;
	field to_date                 links_to smidi_query.to_date           ;
	field insp_status             links_to smidi_query.insp_status       ;
	field inspection_type         links_to smidi_query.inspection_type   ;
	field origin                  links_to smidi_query.origin            ;
	field batch_no                links_to smidi_query.batch_no          ;
	field from_order_no           links_to smidi_query.from_order_no     ;
	field to_order_no             links_to smidi_query.to_order_no       ;
	field vendor_no               links_to smidi_query.vendor_no         ;
	field customer_no             links_to smidi_query.customer_no       ;
	field mat_doc_no              links_to smidi_query.mat_doc_no        ;
	field max_lots                links_to smidi_query.max_lots          ;
	field filter_routine          links_to smidi_query.filter_routine    ;
	field filter_library          links_to smidi_query.filter_library    ;
	field query_repeat            links_to smidi_query.query_repeat      ;
	field sort_ascending          links_to smidi_query.sort_ascending    ;
	field sort_descending         links_to smidi_query.sort_descending   ;
	field allow_corrections       links_to smidi_query.allow_corrections ;
	field lock_chars              links_to smidi_query.lock_chars        ;
	field get_required            links_to smidi_query.get_required      ;
	field get_valuation           links_to smidi_query.get_valuation     ;
	field get_res_cat             links_to smidi_query.get_res_cat       ;
	field get_ud_cat              links_to smidi_query.get_ud_cat        ;
	field get_work_centre         links_to smidi_query.get_work_centre   ;
	field get_vendor              links_to smidi_query.get_vendor        ;
	field get_purchasing          links_to smidi_query.get_purchasing    ;
	field get_sales               links_to smidi_query.get_sales         ;
	field do_two_stage            links_to smidi_query.do_two_stage;
	field mapping_profile         links_to smidi_query.mapping_profile   ;
	field qmidi_object            links_to smidi_system.qmidi_object     ;
	field qmidi_version           links_to smidi_system.qmidi_version    ;
	
ORACLE_SPECIFIC_SELECT 

	SELECT DISTINCT
	SQ.smidi_system         ,
	SQ.identity             ,
	SQ.identity             ,
	SQ.group_id             ,
	SQ.description		,
	SQ.from_lot_no		,
	SQ.to_lot_no		,
	SQ.op_sequence		,
	SQ.from_op_no		,
	SQ.to_op_no             ,
	SQ.op_plant             ,
	SQ.subsystem		,
	SQ.work_centre		,
	SQ.wc_plant             ,
	SQ.material_no		,
	SQ.from_date		,
	SQ.to_date              ,
	SQ.insp_status		,
	SQ.inspection_type	,
	SQ.origin               ,
	SQ.batch_no             ,
	SQ.from_order_no        ,
	SQ.to_order_no		,
	SQ.vendor_no		,
	SQ.customer_no		,
	SQ.mat_doc_no		,
	SQ.max_lots             ,
	SQ.filter_routine       ,
	SQ.filter_library       ,
	SQ.query_repeat         ,
	SQ.sort_ascending       ,
	SQ.sort_descending	,
	SQ.allow_corrections	,
	SQ.lock_chars		,
	SQ.get_required		,
	SQ.get_valuation        ,
	SQ.get_res_cat		,
	SQ.get_ud_cat		,
	SQ.get_work_centre	,
	SQ.get_vendor		,
	SQ.get_purchasing	,
	SQ.get_sales            ,
	SQ.do_two_stage         ,
	SQ.MAPPING_PROFILE      ,
	SS.QMIDI_OBJECT         ,
	SS.QMIDI_VERSION
	FROM  SMIDI_QUERY SQ, SMIDI_SYSTEM SS
	WHERE SQ.REMOVEFLAG = 'F' AND SS.REMOVEFLAG = 'F' AND SQ.SMIDI_SYSTEM = SS.IDENTITY;
	
SQLSERVER_SPECIFIC_SELECT 

	SELECT DISTINCT
	SQ.smidi_system         ,
	SQ.[identity]           ,
	SQ.[identity]           ,
	SQ.group_id             ,
	SQ.description		,
	SQ.from_lot_no		,
	SQ.to_lot_no		,
	SQ.op_sequence		,
	SQ.from_op_no		,
	SQ.to_op_no             ,
	SQ.op_plant             ,
	SQ.subsystem		,
	SQ.work_centre		,
	SQ.wc_plant             ,
	SQ.material_no		,
	SQ.from_date		,
	SQ.to_date              ,
	SQ.insp_status		,
	SQ.inspection_type	,
	SQ.origin               ,
	SQ.batch_no             ,
	SQ.from_order_no        ,
	SQ.to_order_no		,
	SQ.vendor_no		,
	SQ.customer_no		,
	SQ.mat_doc_no		,
	SQ.max_lots             ,
	SQ.filter_routine       ,
	SQ.filter_library       ,
	SQ.query_repeat         ,
	SQ.sort_ascending       ,
	SQ.sort_descending	,
	SQ.allow_corrections	,
	SQ.lock_chars		,
	SQ.get_required		,
	SQ.get_valuation        ,
	SQ.get_res_cat		,
	SQ.get_ud_cat		,
	SQ.get_work_centre	,
	SQ.get_vendor		,
	SQ.get_purchasing	,
	SQ.get_sales            ,
	SQ.do_two_stage         ,
	SQ.MAPPING_PROFILE      ,
	SS.QMIDI_OBJECT         ,
	SS.QMIDI_VERSION
	FROM  SMIDI_QUERY SQ, SMIDI_SYSTEM SS
	WHERE SQ.REMOVEFLAG = 'F' AND SS.REMOVEFLAG = 'F' AND SQ.SMIDI_SYSTEM = SS.[IDENTITY];


VIEW smidi_process_view on_table smidi_query,smidi_system                        ;
	field smidi_system            links_to smidi_system.identity               ;
	field qmidi_object            links_to smidi_system.qmidi_object           ;
	field qmidi_version           links_to smidi_system.qmidi_version          ;
	field identity                links_to smidi_query.identity                ;
	field smidi_query             links_to smidi_query.identity                ;
	field query_repeat            links_to smidi_query.process_repeat          ;
	field mapping_profile         links_to smidi_query.mapping_profile         ;
	field process_library         links_to smidi_query.process_library         ;
	field process_routine         links_to smidi_query.process_routine         ;

ORACLE_SPECIFIC_SELECT

	SELECT DISTINCT
		SS.IDENTITY        ,
		SS.QMIDI_OBJECT    ,
		SS.QMIDI_VERSION   ,
		SQ.IDENTITY        ,
		SQ.IDENTITY        ,
		SQ.PROCESS_REPEAT  ,
		SQ.MAPPING_PROFILE ,
		SQ.PROCESS_LIBRARY ,
		SQ.PROCESS_ROUTINE
	FROM SMIDI_QUERY SQ, SMIDI_SYSTEM SS
	WHERE SQ.REMOVEFLAG  = 'F' AND SS.REMOVEFLAG  = 'F' AND SQ.SMIDI_SYSTEM = SS.IDENTITY;

SQLSERVER_SPECIFIC_SELECT  

	SELECT DISTINCT
		SS.[IDENTITY]      ,
		SS.QMIDI_OBJECT    ,
		SS.QMIDI_VERSION   ,
		SQ.[IDENTITY]      ,                                        /*93.0*/
		SQ.[IDENTITY]      ,
		SQ.PROCESS_REPEAT  ,
		SQ.MAPPING_PROFILE ,
		SQ.PROCESS_LIBRARY ,
		SQ.PROCESS_ROUTINE
	FROM SMIDI_QUERY SQ, SMIDI_SYSTEM SS
	WHERE SQ.REMOVEFLAG  = 'F' AND SS.REMOVEFLAG  = 'F' AND SQ.SMIDI_SYSTEM = SS.[IDENTITY];


VIEW smidi_points_view on_table smidi_points_query,smidi_system;
	field identity                links_to smidi_points_query.from_ip_lot     ;
	field smidi_query             links_to smidi_points_query.from_ip_lot     ;
	field from_ip_op_no           links_to smidi_points_query.from_ip_op_no   ;
	field from_ip_point           links_to smidi_points_query.from_ip_point   ;
	field to_ip_point             links_to smidi_points_query.to_ip_point     ;
	field query_repeat            links_to smidi_points_query.repeat_interval ;
	field subsystem               links_to smidi_points_query.subsystem       ;
	field process_library         links_to smidi_points_query.process_library ;
	field process_routine         links_to smidi_points_query.process_routine ;
	field mapping_profile         links_to smidi_points_query.mapping_profile ;
	field smidi_system            links_to smidi_system.identity              ;
	field qmidi_object            links_to smidi_system.qmidi_object          ;
	field qmidi_version           links_to smidi_system.qmidi_version         ;
	
ORACLE_SPECIFIC_SELECT

	SELECT
		SP.FROM_IP_LOT     ,
		SP.FROM_IP_LOT     ,
		SP.FROM_IP_OP_NO   ,
		SP.FROM_IP_POINT   ,
		SP.TO_IP_POINT     ,
		SP.REPEAT_INTERVAL ,
		SP.SUBSYSTEM       ,
		SP.PROCESS_LIBRARY ,
		SP.PROCESS_ROUTINE ,
		SP.MAPPING_PROFILE ,
		SS.IDENTITY        ,
		SS.QMIDI_OBJECT    ,
		SS.QMIDI_VERSION   
	FROM    SMIDI_POINTS_QUERY SP, SMIDI_SYSTEM SS
	WHERE   SP.REMOVEFLAG  = 'F' AND SS.REMOVEFLAG = 'F' AND SP.SMIDI_SYSTEM = SS.IDENTITY; 

SQLSERVER_SPECIFIC_SELECT

	SELECT
		SP.FROM_IP_LOT     ,
		SP.FROM_IP_LOT     ,
		SP.FROM_IP_OP_NO   ,
		SP.FROM_IP_POINT   ,
		SP.TO_IP_POINT     ,
		SP.REPEAT_INTERVAL ,
		SP.SUBSYSTEM       ,
		SP.PROCESS_LIBRARY ,
		SP.PROCESS_ROUTINE ,
		SP.MAPPING_PROFILE ,
		SS.[IDENTITY]      ,
		SS.QMIDI_OBJECT    ,
		SS.QMIDI_VERSION   
	FROM    SMIDI_POINTS_QUERY SP, SMIDI_SYSTEM SS
	WHERE   SP.REMOVEFLAG  = 'F' AND SS.REMOVEFLAG = 'F' AND SP.SMIDI_SYSTEM = SS.[IDENTITY]; 


VIEW smidi_process_point_view on_table smidi_points_query,smidi_system;
	field identity                links_to smidi_points_query.from_ip_lot     ;
	field smidi_query             links_to smidi_points_query.from_ip_lot     ;
	field query_repeat            links_to smidi_points_query.repeat_interval ;
	field subsystem               links_to smidi_points_query.subsystem       ;
	field process_library         links_to smidi_points_query.process_library ;
	field process_routine         links_to smidi_points_query.process_routine ;
	field mapping_profile         links_to smidi_points_query.mapping_profile ;
	field smidi_system            links_to smidi_system.identity              ;
	field qmidi_object            links_to smidi_system.qmidi_object          ;
	field qmidi_version           links_to smidi_system.qmidi_version         ;
	
ORACLE_SPECIFIC_SELECT

	SELECT DISTINCT
		SP.FROM_IP_LOT     ,
		SP.FROM_IP_LOT     ,
		SP.REPEAT_INTERVAL ,
		SP.SUBSYSTEM       ,
		SP.PROCESS_LIBRARY ,
		SP.PROCESS_ROUTINE ,
		SP.MAPPING_PROFILE ,
		SS.IDENTITY        ,
		SS.QMIDI_OBJECT    ,
		SS.QMIDI_VERSION   
	FROM    SMIDI_POINTS_QUERY SP, SMIDI_SYSTEM SS
	WHERE   SP.REMOVEFLAG  = 'F' AND SS.REMOVEFLAG = 'F' AND SP.SMIDI_SYSTEM = SS.IDENTITY; 

SQLSERVER_SPECIFIC_SELECT

	SELECT DISTINCT
		SP.FROM_IP_LOT     ,
		SP.FROM_IP_LOT     ,
		SP.REPEAT_INTERVAL ,
		SP.SUBSYSTEM       ,
		SP.PROCESS_LIBRARY ,
		SP.PROCESS_ROUTINE ,
		SP.MAPPING_PROFILE ,
		SS.[IDENTITY]      ,
		SS.QMIDI_OBJECT    ,
		SS.QMIDI_VERSION   
	FROM    SMIDI_POINTS_QUERY SP, SMIDI_SYSTEM SS
	WHERE   SP.REMOVEFLAG  = 'F' AND SS.REMOVEFLAG = 'F' AND SP.SMIDI_SYSTEM = SS.[IDENTITY]; 


VIEW smidi_phrase_view on_table smidi_phrase_translate,smidi_phrase_supp, phrase;
	field identity          links_to smidi_phrase_supp.phrase_type          used_for unique_key;    {93.0}
	field phrase_id         links_to smidi_phrase_supp.phrase_id            used_for unique_key;    {93.0}
	field code_group        links_to smidi_phrase_supp.code_group           used_for unique_key;    {93.0}
	field defect_class      links_to smidi_phrase_supp.defect_class         ;
	field need_text         links_to smidi_phrase_supp.need_text            ;
	field do_inv_posting    links_to smidi_phrase_supp.do_inv_posting       ;
	field quality_score     links_to smidi_phrase_supp.quality_score        ;
	field system            links_to smidi_phrase_translate.system          ;
	field entry_is_sset     links_to smidi_phrase_translate.entry_is_sset   ;
	field catalog_type      links_to smidi_phrase_translate.catalog_type    ;
	field catalog_plant     links_to smidi_phrase_translate.catalog_plant   ;
	field main_id           links_to smidi_phrase_translate.main_id         ;
	field phrase            links_to phrase.phrase_text                     ;
	
ORACLE_SPECIFIC_SELECT

	SELECT DISTINCT
	sps.phrase_type       ,
	sps.phrase_id         ,
	sps.code_group        ,
	sps.defect_class      ,
	sps.need_text         ,
	sps.do_inv_posting    ,
	sps.quality_score     ,
	spt.system            ,
	spt.entry_is_sset     ,
	spt.catalog_type      ,
	spt.catalog_plant     ,
	spt.main_id           ,
	p.phrase_text         
	FROM SMIDI_phrase_translate SPT, SMIDI_phrase_supp SPS, phrase p
	WHERE SPT.identity    = SPS.phrase_type
		AND   SPS.phrase_type = P.phrase_type
		AND   SPS.phrase_id   = P.phrase_id;
		
SQLSERVER_SPECIFIC_SELECT

	SELECT DISTINCT
	sps.phrase_type       ,
	sps.phrase_id         ,
	sps.code_group        ,
	sps.defect_class      ,
	sps.need_text         ,
	sps.do_inv_posting    ,
	sps.quality_score     ,
	spt.system            ,
	spt.entry_is_sset     ,
	spt.catalog_type      ,
	spt.catalog_plant     ,
	spt.main_id           ,
	p.phrase_text         
	FROM SMIDI_phrase_translate SPT, SMIDI_phrase_supp SPS, phrase p
	WHERE SPT.[identity]    = SPS.phrase_type
		AND   SPS.phrase_type = P.phrase_type
		AND   SPS.phrase_id   = P.phrase_id;


{ ----------------------------------------------------------------------------------------------------------- }
{ Views to optimize the upload of data to SAP.  Each view is specific to the thread (result, lot, point, etc) }
{ ----------------------------------------------------------------------------------------------------------- }

VIEW smidi_upload_RESULT_VIEW on_table smidi_upload_queue;

	field job_name                links_to smidi_upload_queue.job_name                                      ;
	field id_numeric              links_to smidi_upload_queue.id_numeric                                    ;
	field test_number             links_to smidi_upload_queue.test_number                                   ;
	field name                    links_to smidi_upload_queue.name                                          ;
	field retry_count             links_to smidi_upload_queue.retry_count                                   ;
	field status                  links_to smidi_upload_queue.status                                        ;
	field type                    links_to smidi_upload_queue.type                                          ;
	field date_created            links_to smidi_upload_queue.date_created                                  ;
	field analysis_id             links_to smidi_upload_queue.analysis_id                                   ;
	field job_status              links_to smidi_upload_queue.job_status                                    ;
	field sample_status           links_to smidi_upload_queue.sample_status                                 ;
	field test_status             links_to smidi_upload_queue.test_status                                   ;
	field result_status           links_to smidi_upload_queue.result_status                                 ;
	field result_text             links_to smidi_upload_queue.result_text                                   ;
	field result_Value            links_to smidi_upload_queue.result_value                                  ;
	field send_result             links_to smidi_upload_queue.send_result                                   ;
	field lims_units              links_to smidi_upload_queue.lims_units                                    ;
	field lims_out_of_range       links_to smidi_upload_queue.lims_out_of_range                             ;
	field smidi_system            links_to smidi_upload_queue.smidi_system                                  ;
	field smidi_lot               links_to smidi_upload_queue.smidi_lot                                     ;
	field smidi_operation         links_to smidi_upload_queue.smidi_operation                               ;
	field smidi_phys_samp         links_to smidi_upload_queue.smidi_phys_samp                               ;
	field smidi_part_samp         links_to smidi_upload_queue.smidi_part_samp                               ;
	field sap_start_date          links_to smidi_upload_queue.sap_start_date                                ;
	field sap_entered_by          links_to smidi_upload_queue.sap_entered_by                                ;
	field sap_result_conf_no      links_to smidi_upload_queue.sap_result_conf_no                            ;
	field sap_result_origin       links_to smidi_upload_queue.sap_result_origin                             ;
	field sap_code_number         links_to smidi_upload_queue.sap_code_number                               ;
	field sap_code_group          links_to smidi_upload_queue.sap_code_group                                ;
	field sap_documentation       links_to smidi_upload_queue.sap_documentation                             ;
	field sap_doc_required        links_to smidi_upload_queue.sap_doc_required                              ;
	field sap_serial_no           links_to smidi_upload_queue.sap_serial_no                                 ;
	field sap_serial_required     links_to smidi_upload_queue.sap_serial_required                           ;
	field sap_specification       links_to smidi_upload_queue.sap_specification                             ;
	field sap_valuation           links_to smidi_upload_queue.sap_valuation                                 ;
	field sap_attribute           links_to smidi_upload_queue.sap_attribute                                 ;
	field sap_units               links_to smidi_upload_queue.sap_units                                     ;
	field sap_places              links_to smidi_upload_queue.sap_places                                    ;
	field sap_result_type         links_to smidi_upload_queue.sap_result_type                               ;
	field sap_subsys_valuates     links_to smidi_upload_queue.sap_subsys_valuates                           ;
	field sap_valuate_type        links_to smidi_upload_queue.sap_valuate_type                              ;
	field sap_need_subsamps       links_to smidi_upload_queue.sap_need_subsamps                             ;
	field sap_subsamp_valtype     links_to smidi_upload_queue.sap_subsamp_valtype                           ;
	field sap_inspect_scope       links_to smidi_upload_queue.sap_inspect_scope                             ;
	field sap_defect_class        links_to smidi_upload_queue.sap_defect_class                              ;
	field sap_subsamp_defect      links_to smidi_upload_queue.sap_subsamp_defect                            ;
	field qmidi_object            links_to smidi_upload_queue.qmidi_object                                  ;
SELECT_CLAUSE SELECT
	sur.job_name                 ,
	sur.id_numeric               ,
	sur.test_number              ,
	sur.name                     ,
	sur.retry_count              ,
	sur.status                   ,
	sur.type                     ,
	sur.date_created             ,
	sur.analysis_id              ,
	sur.job_status               ,
	sur.sample_status            ,
	sur.test_status              ,
	sur.result_status            ,
	sur.result_text              ,
	sur.result_value             ,
	sur.send_result              ,
	sur.lims_units               ,
	sur.lims_out_of_range        ,
	sur.smidi_system             ,
	sur.smidi_lot                ,
	sur.smidi_operation          ,
	sur.smidi_phys_samp          ,
	sur.smidi_part_samp          ,
	sur.sap_start_date           ,
	sur.sap_entered_by           ,
	sur.sap_result_conf_no       ,
	sur.sap_result_origin        ,
	sur.sap_code_number          ,
	sur.sap_code_group           ,
	sur.sap_documentation        ,
	sur.sap_doc_required         ,
	sur.sap_serial_no            ,
	sur.sap_serial_required      ,
	sur.sap_specification        ,
	sur.sap_valuation            ,
	sur.sap_attribute            ,
	sur.sap_units                ,
	sur.sap_places               ,
	sur.sap_result_type          ,
	sur.sap_subsys_valuates      ,
	sur.sap_valuate_type         ,
	sur.sap_need_subsamps        ,
	sur.sap_subsamp_valtype      ,
	sur.sap_inspect_scope        ,
	sur.sap_defect_class         ,
	sur.sap_subsamp_defect       ,
	sur.qmidi_object
	FROM smidi_upload_queue sur
	WHERE sur.status = 1 AND sur.type = 'RESULT' AND sur.retry_count < 10 ;


VIEW smidi_upload_POINT_VIEW on_table smidi_upload_queue, smidi_insppoint;
	field job_name                links_to smidi_upload_queue.job_name                                      ; { key0 }
	field id_numeric              links_to smidi_upload_queue.id_numeric                                    ; { key0 }
	field test_number             links_to smidi_upload_queue.test_number                                   ; { key0 }
	field name                    links_to smidi_upload_queue.name                                          ; { key0 }
	field status                  links_to smidi_upload_queue.status                                        ;
	field retry_count             links_to smidi_upload_queue.retry_count                                   ;
	field date_created            links_to smidi_upload_queue.date_created                                  ;
	field job_status              links_to smidi_upload_queue.job_status                                    ;
	field sample_status           links_to smidi_upload_queue.sample_status                                 ;
	field qmidi_object            links_to smidi_upload_queue.qmidi_object                                  ;
	field smidi_lot               links_to smidi_upload_queue.smidi_lot                                     ;
	field smidi_system            links_to smidi_insppoint.smidi_system                                     ;
	field request_key             links_to smidi_insppoint.request_key                                      ;
	field job                     links_to smidi_insppoint.job                                              ;
	field sample                  links_to smidi_insppoint.sample                                           ;
	field SAP_UD_material_no      links_to smidi_insppoint.SAP_UD_material_no                               ;
	field SAP_UD_partial_lot      links_to smidi_insppoint.SAP_UD_partial_lot                               ;
	field SAP_UD_batch            links_to smidi_insppoint.SAP_UD_batch                                     ;
	field SAP_UD_code             links_to smidi_insppoint.SAP_UD_code                                      ;
	field SAP_UD_decision_text    links_to smidi_insppoint.SAP_UD_decision_text                             ;
	field SAP_UD_quantity         links_to smidi_insppoint.SAP_UD_quantity                                  ;
	field SAP_UD_units            links_to smidi_insppoint.SAP_UD_units                                     ;
	field SAP_UD_rework_quantity  links_to smidi_insppoint.SAP_UD_rework_quantity                           ;
	field SAP_UD_scrap_amount     links_to smidi_insppoint.SAP_UD_scrap_amount                              ;
	field SAP_UD_scrap_reason     links_to smidi_insppoint.SAP_UD_scrap_reason                              ;
	field SAP_UD_equipment_no     links_to smidi_insppoint.SAP_UD_equipment_no                              ;
	field SAP_UD_functional_loc   links_to smidi_insppoint.SAP_UD_functional_loc                            ;
	field SAP_UD_uploaded         links_to smidi_insppoint.SAP_UD_uploaded                                  ;
	field SAP_UD_operator         links_to smidi_insppoint.SAP_UD_operator                                  ;
	field SAP_UD_date             links_to smidi_insppoint.SAP_UD_date                                      ;
	field SAP_UD_CAT_PLANT        links_to smidi_insppoint.SAP_UD_cat_plant                                 ;
	field SAP_UD_CODE_GROUP       links_to smidi_insppoint.SAP_UD_code_group                                ;
	field SAP_UD_SELECTED_SET     links_to smidi_insppoint.SAP_UD_selected_set                              ;
	field SAP_UD_INSPECT_TYPE     links_to smidi_insppoint.SAP_UD_inspect_type                              ;
	field SAP_point_created       links_to smidi_insppoint.SAP_point_created                                ;
	field user_C1_value           links_to smidi_insppoint.user_C1_value                                    ;
	field user_C2_value           links_to smidi_insppoint.user_C2_value                                    ;
	field user_N1_value           links_to smidi_insppoint.user_N1_value                                    ;
	field user_N2_value           links_to smidi_insppoint.user_N2_value                                    ;
	field user_D1_value           links_to smidi_insppoint.user_D1_value                                    ;
	field user_T1_value           links_to smidi_insppoint.user_T1_value                                    ;
	field message                 links_to smidi_insppoint.message                                          ;
SELECT_CLAUSE SELECT DISTINCT
	sur.job_name                ,
	sur.id_numeric              ,
	sur.test_number             ,
	sur.name                    ,
	sur.status                  ,
	sur.retry_count             ,
	sur.date_created            ,
	sur.job_status              ,
	sur.sample_status           ,
	sur.qmidi_object            ,
	sur.smidi_lot               ,
	sip.smidi_system            ,
	sip.request_key             ,
	sip.job                     ,
	sip.sample                  ,
	sip.SAP_UD_material_no      ,
	sip.SAP_UD_partial_lot      ,
	sip.SAP_UD_batch            ,
	sip.SAP_UD_code             ,
	sip.SAP_UD_decision_text    ,
	sip.SAP_UD_quantity         ,
	sip.SAP_UD_units            ,
	sip.SAP_UD_rework_quantity  ,
	sip.SAP_UD_scrap_amount     ,
	sip.SAP_UD_scrap_reason     ,
	sip.SAP_UD_equipment_no     ,
	sip.SAP_UD_functional_loc   ,
	sip.SAP_UD_uploaded         ,
	sip.SAP_UD_operator         ,
	sip.SAP_UD_date             ,
	sip.SAP_UD_cat_plant        ,
	sip.SAP_UD_code_group       ,
	sip.SAP_UD_selected_set     ,
	sip.SAP_UD_inspect_type     ,
	sip.SAP_point_created       ,
	sip.user_C1_value           ,
	sip.user_C2_value           ,
	sip.user_N1_value           ,
	sip.user_N2_value           ,
	sip.user_D1_value           ,
	sip.user_T1_value           ,
	sip.message
	FROM smidi_upload_queue sur, smidi_insppoint sip
	WHERE sur.status = 1 AND sur.type = 'POINT' and sur.retry_count < 10
	AND   sur.job_name = sip.request_key;

VIEW smidi_upload_POINT_UD_VIEW on_table smidi_upload_queue, smidi_insppoint;
	field job_name                links_to smidi_upload_queue.job_name                                      ; { key0 }
	field id_numeric              links_to smidi_upload_queue.id_numeric                                    ; { key0 }
	field test_number             links_to smidi_upload_queue.test_number                                   ; { key0 }
	field name                    links_to smidi_upload_queue.name                                          ; { key0 }
	field status                  links_to smidi_upload_queue.status                                        ;
	field retry_count             links_to smidi_upload_queue.retry_count                                   ;
	field date_created            links_to smidi_upload_queue.date_created                                  ;
	field job_status              links_to smidi_upload_queue.job_status                                    ;
	field sample_status           links_to smidi_upload_queue.sample_status                                 ;
	field qmidi_object            links_to smidi_upload_queue.qmidi_object                                  ;
	field smidi_lot               links_to smidi_upload_queue.smidi_lot                                     ;
	field smidi_system            links_to smidi_insppoint.smidi_system                                     ;
	field request_key             links_to smidi_insppoint.request_key                                      ;
	field job                     links_to smidi_insppoint.job                                              ;
	field sample                  links_to smidi_insppoint.sample                                           ;
	field SAP_UD_material_no      links_to smidi_insppoint.SAP_UD_material_no                               ;
	field SAP_UD_partial_lot      links_to smidi_insppoint.SAP_UD_partial_lot                               ;
	field SAP_UD_batch            links_to smidi_insppoint.SAP_UD_batch                                     ;
	field SAP_UD_code             links_to smidi_insppoint.SAP_UD_code                                      ;
	field SAP_UD_decision_text    links_to smidi_insppoint.SAP_UD_decision_text                             ;
	field SAP_UD_quantity         links_to smidi_insppoint.SAP_UD_quantity                                  ;
	field SAP_UD_units            links_to smidi_insppoint.SAP_UD_units                                     ;
	field SAP_UD_rework_quantity  links_to smidi_insppoint.SAP_UD_rework_quantity                           ;
	field SAP_UD_scrap_amount     links_to smidi_insppoint.SAP_UD_scrap_amount                              ;
	field SAP_UD_scrap_reason     links_to smidi_insppoint.SAP_UD_scrap_reason                              ;
	field SAP_UD_equipment_no     links_to smidi_insppoint.SAP_UD_equipment_no                              ;
	field SAP_UD_functional_loc   links_to smidi_insppoint.SAP_UD_functional_loc                            ;
	field SAP_UD_uploaded         links_to smidi_insppoint.SAP_UD_uploaded                                  ;
	field SAP_UD_operator         links_to smidi_insppoint.SAP_UD_operator                                  ;
	field SAP_UD_date             links_to smidi_insppoint.SAP_UD_date                                      ;
	field SAP_UD_CAT_PLANT        links_to smidi_insppoint.SAP_UD_cat_plant                                 ;
	field SAP_UD_CODE_GROUP       links_to smidi_insppoint.SAP_UD_code_group                                ;
	field SAP_UD_SELECTED_SET     links_to smidi_insppoint.SAP_UD_selected_set                              ;
	field SAP_UD_INSPECT_TYPE     links_to smidi_insppoint.SAP_UD_inspect_type                              ;
	field SAP_point_created       links_to smidi_insppoint.SAP_point_created                                ;
	field user_C1_value           links_to smidi_insppoint.user_C1_value                                    ;
	field user_C2_value           links_to smidi_insppoint.user_C2_value                                    ;
	field user_N1_value           links_to smidi_insppoint.user_N1_value                                    ;
	field user_N2_value           links_to smidi_insppoint.user_N2_value                                    ;
	field user_D1_value           links_to smidi_insppoint.user_D1_value                                    ;
	field user_T1_value           links_to smidi_insppoint.user_T1_value                                    ;
	field message                 links_to smidi_insppoint.message                                          ;
SELECT_CLAUSE SELECT DISTINCT
	sur.job_name                ,
	sur.id_numeric              ,
	sur.test_number             ,
	sur.name                    ,
	sur.status                  ,
	sur.retry_count             ,
	sur.date_created            , 
	sur.job_status              ,
	sur.sample_status           ,
	sur.qmidi_object            ,
	sur.smidi_lot               ,
	sip.smidi_system            ,
	sip.request_key             ,
	sip.job                     ,
	sip.sample                  ,
	sip.SAP_UD_material_no      ,
	sip.SAP_UD_partial_lot      ,
	sip.SAP_UD_batch            ,
	sip.SAP_UD_code             ,
	sip.SAP_UD_decision_text    ,
	sip.SAP_UD_quantity         ,
	sip.SAP_UD_units            ,
	sip.SAP_UD_rework_quantity  ,
	sip.SAP_UD_scrap_amount     ,
	sip.SAP_UD_scrap_reason     ,
	sip.SAP_UD_equipment_no     ,
	sip.SAP_UD_functional_loc   ,
	sip.SAP_UD_uploaded         ,
	sip.SAP_UD_operator         ,
	sip.SAP_UD_date             ,
	sip.SAP_UD_cat_plant        ,
	sip.SAP_UD_code_group       ,
	sip.SAP_UD_selected_set     ,
	sip.SAP_UD_inspect_type     ,
	sip.SAP_point_created       ,
	sip.user_C1_value           ,
	sip.user_C2_value           ,
	sip.user_N1_value           ,
	sip.user_N2_value           ,
	sip.user_D1_value           ,
	sip.user_T1_value           ,
	sip.message
	FROM smidi_upload_queue sur, smidi_insppoint sip
	WHERE sur.status = 1 AND sur.type = 'POINT_UD' AND sur.retry_count < 10
	AND   sur.job_name = sip.request_key;

VIEW smidi_upload_LOT_UD_VIEW on_table smidi_upload_queue, job_header;
	field job_name                links_to smidi_upload_queue.job_name                                      ; { key0 }
	field id_numeric              links_to smidi_upload_queue.id_numeric                                    ; { key0 }
	field test_number             links_to smidi_upload_queue.test_number                                   ; { key0 }
	field name                    links_to smidi_upload_queue.name                                          ; { key0 }
	field status                  links_to smidi_upload_queue.status                                        ;
	field retry_count             links_to smidi_upload_queue.retry_count                                   ;
	field date_created            links_to smidi_upload_queue.date_created                                  ;
	field job_status              links_to smidi_upload_queue.job_status                                    ;
	field sample_status           links_to smidi_upload_queue.sample_status                                 ;
	field smidi_system            links_to smidi_upload_queue.smidi_system                                  ;
	field qmidi_object            links_to smidi_upload_queue.qmidi_object                                  ;
	field smidi_lot               links_to job_header.smidi_lot                                             ;
	field SAP_UD_enabled          links_to job_header.SAP_UD_enabled                                        ;
	field SAP_UD_phrase           links_to job_header.SAP_UD_phrase                                         ;
	field SAP_UD_plant            links_to job_header.SAP_UD_plant                                          ;
	field SAP_UD_code_group       links_to job_header.SAP_UD_code_group                                     ;
	field SAP_UD_code             links_to job_header.SAP_UD_code                                           ;
	field SAP_UD_text             links_to job_header.SAP_UD_text                                           ;
	field SAP_UD_uploaded         links_to job_header.SAP_UD_uploaded                                       ;
	field SAP_batch               links_to job_header.SAP_batch                                             ;
	field SAP_MATNR               links_to job_header.SAP_MATNR                                             ;
SELECT_CLAUSE SELECT DISTINCT
	sur.job_name              ,
	sur.id_numeric            ,
	sur.test_number           ,
	sur.name                  ,
	sur.status                ,
	sur.retry_count           ,
	sur.date_created          ,
	sur.job_status            ,
	sur.sample_status         ,
	sur.smidi_system          ,
	sur.qmidi_object          ,
	jh.smidi_lot              ,
	jh.SAP_UD_enabled         ,
	jh.SAP_UD_phrase          ,
	jh.SAP_UD_plant           ,
	jh.SAP_UD_code_group      ,
	jh.SAP_UD_code            ,
	jh.SAP_UD_text            ,
	jh.SAP_UD_uploaded        ,
	jh.SAP_batch              ,
	jh.SAP_MATNR
	FROM smidi_upload_queue sur, job_header jh
	WHERE sur.status = 1 AND sur.type = 'LOT_UD' AND sur.retry_count < 10 
		AND jh.SAP_UD_enabled = 'X'
		AND jh.smidi_lot      = sur.smidi_lot;

VIEW smidi_upload_DEFECT_VIEW on_table smidi_upload_queue;
	field job_name                links_to smidi_upload_queue.job_name                                      ; { key0 }
	field id_numeric              links_to smidi_upload_queue.id_numeric                                    ; { key0 }
	field test_number             links_to smidi_upload_queue.test_number                                   ; { key0 }
	field name                    links_to smidi_upload_queue.name                                          ; { key0 }
	field status                  links_to smidi_upload_queue.status                                        ;
	field retry_count             links_to smidi_upload_queue.retry_count                                   ;
	field date_created            links_to smidi_upload_queue.date_created                                  ;
	field job_status              links_to smidi_upload_queue.job_status                                    ;
	field sample_status           links_to smidi_upload_queue.sample_status                                 ;
	field smidi_system            links_to smidi_upload_queue.smidi_system                                  ;
	field qmidi_object            links_to smidi_upload_queue.qmidi_object                                  ;
	field smidi_lot               links_to smidi_upload_queue.smidi_lot                                     ;
SELECT_CLAUSE SELECT DISTINCT
	sur.job_name              ,
	sur.id_numeric            ,
	sur.test_number           ,
	sur.name                  ,
	sur.status                ,
	sur.retry_count           ,
	sur.date_created          ,
	sur.job_status            ,
	sur.sample_status         ,
	sur.smidi_system          ,
	sur.qmidi_object          ,
	sur.smidi_lot
	FROM smidi_upload_queue sur
	WHERE sur.status = 1 AND sur.type = 'DEFECT' AND sur.retry_count < 10;


{**********************************************************************}
{ end SMIDI VIEWS                                                      }
{**********************************************************************}

{2004 SampleMananger IDI UPGRADE END}

{SMIDI UPGRADE END}


{/66.0 ************************************ END SMIDI ************************************}	      

{******************************************************************************
* CUSTOM TABLES & VIEWS
******************************************************************************}

                                         { =============================== }
                                         { DMcN, Modification, 03/04/98    }
                                         { =============================== }
                                         { View added samp_job_test to     }
                                         { allow LS to report on test      }
                                         { status across samples.          }
                                         { =============================== }

view samp_job_test_view on_table sample,
                             versioned_analysis,
                             job_header,
                       test;

        field id_numeric
              used_for unique_key
              links_to sample.id_numeric;
        field test_number                                               {93.0}
              used_for unique_key
              links_to test.test_number;
        field job_name                                                  {93.0}
              used_for unique_key
              links_to sample.job_name;
        field job_description
              links_to job_header.browse_description;
        field recd_date
              links_to sample.recd_date;
        field login_date
              links_to sample.login_date;
        field date_started
              links_to sample.date_started;
        field date_completed
              links_to sample.date_completed;
        field date_authorised
              links_to sample.date_authorised;
        field authorisation_notes
            links_to sample.authorisation_notes;
        field product
              links_to sample.product;
        field batch_name
              links_to sample.batch_name;
        field analysis
              links_to test.analysis
              used_for display_browse (1);
        field test_status
              links_to test.status
              used_for display_browse (2);

                                     {added DMcN 24/05/98               }
        field group_id alias group
              links_to versioned_analysis.group_id
              used_for security_id;
                                     {end of modification               }

                                     {added DMcN 12/07/98 LIMS-98-28    }
        field status
              links_to sample.status;
                                     {end of modification               }

                                     {New view added for lab performance}
                                     {reports, DMCN 23/11/98            }

view sam_job_test_res on_table sample ,                          
                           job_header ,                          
                           test       ,                          
                           result     ;
                                                                     
        field id_numeric                                             
              used_for unique_key                                    
              links_to sample.id_numeric; 
        field test_number                                               {93.0}
              used_for unique_key                                    
              links_to test.test_number;
        field job_name                                               
              used_for unique_key                                       {93.0}                                  
              links_to sample.job_name;        
        field login_date                                 
              links_to sample.login_date;                
        field analysis                             
              links_to test.analysis;              
        field component_name                                            {93.0}
              used_for unique_key                                    
              links_to result.name;      
        field test_status                          
              links_to test.status;                
        field product                      
              links_to sample.product;     
        field date_result_authorised            
              links_to result.date_authorised;
        field date_result_entered         
              links_to result.entered_on; 
        field result_text           
              links_to result.text; 
        field result_value          
              links_to result.value;
        field batch_name                 
              links_to sample.batch_name;
        field units                  
              links_to result.units; 
        field description                 
              links_to sample.description;
        field group_id alias group                                       
              links_to versioned_analysis.group_id                       
              used_for security_id;                     
        field status                                                         
              links_to sample.status;             
        field result_status                    
              links_to result.status;          
        field result_authoriser              
              links_to result.authoriser;                   
        field sample_name                  
              links_to sample.sample_name;        
        field job_description                         
              links_to job_header.browse_description; 
        field date_started                      
              links_to sample.date_started;     
        field sampled_date                      
              links_to sample.sampled_date;     
        field recd_date                         
              links_to sample.recd_date;        
        field result_entered_by            
              links_to result.entered_by;  
        field id_text                  
              links_to sample.id_text; 
        field login_by                    
              links_to sample.login_by;   
        field date_completed                 
              links_to sample.date_completed;
        field sampling_point                  
              links_to sample.sampling_point; 
        field res_order                        
               links_to result . order_number ; 
        field job_status                     
              links_to job_header.job_status;
        field authoriser                            
              links_to sample.authoriser;           
        field authorisation_notes                   
              links_to sample.authorisation_notes;  
        field sample_date_authorised           
              links_to sample.date_authorised; 
        field result_type                    
              links_to result.result_type;  
        field dateresreq                                                        
              links_to sample.dateresreq;                                       
        field visual_date                                                       
              links_to sample.visual_date;                                      

                                     {added DMcN 19/04/99 LIMS-99-16    }    
        field supplier_lot_no                              
              links_to sample.supplier_lot_no;                                  
        field manufacturer                                                      
              links_to sample.manufacturer;                                     
                                     {end of modification               }       
                                     

{================================}     
{                                }     
{ MK 13-SEPT-2000  STABILITY     }     
{                                }     
{ Product Information.           }     
{ Reference CC 2000-172          }     
{================================}     
                                                                                
table stab_product_info;                                                        
                                                                                
      field study_id                                                              
      used_for unique_key                                                         
      datatype identity (20);                                                     

      field layer_id            
      used_for unique_key       
      datatype identity (20);   

      field condition           
      used_for unique_key       
      datatype identity (20);   

      field lot_no  
      used_for unique_key   {104.0}
      datatype text (20);   {87.0}

      field product             
      datatype text (234);      

      field S_I_no              
      datatype text;            

      field position                  
      datatype text;                 

      field study_type                
      datatype text;                  

      field study_start               
      datatype date;                  

      field expiry_date               
      datatype text;                 

      field date_of_manufacture       
      datatype date;                  

      field manufacturing_site        
      datatype text;           

      field packaging_date                {Datatype changed to text cf 2000-199}
      datatype text;                      {DMcN 30/10/00                       }

      field packaging_site        
      datatype text;              

      field raw_material_lot      
      datatype text;              

      field raw_material_source 
      datatype text;            

      field drug_substance      
      datatype text;            

      field strength            
      datatype text;            

      field batch_size          
      datatype text;            

      field container_type     
      datatype text;           

      field container_supplier 
      datatype text;           

      field container_resin    
      datatype text;           

      field closure_supplier   
      datatype text;           

      field closure_resin      
      datatype text;           

      field filler_supplier_i  
      datatype text;           

      field filler_supplier_ii                            
      datatype text;                                      

      field lot_description                               
      datatype text (234);

      {End of modifications         }
      {MK 130900                    }

      {================================}
      {                                }
      {Start of modifications          }
      { MK 16-OCT-2000                 }
      {                                }
      { Product Information.           }
      { Reference CC 2000-183          }
      {================================}

      field pouch_size
      datatype text;

      field pouch_composition
      datatype text;        

      field pouch_description
      datatype text;         

      {End of modifications         }            
      {MK 161000                    }            
      {Reference CC 2000-183        }            

      {================================}                     
      {                                }                     
      {Start of modifications          }                     
      { MK 25-APR-2001                 }                      
      {                                }                     
      { Product Information.           }                     
      { Reference CC 2001-043          }                     
      {================================}                     

      field COA_id                  
      datatype text;              

      field T0_id
      datatype text;              

      field initial_weight      
      datatype text;             

      {End of modifications         }                        
      {MK 250401                    }                        
      {Reference CC 2001-043        }                        


      {================================}
      {                                }
      {Start of modifications          }
      { DMcN 17-12-2000                }
      {                                }
      { Product Information.           }
      { Reference CC 2000-204          }
      {================================}

      field reviewed_by                                                               
      links_to personnel . identity;

      {End of modifications         }  
      {DMcN 171200                  }
      {Reference CC 2000-204        }             

      {================================} 
      {                                } 
      {Start of modifications          } 
      {MK 04-02-2001                   } 
      { Product Information.           } 
      { Reference CC 2001-010          } 
      {================================} 

      field removeflag datatype boolean
      used_for remove_flag;

      {End of modifications         }
      {MK 040201                    }
      {Reference CC 2001-010        }

      {================================}  
      {                                }  
      {Start of modifications          }  
      { MK 27-FEB-2001                 }  
      {                                }  
      { Product Information.           }  
      { Reference CC 2001-017          }  
      {================================}  

      field modified_on datatype date used_for modified_on ; 
      field modified_by links_to personnel.identity          
      used_for modified_by;                            
      field modifiable datatype boolean                      
      used_for modifiable;                             

      {End of modifications         }  
      {MK 270201                    }  
      {Reference CC 2001-017        }  



      field ABCDEFG                                                               
      datatype text (10);

{86.0 MF 09-03-12 Ref CC-ATH-2012-0590}
	field packaging
	datatype text(500);

	field bulk_number
	datatype text;

	field stab_protocol_no
	datatype text;

	field report_comment
	datatype text(500);


{/86.0 MF 09-03-12}

{ Table SAMPLE_TYPE_LABELS added for Raw Materials Customisations, P96378 }
{ CNM, TTL 18/4/96                                                        }

table sample_type_labels ;

      field samp_type
            datatype identity
            used_for unique_key
            prompt_type phrase
            identities valid
            phrase_type SAMP_TYPE ;

      field no_labels_1
            datatype integer
            default 1
            lower_limit 1
            upper_limit 9 ;

      field no_labels_2
            datatype integer
            default 1
            lower_limit 1
            upper_limit 9 ;

      field no_labels_3
            datatype integer
            default 1
            lower_limit 1
            upper_limit 9 ;

      field no_labels_4
            datatype integer
            default 1
            lower_limit 1
            upper_limit 9 ;

      field no_labels_5
            datatype integer
            default 1
            lower_limit 1
            upper_limit 9 ;

      field no_labels_6
            datatype integer
            default 1
            lower_limit 1
            upper_limit 9 ;

      field group_id alias group
            used_for security_id
            links_to group_header . identity ;

      field description
            datatype text ( 60 )
            used_for display_browse ( 1 ) ;

      field report_1
            links_to infomaker_link . identity ;

      field report_2
            links_to infomaker_link . identity ;

      field report_3
            links_to infomaker_link . identity ;

      field report_4
            links_to infomaker_link . identity ;

      field report_5
            links_to infomaker_link . identity ;

      field report_6
            links_to infomaker_link . identity ;

      field modifiable
            datatype boolean
            used_for modifiable;

      field modified_on
            datatype date
            used_for modified_on;

      field modified_by 
            links_to personnel . identity
            used_for modified_by ;

      field removeflag 
            datatype boolean
            used_for remove_flag ;

view test_res_view on_table test, result;

    field component_name
          links_to result . component_name
          used_for unique_key;

    field test_id
          links_to test . test_number
          used_for unique_key;

    field anal_id
          links_to test . analysis_id;

    field samp_id
          links_to test . sample;

    field inst_id
          links_to test . instrument_id;

    field result_value
          links_to result . value;

    field result_text
          links_to result . text;

    field entered_by
          links_to result . entered_by;

    field auth_by
          links_to result . authoriser;

    field pass_fail
          links_to result . out_of_range;

    field order_number
          links_to result . order_number;

    { =============================== }
    { Modification, DMcN 20/04/98 as  }
    { per trnsys mod JMW,30/03/98     }
    { =============================== }
    { Additional field added for MIR  }
    { Report                          }
    { =============================== }
    field test_auth_by
          links_to test . authoriser;


{ Table added by DMcN 05-06-2000, added for SAR & COA Infomaker reports }       
                                                                                
table test_info ;                                                               
                                                                                
     field test_info_no                                                         
           datatype identity                                                    
           used_for unique_key;                                                 
                                                                                
     field info_sample_id alias sample_id                                       
           links_to sample . id_numeric;                                        
                                                                                
     field info_test                                                            
           datatype text(234);                                                  
                                                                                
     field info_comment                                                         
           datatype text(10);                                                   
                                                                                
     field info_type                                                            
           datatype text (10);
                                                                                
     field info_specification                                                   
           datatype text (234);                                                 
                                                                                
     field info_result                                                          
           datatype text (234);                                                 
                                                                                
     field info_com1                                                            
           datatype text (10);                                                  
                                                                                
     field info_com2                                                            
           datatype text (234);                                                 
                                                                                
{ end of added table, DMcN, 05-06-2000 } 

{===============================}   
{#MOD MK 13-09-2000             }   
{===============================}   
{Tables added as part of Elan   }   
{ Stabilty Reports Prototype    }   
{                 (infomaker)   }
{Reference CC 2000-172          }   
{===============================}   
                                    
                                    
table stab_appear;                  
                                    
field sa_cert_no                    
      datatype packed_decimal       
      used_for unique_key ;         
                                    
field study_id                      
      datatype identity (20);    

field sa_time_factor         
      datatype identity (20);
                             
field sa_test_date           
      datatype text(11);     
                             
field sa_c_factor            
      datatype identity(20); 
                             
field sa_average             
      datatype text(244);    
                             
field sa_initial             
      datatype text(244);    
                             
field sa_appearance          
      datatype text(244); 

field sa_colour
      datatype text(244);   

field sa_login_date          
      datatype text(11); 
                          
field sa_product          
      datatype text(244); 
                          
field sa_prod_vers      
      datatype text(244); 
                          
field sa_id_num           
      datatype text(244); 

{Reference CC 2001-053} 
field sa_type           
      datatype text(10);                          
   
table stab_assay;                  
                                   
field sa_cert_no                   
      datatype packed_decimal      
      used_for unique_key ;        
                                   
field study_id                     
      datatype identity (20);      
                                   
field sa_time_factor               
      datatype identity (20);      
                                   
field sa_test_date                 
      datatype text(11);           
                                   
field sa_c_factor                  
      datatype identity(20);       
                                   
field sa_one                       
      datatype text(244);          
                                                   
field sa_two                                       
      datatype text(244);                          
                                                   
field sa_mean                                      
      datatype text(244);                          
                                                   
field sa_initial                                   
      datatype text(244);                          
                                                   
field sa_label                                     
      datatype text(244);                          
                                                   
field sa_login_date          
      datatype text(11); 
                          
field sa_product          
      datatype text(244); 
                          
field sa_prod_vers      
      datatype text(244); 
                          
field sa_id_num           
      datatype text(244); 

{Reference CC 2001-053}  
field sa_type            
      datatype text(10); 


table stab_related;                                
                                                   
field sa_cert_no                                   
      datatype packed_decimal                      
      used_for unique_key ;                        

field study_id                 
      datatype identity (20);  
                               
field sa_time_factor           
      datatype identity (20);  
                               
field sa_test_date             
      datatype text(11);       
                               
field sa_c_factor              
      datatype identity(20);   
                               
field sa_imp1                  
      datatype text(244);      
                               
field sa_imp2                  
      datatype text(244);      
                               
field sa_imp3                  
      datatype text(244);      

field sa_imp4              
      datatype text(244);  
                           
field sa_imp5              
      datatype text(244);  
                           
field sa_imp6              
      datatype text(244);  
                           
field sa_imp7              
      datatype text(244);  
                           
field sa_imp8              
      datatype text(244);  
                           
field sa_imp9              
      datatype text(244);  
                           
field sa_imp10             
      datatype text(244); 
 
field sa_imp11            
      datatype text(244); 
                          
field sa_imp12            
      datatype text(244); 
                          
field sa_imp13            
      datatype text(244); 
                          
field sa_imp14            
      datatype text(244); 
                          
field sa_imp15            
      datatype text(244); 
                          
field sa_imp16            
      datatype text(244); 
                          
field sa_imp17            
      datatype text(244); 

field sa_imp18                   
      datatype text(244);        
                                 
field sa_imp19                   
      datatype text(244);        
                                 
field sa_imp20                   
      datatype text(244);        
                                 
field alias_name                 
      datatype boolean;          
                                 
field sa_login_date          
      datatype text(11); 
                          
field sa_product          
      datatype text(244); 
                          
field sa_prod_vers      
      datatype text(244); 
                          
field sa_id_num           
      datatype text(244); 

{Reference CC 2001-053}  
field sa_type            
      datatype text(10); 

{======}                         
                                 
table stab_cover;                
                                 
field sa_cert_no                 
      datatype packed_decimal    
      used_for unique_key ;      
field study_id                                                
      datatype identity (20);                                 
                                                              
field sa_c_factor                                             
      datatype text(20);                                      
                                                              
field sa_time_factor                                          
      datatype text (20);                                     
                                                              
                                                              
{======}  
                               
table stab_hardness;           
                               
field sa_cert_no               
      datatype packed_decimal  
      used_for unique_key ;    
                               
field study_id                 
      datatype identity (20);  
                               
field sa_time_factor           
      datatype identity (20);  
                               
field sa_test_date             
      datatype text(11);       
                               
field sa_c_factor              
      datatype identity(20);
   
field sa_hard1              
      datatype text(244);   
                            
field sa_hard2              
      datatype text(244);   
                            
field sa_hard3              
      datatype text(244);   
                            
field sa_hard4              
      datatype text(244);   
                            
field sa_hard5              
      datatype text(244);   
                            
field sa_hard6              
      datatype text(244);   
                            
field sa_hard7              
      datatype text(244);   

field sa_hard8            
      datatype text(244); 
                          
field sa_hard9            
      datatype text(244); 
                          
field sa_hard10           
      datatype text(244); 
                          
field sa_range            
      datatype text(244); 
                          
field sa_mean             
      datatype text(244);

field sa_max
      datatype text(244);

field sa_min
      datatype text(244); 

field sa_login_date          
      datatype text(11); 
                          
field sa_product          
      datatype text(244); 
                          
field sa_prod_vers      
      datatype text(244); 
                          
field sa_id_num           
      datatype text(244); 

{Reference CC 2001-053}  
field sa_type            
      datatype text(10); 

table stab_friability;          
                                
field sa_cert_no                
      datatype packed_decimal   
      used_for unique_key ;     
                                
field study_id                  
      datatype identity (20);   
                                
field sa_time_factor            
      datatype identity (20);   
                                
field sa_test_date              
      datatype text(11);        
                                
field sa_c_factor               
      datatype identity(20);    
                                
field sa_friability             
      datatype text(244); 

field sa_login_date          
      datatype text(11); 
                          
field sa_product          
      datatype text(244); 
                          
field sa_prod_vers      
      datatype text(244); 
                          
field sa_id_num           
      datatype text(244); 

{Reference CC 2001-053}  
field sa_type            
      datatype text(10); 

table stab_disintegration;        
                                  
field sa_cert_no                  
      datatype packed_decimal     
      used_for unique_key ;       
                                  
field study_id                    
      datatype identity (20);     
                                  
field sa_time_factor              
      datatype identity (20);     
                                  
field sa_test_date                
      datatype text(11);          
                                  
field sa_c_factor                 
      datatype identity(20);      
                                  
field sa_disintegration           
      datatype text(244);         
                         
field sa_disintegration2
      datatype text(244);                 

field sa_login_date          
      datatype text(11); 
                          
field sa_product          
      datatype text(244); 
                          
field sa_prod_vers      
      datatype text(244); 
                          
field sa_id_num           
      datatype text(244); 

{Reference CC 2001-053}  
field sa_type            
      datatype text(10); 


table stab_LOD;               
                              
field sa_cert_no              
      datatype packed_decimal 
      used_for unique_key ;   
                              
field study_id                
      datatype identity (20); 
                              
field sa_time_factor          
      datatype identity (20); 
                              
field sa_test_date            
      datatype text(11);      
                              
field sa_c_factor             
      datatype identity(20);  
                              
field sa_LOD_1                
      datatype text(244);     

field sa_LOD_2                  
      datatype text(244);       
                                
field sa_mean_LOD               
      datatype text(244);       
                                
field sa_login_date          
      datatype text(11); 
                          
field sa_product          
      datatype text(244); 
                          
field sa_prod_vers      
      datatype text(244); 
                          
field sa_id_num           
      datatype text(244); 

{Reference CC 2001-053}  
field sa_type            
      datatype text(10); 

table stab_moisture;            
                                
field sa_cert_no                
      datatype packed_decimal   
      used_for unique_key ;     
                                
field study_id                  
      datatype identity (20);   
                                
field sa_time_factor            
      datatype identity (20);   
                                
field sa_test_date              
      datatype text(11);        

                                 
field sa_c_factor                
      datatype identity(20);     
                                 
field sa_moisture_1              
      datatype text(244);        
                                 
field sa_moisture_2              
      datatype text(244);        
                                 
field sa_mean_moisture           
      datatype text(244);        
                                 
field sa_login_date          
      datatype text(11); 
                          
field sa_product          
      datatype text(244); 
                          
field sa_prod_vers      
      datatype text(244); 
                          
field sa_id_num           
      datatype text(244); 

{Reference CC 2001-053}  
field sa_type            
      datatype text(10); 

table stab_dissolution;            
                                   
field sa_cert_no                   
      datatype packed_decimal      
      used_for unique_key ;        
                                   
field study_id                     
      datatype identity (20);      
                                   
field sa_time_factor               
      datatype identity (20);      
                                        {Changes made for Stability Reports} 
                                        {MK 21/11/00 CC2000-201            } 

field sa_test_date       
      datatype text(11); 

field sa_c_factor                  
      datatype identity(20);       
                                   
field sa_hour                      
      datatype text(244);          
                                   
field sa_res1                      
      datatype text(244);   
                            
field sa_res2               
      datatype text(244);   
                            
field sa_res3               
      datatype text(244);   
                            
field sa_res4               
      datatype text(244);   
                            
field sa_res5               
      datatype text(244);   
                            
field sa_res6               
      datatype text(244);   
                            
field sa_mean               
      datatype text(244);   

field sa_sd                     
      datatype text(244);       
                                
field sa_cv                     
      datatype text(244);       
                                
field sa_sample                 
      datatype text(10);        
      
                                    {Changes made for Stability Reports}
                              {MK 21/11/00 CC2000-201            }
field sa_res7             
      datatype text(244); 
                          
field sa_res8             
      datatype text(244); 
                          
field sa_res9             
      datatype text(244); 
                          
field sa_res10             
      datatype text(244); 
                          
field sa_res11            
      datatype text(244); 
                          
field sa_res12            
      datatype text(244); 

field sa_res13             
      datatype text(244); 
                          
field sa_res14             
      datatype text(244); 
                          
field sa_res15             
      datatype text(244); 
                          
field sa_res16             
      datatype text(244); 
                          
field sa_res17            
      datatype text(244); 
                          
field sa_res18             
      datatype text(244); 

field sa_res19             
      datatype text(244); 
                          
field sa_res20             
      datatype text(244); 
                          
field sa_res21             
      datatype text(244); 
                          
field sa_res22             
      datatype text(244); 
                          
field sa_res23            
      datatype text(244); 
                          
field sa_res24             
      datatype text(244); 

field sa_res25           
      datatype text(244);
                         
field sa_res26           
      datatype text(244);
                         
field sa_res27           
      datatype text(244);
                         
field sa_res28           
      datatype text(244);
                         
field sa_res29           
      datatype text(244);

field sa_res30           
      datatype text(244);
                         
field sa_res31           
      datatype text(244);
                         
field sa_res32           
      datatype text(244);
                         
field sa_res33           
      datatype text(244);
                         
field sa_res34           
      datatype text(244);

field sa_res35            
      datatype text(244); 
                          
field sa_res36            
      datatype text(244); 
              
                              {End of changes}            
field sa_login_date          
      datatype text(11); 
                          
field sa_product          
      datatype text(244); 
                          
field sa_prod_vers      
      datatype text(244); 
                          
field sa_id_num           
      datatype text(244); 

{MK 190301 CC2001-028}
                                     
field sa_res37                       
      datatype text(244);            
                                     
field sa_res38                       
      datatype text(244);            
                                     
field sa_res39                       
      datatype text(244);            
                                     
field sa_res40                       
      datatype text(244);            
                                     
field sa_res41                       
      datatype text(244);            
                                     
field sa_res42                       
      datatype text(244);            
                                     
field sa_res43                       
      datatype text(244);            

field sa_res44                    
      datatype text(244);         
                                  
field sa_res45                    
      datatype text(244);         
                                 
field sa_res46                    
      datatype text(244);         
                                  
field sa_res47                    
      datatype text(244);         
                                  
field sa_res48                    
      datatype text(244);         
                                  
field sa_res49                    
      datatype text(244);         
                                  
field sa_res50                    
      datatype text(244);         

{End of changes}

{Reference CC 2001-053}  
field sa_type            
      datatype text(10); 

{Reference CC 2001-084}
                         
field sa_res51            
      datatype text(244);
                         
field sa_res52            
      datatype text(244);
                         
field sa_res53            
      datatype text(244);
                         
field sa_res54           
      datatype text(244);
                         
field sa_res55           
      datatype text(244);
                         
field sa_res56           
      datatype text(244);
                         
field sa_res57           
      datatype text(244);
                         
field sa_res58            
      datatype text(244);
                         
field sa_res59            
      datatype text(244);
                         
field sa_res60            
      datatype text(244);
                         
field sa_res61           
      datatype text(244);
                         
field sa_res62           
      datatype text(244);
                         
field sa_res63           
      datatype text(244);
                         
field sa_res64           
      datatype text(244);
                         
field sa_res65            
      datatype text(244);
                         
field sa_res66            
      datatype text(244);
                         
field sa_res67           
      datatype text(244);
                         
field sa_res68           
      datatype text(244);
                         
field sa_res69           
      datatype text(244);
                         
field sa_res70           
      datatype text(244);
                         
field sa_res71           
      datatype text(244);
                         
field sa_res72            
      datatype text(244);
                         
field sa_res73            
      datatype text(244);
                         
field sa_res74            
      datatype text(244);
                         
field sa_res75           
      datatype text(244);
                         
field sa_res76           
      datatype text(244);
                         
field sa_res77           
      datatype text(244);
                         
field sa_res78           
      datatype text(244);

field sa_res79
      datatype text(244);

field sa_res80           
      datatype text(244);
                         
field sa_res81           
      datatype text(244);
                         
field sa_res82           
      datatype text(244);
                         
field sa_res83           
      datatype text(244);
                         
field sa_res84           
      datatype text(244);
                         
{End of changes }

{MC, June 2002, Changes made for Stability Reports}

field sa_res85           
      datatype text(244);

field sa_res86           
      datatype text(244);

field sa_res87           
      datatype text(244);

field sa_res88           
      datatype text(244);

field sa_res89           
      datatype text(244);

field sa_res90           
      datatype text(244);

field sa_res91           
      datatype text(244);

field sa_res92           
      datatype text(244);

field sa_res93           
      datatype text(244);

field sa_res94           
      datatype text(244);

field sa_res95           
      datatype text(244);

field sa_res96           
      datatype text(244);

field sa_res97           
      datatype text(244);

field sa_res98           
      datatype text(244);

field sa_res99           
      datatype text(244);

field sa_res100           
      datatype text(244);

field sa_res101           
      datatype text(244);

field sa_res102           
      datatype text(244);

field sa_res103           
      datatype text(244);

field sa_res104           
      datatype text(244);

field sa_res105           
      datatype text(244);

field sa_diss_hour1           
      datatype text(244);

field sa_diss_hour2           
      datatype text(244);

field sa_diss_hour3           
      datatype text(244);

field sa_diss_hour4           
      datatype text(244);

field sa_diss_hour5           
      datatype text(244);

field sa_diss_hour6           
      datatype text(244);

field sa_diss_hour7           
      datatype text(244);

field sa_diss_spec1                      
      datatype text(244);

field sa_diss_spec2                      
      datatype text(244);

field sa_diss_spec3                      
      datatype text(244);

field sa_diss_spec4                      
      datatype text(244);

field sa_diss_spec5                      
      datatype text(244);

field sa_diss_spec6                      
      datatype text(244);

field sa_diss_spec7                      
      datatype text(244);

field sa_res106           
      datatype text(244);

field sa_res107
      datatype text(244);

field sa_res108
      datatype text(244);

field sa_res109
      datatype text(244);

field sa_res110
      datatype text(244);

field sa_res111
      datatype text(244);

field sa_res112
      datatype text(244);


{MC, End of Changes}

table stab_summary;             
                                
field sa_cert_no                
      datatype packed_decimal   
      used_for unique_key ;     
                                
field study_id                  
      datatype identity (20);   
                                
field sa_time_factor            
      datatype identity (20);   

field sa_imp1               
      datatype text(244);   
                            
field sa_imp2               
      datatype text(244);   
                            
field sa_imp3               
      datatype text(244);   
                            
field sa_imp4               
      datatype text(244);   
                            
field sa_imp5               
      datatype text(244);   
                            
field sa_imp6               
      datatype text(244);   
                            
field sa_imp7               
      datatype text(244);   

field sa_imp8                  
      datatype text(244);      
                               
field sa_imp9                  
      datatype text(244);      
                               
field sa_imp10                 
      datatype text(244);      
                               
field sa_imp11                 
      datatype text(244);      
                               
field sa_imp12                 
      datatype text(244);      
                               
field sa_imp13                 
      datatype text(244);      
                               
field sa_imp14                 
      datatype text(244);      

field sa_imp15                
      datatype text(244);     
                              
field sa_imp16                
      datatype text(244);     
                              
field sa_imp17                
      datatype text(244);     
                              
field sa_imp18                
      datatype text(244);     
                              
field sa_imp19                
      datatype text(244);     
                              
field sa_imp20                
      datatype text(244);     
                              
field sa_pull_date            
      datatype text(30);      
                              
field sa_actual_date         
      datatype text(30);     
                             
field sa_analysis_method     
      datatype text(30);     
                             
field sa_type                
      datatype text(10);     
                             
field sa_login_date          
      datatype text(11); 
                          
field sa_product          
      datatype text(244); 
                          
field sa_prod_vers      
      datatype text(244); 
                          
field sa_id_num           
      datatype text(244); 

{Reference CC 2001-033}
{MK 27/03/01            }

field sa_imp21               
      datatype text(244);    
                             
field sa_imp22               
      datatype text(244);    
                             
field sa_imp23               
      datatype text(244);    
                             
field sa_imp24               
      datatype text(244);    
                             
field sa_imp25               
      datatype text(244);    
                             
field sa_imp26               
      datatype text(244);    
                             
{End of changes MK 27/03/01}


{Reference CC 2001-094}    
{MK 09/07/01          }    
                           
field sa_imp27             
      datatype text(244);  
                           
field sa_imp28             
      datatype text(244);  
                           
field sa_imp29             
      datatype text(244);  
                           
field sa_imp30             
      datatype text(244);  

{End of changes MK 09/07/01}

table stab_summary_def;      
                             
field identity               
      datatype identity(10)  
      used_for unique_key ;  
                             
field description            
      datatype text(234);    
                             
field default_value          
      datatype text(234);    

{Reference CC 2001-053}  
field sa_type            
      datatype text(10); 

table stab_weight;

field sa_cert_no                
      datatype packed_decimal   
      used_for unique_key ;     
                                
field study_id                  
      datatype identity (20);   
                                
field sa_time_factor            
      datatype identity (20);   
                                
field sa_test_date              
      datatype text(11);        
                                
field sa_c_factor               
      datatype identity(20);    
                                
field sa_average
      datatype text(244);

field sa_initial
      datatype text(244);

field sa_login_date          
      datatype text(11); 
                          
field sa_product          
      datatype text(244); 
                          
field sa_prod_vers      
      datatype text(244); 
                          
field sa_id_num           
      datatype text(244); 

{Reference CC 2001-053}  
field sa_type            
      datatype text(10); 


table stab_rstlc;

field sa_cert_no                
      datatype packed_decimal   
      used_for unique_key ;     
                                
field study_id                  
      datatype identity (20);   
                                
field sa_time_factor            
      datatype identity (20);   
                                
field sa_test_date              
      datatype text(11);        
                                
field sa_c_factor               
      datatype identity(20);    
                                
field sa_indiv
      datatype text(244);

field sa_total
      datatype text(244);

field sa_login_date          
      datatype text(11); 
                          
field sa_product          
      datatype text(244); 
                          
field sa_prod_vers      
      datatype text(244); 
                          
field sa_id_num           
      datatype text(244); 

{Reference CC 2001-053}  
field sa_type            
      datatype text(10); 

                                 {Table stab_colour added for Stability }
                                 {Reports ref. CC2001-055 DMcN 19/05/01 }


table stab_colour;

field sa_cert_no                
      datatype packed_decimal   
      used_for unique_key ;     
                                
field study_id                  
      datatype identity (20);   
                                
field sa_time_factor            
      datatype identity (20);   
                                
field sa_test_date              
      datatype text(11);        
                                
field sa_c_factor               
      datatype identity(20);    
                                
field sa_colour1
      datatype text(244);   

field sa_colour2
      datatype text(244);

field sa_colour3             
      datatype text(244);

field sa_colour4
      datatype text(244);   

field sa_colour5
      datatype text(244);

field sa_colour6             
      datatype text(244);
                          
field sa_login_date       
      datatype text(11);  
                          
field sa_product        
      datatype text(244); 
                          
field sa_prod_vers        
      datatype text(244); 

field sa_id_num         
      datatype text(244); 
                          
field sa_type           
      datatype text(10);  
                          
                                                {End of added table DMcN}

				                {added for APR Reporting}
						{DMcN 13-09-2000        }
view apr_details on_table sample  , 
                    test          ,
                    result        ,
                    mlp_components,
                    mlp_values;

      field id_numeric
            used_for unique_key
            links_to sample.id_numeric;
      field job_name
            links_to sample.job_name;
      field id_text
            links_to sample.id_text;
      field status
            links_to sample.status;
      field sample_old_status
            links_to sample.old_status;
      field login_date
            links_to sample.login_date;
      field login_by
            links_to sample.login_by;
      field sampled_date
            links_to sample.sampled_date;
      field recd_date
            links_to sample.recd_date;
      field date_completed
            links_to sample.date_completed;
      field completer
            links_to sample.completer;
      field sample_date_authorised
            links_to sample.date_authorised;
      field authoriser
            links_to sample.authoriser;
      field authorisation_notes
            links_to sample.authorisation_notes;
      field product
            links_to sample.product;
      field product_version
            links_to sample.product_version;
      field tests_to_do
            links_to sample.tests_to_do;
      field batch_name
            links_to sample.batch_name;
      field sampling_point
            links_to sample.sampling_point;
      field sample_type
            links_to sample.sample_type;
      field sample_name
            links_to sample.sample_name;
      field description
            links_to sample.description;
      field location_id
            links_to sample.location;
      field customer_id
            links_to sample.customer_id;
      field test_schedule
            links_to sample.test_schedule;
      field template_id
            links_to sample.template_id;
      field comp_prod_name
            links_to sample.comp_prod_name;
      field comp_prod_ver
            links_to sample.comp_prod_ver;
      field comp_prod_grade
            links_to sample.comp_prod_grade;
      field batch_id
            links_to sample.batch_id;
      field test_number                                                 {93.0}
            used_for unique_key
            links_to test.test_number;
      field analysis
            links_to test.analysis;
      field test_status
            links_to test.status;
      field component_name                                              {93.0}
            used_for unique_key
            links_to result.name;
      field result_type
            links_to result.result_type;
      field result_status
            links_to result.status;
      field result_text
            links_to result.text;
      field result_value
            links_to result.value;
      field units
            links_to result.units;
      field minimum
            links_to result.minimum;
      field maximum
            links_to result.maximum;
      field out_of_range
            links_to result.out_of_range;
      field date_result_entered
            links_to result.entered_on;
      field result_entered_by
            links_to result.entered_by;
      field date_result_authorised
            links_to result.date_authorised;
      field result_authoriser
            links_to result.authoriser;
      field component_type
            links_to mlp_components.component_type;
      field min_limit
            links_to mlp_values.min_limit;
      field max_limit
            links_to mlp_values.max_limit;
      field text_phrase
            links_to mlp_values.text_phrase;
      field text_spec
            links_to mlp_values.text_spec;

{Start of Modifications by M Kavanagh - Orbis Information Systems 19 May 2003}

    select_clause
        
        SELECT
                S . ID_NUMERIC,                                         /*93.0 Changed layout to make easier to maintain */         
                S . JOB_NAME,
                S . ID_TEXT,		   
                S . STATUS,                
                S . OLD_STATUS,
                S . LOGIN_DATE,            
                S . LOGIN_BY,
                S . SAMPLED_DATE,          
                S . RECD_DATE,
                S . DATE_COMPLETED,        
                S . COMPLETER,
                S . DATE_AUTHORISED,       
                S . AUTHORISER,
                S . AUTHORISATION_NOTES,   
                S . PRODUCT,
                S . PRODUCT_VERSION,       
                S . TESTS_TO_DO,
                S . BATCH_NAME,            
                S . SAMPLING_POINT,
                S . SAMPLE_TYPE,           
                S . SAMPLE_NAME, 
                S . DESCRIPTION,           
                S . LOCATION_ID,
                S . CUSTOMER_ID,           
                S . TEST_SCHEDULE,
                S . TEMPLATE_ID,           
                S . COMP_PROD_NAME,
                S . COMP_PROD_VER,         
                S . COMP_PROD_GRADE,
                S . BATCH_ID,              
                T . TEST_NUMBER,                                        /*93.0*/
                T . ANALYSIS,
                T . STATUS,                
                R . NAME,
                R . RESULT_TYPE,           
                R . STATUS,
                R . TEXT,                  
                R . VALUE,
                R . UNITS,                 
                R . MINIMUM,
                R . MAXIMUM,               
                R . OUT_OF_RANGE,
                R . ENTERED_ON,            
                R . ENTERED_BY,
                R . DATE_AUTHORISED,       
                R . AUTHORISER,
                MC . COMPONENT_TYPE,
                MHV . MIN_LIMIT,           
                MHV . MAX_LIMIT,
                MHV . TEXT_PHRASE,         
                MHV . TEXT_SPEC

        FROM    SAMPLE S,          TEST T, 
                RESULT R,       
                MLP_VALUES MHV,    
                MLP_COMPONENTS MC


   	WHERE  S.ID_NUMERIC = T.SAMPLE and  
               R.TEST_NUMBER = T.TEST_NUMBER and  
               S.PRODUCT = MC.PRODUCT_ID and  
               S.PRODUCT_VERSION = MC.PRODUCT_VERSION and  
               T.ANALYSIS = MC.ANALYSIS_ID and  
               MC.ENTRY_CODE = MHV.ENTRY_CODE;

{End of Modifications by M Kavanagh - Orbis Information Systems 19 May 2003}


view yukon_inst_used on_table sample, 
                              result, 
                              test, 
                              instrument;

      field id_numeric
            used_for unique_key
            links_to sample.id_numeric;
      field test_number                                                 {93.0}
            used_for unique_key
            links_to test.test_number
            ;
      field name                                                        {93.0}
            used_for unique_key
            links_to result.name
            ;
        field date_result_entered
            links_to result.entered_on;
      field result_entered_by
            links_to result.entered_by;
        field analysis
            links_to test.analysis;
        field instrument alias instrument_id                            {93.0}
            used_for unique_key
            links_to instrument.identity;

                         {Added 15-05-01 by DMcN for worksheet generation}  
                         {using Infomaker Report                         }  
table mod_wks;                                                                  
                                                                                
        field test_info_no                                                      
                datatype identity                                               
                used_for unique_key;                                            
                                                                                
        field test_number alias test_no                                         
                links_to test . test_number;                                    
                                                                                
        field operator_id                                                       
                datatype text(20);                                              
                                                                                
        field sample                                                            
                datatype identity;                                              
                                                                                
        field date_generated                                                    
                datatype date;                                                  
                                                                                


view sam_test_res on_table sample ,
                     test   ,
                     result ;

      field id_numeric
            used_for unique_key
            links_to sample.id_numeric;
        field test_number 
              used_for unique_key
            links_to test .test_number;
      field component_name
              used_for unique_key
            links_to result.name;
      field job_name
            links_to sample.job_name;
      field id_text
            links_to sample.id_text;
      field status
            links_to sample.status;
      field sample_old_status
            links_to sample.old_status;
      field compared
            links_to sample.compared;
      field on_spec
            links_to sample.on_spec;
      field re_sampled
            links_to sample.re_sampled;
      field original_sample
            links_to sample.original_sample;
      field link_number
            links_to sample.link_number;
      field login_date
            links_to sample.login_date;
      field login_by
            links_to sample.login_by;
      field sampled_date
            links_to sample.sampled_date;
      field recd_date
            links_to sample.recd_date;
      field date_started
            links_to sample.date_started;
      field starter
            links_to sample.starter;
      field dateresreq
            links_to sample.dateresreq;
      field date_completed
            links_to sample.date_completed;
      field completer
            links_to sample.completer;
      field dateresavail
            links_to sample.dateresavail;
      field sample_date_authorised
            links_to sample.date_authorised;
      field authoriser
            links_to sample.authoriser;
      field authorisation_notes
            links_to sample.authorisation_notes;
      field product
            links_to sample.product;
      field product_version
            links_to sample.product_version;
      field grade_code
            links_to sample.grade_code;
      field tests_to_do
            links_to sample.tests_to_do;
      field on_wks
            links_to sample.on_wks;
      field project_id
            links_to sample.project_id;
      field batch_name
            links_to sample.batch_name;
      field sampling_point
            links_to sample.sampling_point;
      field sample_type
            links_to sample.sample_type;
      field sample_name
            links_to sample.sample_name;
      field description
            links_to sample.description;
      field preparation
            links_to sample.preparation;
      field hazard
            links_to sample.hazard;
      field priority
            links_to sample.priority;
      field location_id
            links_to sample.location;
      field customer_id
            links_to sample.customer_id;
      field invoice_number
            links_to sample.invoice_number;
      field test_schedule
            links_to sample.test_schedule;
      field template_id
            links_to sample.template_id;
      field comp_prod_name
            links_to sample.comp_prod_name;
      field comp_prod_ver
            links_to sample.comp_prod_ver;
      field comp_prod_grade
            links_to sample.comp_prod_grade;
      field standard
            links_to sample.standard;
      field batch_id
            links_to sample.batch_id;
      field analysis
            links_to test.analysis;
      field test_status
            links_to test.status;
      field instrument
            links_to test.instrument;
        field replicate_test
              links_to test . replicate_test;
        field test_count
              links_to test . test_count ;
      field result_type
            links_to result.result_type;
      field result_status
            links_to result.status;
      field result_text
            links_to result.text;
      field result_value
            links_to result.value;
      field units
            links_to result.units;
      field minimum
            links_to result.minimum;
      field maximum
            links_to result.maximum;
      field out_of_range
            links_to result.out_of_range;
      field date_result_entered
            links_to result.entered_on;
      field result_entered_by
            links_to result.entered_by;
      field date_result_authorised
            links_to result.date_authorised;
      field result_authoriser
            links_to result.authoriser;


view c_sam_test_res
      parent_table samp_test_result
      tableset default_table_set;







                                 {Table added for TOC connection   } 
                                 {MK 22/10/2001 CC2001-152         } 
                                                                     
                                                                     
table toc_maintenance ;                                              
                                                                     
    field toc_sequence                                               
     datatype integer                                                
     used_for unique_key;                                            
                                                                     
    field old_toc_seq                                                
     datatype integer;                                               
                                                                     
    field started                                                    
     datatype boolean;                                               
                                                                     
    field event_id                                                   
     datatype text                                                   
     prompt_type phrase                                              
     phrase_type TOC_EVENT;                                                                                                              
    field analyser_id                                               
     links_to instrument . identity;                                
                                                                    
    field description                                               
     datatype text;                                                 
                                                                    
    field modified_on                                               
     datatype date                                                  
     used_for modified_on ;                                         
                                                                    
    field modified_by links_to personnel.identity                   
     used_for modified_by;                                          
                                                                    
{end of added table}   


table stab_rep_header ;

field stab_rep_study 
      datatype identity (20)
      used_for unique_key;
field stab_rep_type
      datatype identity
      prompt_type phrase
      identities
      phrase_type STAB_REP
      used_for unique_key;
field modified_on datatype date
      used_for modified_on;
field modified_by
      links_to personnel.identity
      used_for modified_by;
field status
      datatype text (1)
      prompt_type choose
      choose_type REP_STAT ;
field assay_unit
      datatype text (10);
field rel_sub_type
      datatype text (10);
field infomaker_template
      datatype text (50);


table stab_rep_entries ;

field stab_rep_study 
      datatype identity (20)
      used_for unique_key;
field stab_rep_type
      datatype text(10)
      used_for unique_key;
field entry_id
      datatype identity
      used_for unique_key;
field modified_on datatype date
      used_for modified_on;
field modified_by
      links_to personnel.identity
      used_for modified_by;
field analcomp1 
      datatype text (60);
field analcomp2 
      datatype text (60);
field analcomp3 
      datatype text (60);
field analcomp4 
      datatype text (60);
field analcomp5 
      datatype text (60);
field analcomp6 
      datatype text (60);
field analcomp7 
      datatype text (60);
field analcomp8 
      datatype text (60);
field analcomp9 
      datatype text (60);
field analcomp10 
      datatype text (60); 
field analcomp11 
      datatype text (60);
field col15row1 
      datatype text (60);
field col15row2 
      datatype text (60);
field col15row3 
      datatype text (60);
field col15row4 
      datatype text (60);
field col15row5 
      datatype text (60);
field col15row6 
      datatype text (60);
field col15row7 
      datatype text (60);


table stab_diss_header ;

field stab_rep_study 
      datatype identity (20)
      used_for unique_key;
field stab_rep_type
      datatype identity
      prompt_type phrase
      identities
      phrase_type STAB_REP
      used_for unique_key;
field stab_column
      datatype integer;
field stab_row
      datatype integer;
field modified_on datatype date
      used_for modified_on;
field modified_by
      links_to personnel.identity
      used_for modified_by;
field status
      datatype text (1)
      prompt_type choose
      choose_type REP_STAT ;
field assay_unit
      datatype text (10);


table stab_diss_entries ;

field stab_rep_study 
      datatype identity (20)
      used_for unique_key;
field stab_rep_type
      datatype text(10)
      used_for unique_key;
field entry_id
      datatype identity
      used_for unique_key;
field modified_on datatype date
      used_for modified_on;
field modified_by
      links_to personnel.identity
      used_for modified_by;
field col1row1 
      datatype text (60);
field col2row1 
      datatype text (60);
field col3row1 
      datatype text (60);
field col4row1 
      datatype text (60);
field col5row1 
      datatype text (60);
field col6row1 
      datatype text (60);
field col7row1 
      datatype text (60);
field col8row1 
      datatype text (60);
field col9row1 
      datatype text (60);
field col10row1 
      datatype text (60);
field col11row1 
      datatype text (60);
field col12row1 
      datatype text (60);
field col13row1 
      datatype text (60);
field col14row1 
      datatype text (60);
field col15row1 
      datatype text (60);
field col1row2 
      datatype text (60);
field col2row2 
      datatype text (60);
field col3row2 
      datatype text (60);
field col4row2 
      datatype text (60);
field col5row2 
      datatype text (60);
field col6row2 
      datatype text (60);
field col7row2 
      datatype text (60);
field col8row2 
      datatype text (60);
field col9row2 
      datatype text (60);
field col10row2 
      datatype text (60);
field col11row2 
      datatype text (60);
field col12row2 
      datatype text (60);
field col13row2 
      datatype text (60);
field col14row2 
      datatype text (60);
field col15row2 
      datatype text (60);
field col1row3 
      datatype text (60);
field col2row3 
      datatype text (60);
field col3row3 
      datatype text (60);
field col4row3 
      datatype text (60);
field col5row3 
      datatype text (60);
field col6row3 
      datatype text (60);
field col7row3 
      datatype text (60);
field col8row3 
      datatype text (60);
field col9row3 
      datatype text (60);
field col10row3 
      datatype text (60);
field col11row3 
      datatype text (60);
field col12row3 
      datatype text (60);
field col13row3 
      datatype text (60);
field col14row3 
      datatype text (60);
field col15row3 
      datatype text (60);
field col1row4 
      datatype text (60);
field col2row4 
      datatype text (60);
field col3row4 
      datatype text (60);
field col4row4 
      datatype text (60);
field col5row4 
      datatype text (60);
field col6row4 
      datatype text (60);
field col7row4 
      datatype text (60);
field col8row4 
      datatype text (60);
field col9row4 
      datatype text (60);
field col10row4 
      datatype text (60);
field col11row4 
      datatype text (60);
field col12row4 
      datatype text (60);
field col13row4 
      datatype text (60);
field col14row4 
      datatype text (60);
field col15row4 
      datatype text (60);
field col1row5 
      datatype text (60);
field col2row5 
      datatype text (60);
field col3row5 
      datatype text (60);
field col4row5 
      datatype text (60);
field col5row5 
      datatype text (60);
field col6row5 
      datatype text (60);
field col7row5 
      datatype text (60);
field col8row5 
      datatype text (60);
field col9row5 
      datatype text (60);
field col10row5 
      datatype text (60);
field col11row5 
      datatype text (60);
field col12row5 
      datatype text (60);
field col13row5 
      datatype text (60);
field col14row5 
      datatype text (60);
field col15row5 
      datatype text (60);
field col1row6 
      datatype text (60);
field col2row6 
      datatype text (60);
field col3row6 
      datatype text (60);
field col4row6 
      datatype text (60);
field col5row6 
      datatype text (60);
field col6row6 
      datatype text (60);
field col7row6 
      datatype text (60);
field col8row6 
      datatype text (60);
field col9row6 
      datatype text (60);
field col10row6 
      datatype text (60);
field col11row6 
      datatype text (60);
field col12row6 
      datatype text (60);
field col13row6 
      datatype text (60);
field col14row6 
      datatype text (60);
field col15row6 
      datatype text (60);
field col1row7 
      datatype text (60);
field col2row7 
      datatype text (60);
field col3row7 
      datatype text (60);
field col4row7 
      datatype text (60);
field col5row7 
      datatype text (60);
field col6row7 
      datatype text (60);
field col7row7 
      datatype text (60);
field col8row7 
      datatype text (60);
field col9row7 
      datatype text (60);
field col10row7 
      datatype text (60);
field col11row7 
      datatype text (60);
field col12row7 
      datatype text (60);
field col13row7 
      datatype text (60);
field col14row7 
      datatype text (60);
field col15row7 
      datatype text (60);


view usergroup on_table password, grouplink, role_assignment;

field identity                                                          {93.0}
      used_for unique_key
	links_to password.identity;

field group_id                                                          {93.0}
      used_for unique_key
	links_to grouplink.group_id;

field role_id                                                           {93.0}
      used_for unique_key
	links_to role_assignment.role_id;
{95.0}
select_clause                                                                             

	select [password].[identity],
		  grouplink.group_id,
		  role_assignment.role_id

	from [password]
	left join grouplink on grouplink.operator_id = [password].[identity]
	inner join role_assignment on role_assignment.operator_id = [password].[identity] ;


{new view call ha000410 020402}
view last_sample_view on_table pds_study_pull;
field header
		links_to pds_study . identity
		used_for unique_key ;
field created_sample_id                                                 {93.0}
            used_for unique_key
		links_to sample . id_numeric  ;
select_clause
 
select a . header ,
      max( a . created_sample_id )
from pds_study_pull a
group by header ;

view next_date_view on_table pds_study_pull;
field header
		links_to pds_study . identity
		used_for unique_key ;
field created_sample_id                                                 {93.0}
            used_for unique_key
		links_to sample . id_numeric  ;
field due_login_date
		links_to pds_study_pull . due_login_date ;
select_clause
 
select a . header ,
       a . created_sample_id, min ( a . due_login_date ) 
from pds_study_pull a
where a . created_sample_id = 0
group by a . header, a . created_sample_id ;

{93.0 Remove commented out view}




                                 {Table added for TOC connection   } 
                                 {MK 22/10/2001 CC2001-152         } 
                                                                     
                                                                     
table toc_maintenance_2 ;                                              
                                                                     
    field toc_sequence                                               
     datatype integer                                                
     used_for unique_key;                                            
                                                                     
    field old_toc_seq                                                
     datatype integer;                                               
                                                                     
    field started                                                    
     datatype boolean;                                               
                                                                     
    field event_id                                                   
     datatype text                                                   
     prompt_type phrase                                              
     phrase_type TOC_EVENT;                              
    field analyser_id                                               
     links_to instrument . identity;                                
                                                                    
    field description                                               
     datatype text;                                                 
                                                                    
    field modified_on                                               
     datatype date                                                  
     used_for modified_on ;                                         
                                                                    
    field modified_by links_to personnel.identity                   
     used_for modified_by;                                          
                                                                    
{end of added table}  





{=====START OF MILLENNIUM TABLES=========}
{                                        }
{     ORBIS INFORMATIION SYSTEMS         }
{     SM-Millennium Version 1.0          }
{                                        }
{========================================}


table mill_int_sset;  { SM-Millennium Interface SampleSet Table }

    field transaction_id
	datatype integer
	used_for unique_key;

    field vial_no
        datatype integer
	used_for unique_key;

    field sm_worksheet_id
        datatype text(20);

    field mill_project_id
        datatype text(40);

    field mill_sampleset_id
        datatype text(40);

    field sm_sample_id
        datatype text (30);

    field mill_samplename  { SampleName in Millennium }
        datatype text (30);

    field sm_sample_type
        datatype text(10);

    field no_of_injections
        datatype integer
        lower_limit 1
        upper_limit 999 ;

    field function
        datatype text(20)
        prompt_type phrase
        phrase_type MILL_FUNC;

    field method_set
        datatype text(20);

    field run_time
        datatype real
        default 1.00 ;

    field next_inj_delay
        datatype real
        default 1.00 ;

    field sample_weight
        datatype real
        default 1.00000;

    field dilution
        datatype real
       default 1.00000;

    field injection_vol
        datatype real       
        default 1.0;

    field mill_user
        links_to mill_security . mill_user;

    field mill_password
        datatype text;

    field type 
        datatype text;

    field status
        datatype integer; { 0 = Not Processed
                            1 = In Process No Results 
                            2 = In Process Results Received
                            3 = Results Entered   }


index mill_int_sset_transid_index on transaction_id ;

table mill_int_rset; { SM-Millennium Interface ResultSet Table }

    field transaction_id
        links_to mill_int_sset . transaction_id
        used_for unique_key;

    field sample_id_key
        links_to mill_int_sset . sm_sample_id
        used_for unique_key;

    field test_number_key
        datatype packed_decimal
        used_for unique_key;

    field name_key
        datatype text(40)
        used_for unique_key;

    field analysis
        datatype text(10);

    field mill_project_id
        datatype text(40);

    field mill_sampleset_id
        datatype text(40);

    field mill_component
        datatype text(40);

    field mill_res_type
        datatype text(40);

    field sm_res_type 
        datatype text;

    field mill_user_id
        links_to mill_security . mill_user;

    field mill_acquired_by
        datatype text(30);

    field mill_timestamp
        datatype date;

    field mill_instrument_no
        datatype text(40);

    field mill_result
        datatype text(40);

    field mill_result_present
        datatype integer;

    field no_of_injections
        links_to mill_int_sset . no_of_injections;

    field injection_order
        datatype integer;

    field sm_worksheet_id
        datatype text(20);

    field worklist_type
        datatype text(20);

    field order_number
        datatype integer;

    field vial_no
        datatype integer;

    field date_created
        datatype date;

    field status
        datatype integer; { 0 = No Result
                            1 = Results Received
                            2 = Results Entered }


index mill_int_rset_test_index on test_number_key ;
index mill_int_rset_name_index on name_key ;
index mill_int_rset_analysis_index on analysis ;
index mill_int_rset_injection_index on injection_order ;
index mill_int_rset_res_type_index on mill_res_type;
index mill_int_rset_vial_no_index on vial_no;

table mill_int_trans_c;

    field sm_sample_id
        datatype packed_decimal
        used_for unique_key;

    field no_of_fields
        datatype integer
        used_for unique_key;

    field sampleset
        datatype text(40)
        used_for unique_key;

    field sm_data
        datatype text(50);

    field mill_custom_field
        datatype text(50);

table mill_int_cust_in;

    field transaction_id
        links_to mill_int_sset . transaction_id
        used_for unique_key;

    field sample_id_key
        links_to mill_int_sset . sm_sample_id
        used_for unique_key;

    field test_number_key
        datatype packed_decimal
        used_for unique_key;

    field name_key
        datatype text(40)
        used_for unique_key;

    field sm_table
        datatype text(20)
        used_for unique_key;

    field sm_field
        datatype text(40)
        used_for unique_key;

    field sm_data
        datatype text(50);

    field status
        datatype integer;


{ Custom Fields Mapping from LIMS --> Mill }

table mill_custom_map_out ;

    field project
        datatype text(40)
        used_for unique_key;

    field group_id alias group
        links_to group_header.identity
        used_for security_id;

    field description datatype text ( 234 )
        used_for display_browse;

    field modifiable
	datatype boolean
	used_for modifiable ;

    field modified_on
        datatype date
        used_for modified_on ;

    field modified_by
        links_to personnel.identity
        used_for modified_by;

    field removeflag
        datatype boolean
        used_for remove_flag;

table mill_custom_data_out ;

    field project
        links_to mill_custom_map_out . project
        used_for unique_key;

    field order_num
        datatype  packed_decimal
        used_for  ordering;

    field table_name
        datatype identity ( 20 )
	used_for unique_key, display_browse (1);

    field field_name
	datatype identity ( 20 )
	used_for unique_key, display_browse (2);

    field mill_custom_field
        datatype text(40);

{ Custom Fields Mapping from Mill --> LIMS }

table mill_custom_map_in ;

    field project

        datatype text(40)
        used_for unique_key;

    field group_id alias group
        links_to group_header.identity
        used_for security_id;

    field description datatype text ( 234 )
        used_for display_browse;

    field modifiable
	datatype boolean
	used_for modifiable ;

    field modified_on
        datatype date
        used_for modified_on ;

    field modified_by
        links_to personnel.identity
        used_for modified_by;

    field removeflag
        datatype boolean
        used_for remove_flag;


table mill_custom_data_in ;

    field project
        links_to mill_custom_map_in . project
        used_for unique_key;

    field order_num
        datatype  packed_decimal
        used_for  ordering;

    field table_name
        datatype identity ( 20 )
	used_for unique_key, display_browse (1);

    field field_name
	datatype identity ( 20 )
	used_for unique_key, display_browse (2);

    field mill_custom_field
        datatype text(40);

table mill_component_map;

    field analysis
        links_to versioned_analysis . identity
        used_for unique_key ;

    field analysis_version
        datatype packed_decimal
        used_for unique_key;

    field component
        links_to versioned_component . name
        case_sensitive                                  {102.0}
        used_for unique_key;

    field mill_analyte
        datatype text(40)
        used_for unique_key;

    field mill_project
        datatype text(20)
        used_for unique_key;

    field mill_type
        datatype text(20)
        prompt_type phrase
        phrase_type MILL_PEAK 
        used_for unique_key;

    field injection
        datatype integer
        default '1'
        used_for unique_key;

    field anal_description
        links_to versioned_analysis .description;

    field enable
        datatype boolean
        true_word '*'
        false_word '-'
        default '*' ;

    field res_type
        datatype text
        prompt_type phrase
        phrase_type MILLRESTYP;

    field modified_on
        datatype date
        used_for modified_on;

    field modified_by
        datatype text
        used_for modified_by;

    field order_num
        datatype packed_decimal
        used_for ordering;

    field inject_comment
        datatype text(40);



table mill_security;

    field lims_user
        links_to personnel.identity
        used_for unique_key;

    field mill_user
        datatype text(30)
        allowed_characters '0..9a..zA..Z /*^+-.[]()%_#' 
        case_sensitive                                          {100.0}
        used_for unique_key;

    field group_id 
      links_to mill_grouplink . group_id
      used_for security_id;

    field uppercase_mill_user
        datatype text(30);
 
    field mill_group
        datatype text(20);

    field mill_password
        datatype text;

    field update_password
        datatype boolean
	true_word 'Yes'
	false_word 'No'
	default 'No';

    field description datatype text ( 234 )
        used_for display_browse;

    field modifiable
	datatype boolean
	used_for modifiable ;

    field modified_on
        datatype date
        used_for modified_on ;

    field modified_by
        links_to personnel.identity
        used_for modified_by;

    field removeflag
        datatype boolean
        used_for remove_flag;



table mill_grouplink;

field operator_id
      alias operator
      links_to mill_security.lims_user
      used_for unique_key;
field group_id
      datatype identity(50)
      used_for unique_key;
field description datatype text ( 78 )
      used_for display_browse;


table mill_error;

    field error_identity
       datatype integer
       used_for unique_key;

    field error_string
       datatype text;

    field date_created
       datatype date;

    field status
       datatype integer;


{===== END OF MILLENNIUM INTERFACE TABLES====} 





{=======Start of calibration Module tables==}

table inst_calibration
      ;
      
      field instrument
            links_to instrument.identity
            used_for unique_key
            ;
            
      field type
            links_to inst_calib_types.identity
            used_for unique_key
            ;

{EH MOD 30/08/03. Added in lower_limit as per CC 2003-102}
     
      field interval
            datatype interval
	    lower_limit '0 00:00:00.00'
            ;

{EH MOD 30/08/03 END}  

   
{EH MOD 02/09/03. Added in lower_limit as per CC 2003-102}

      field window
            datatype interval
            lower_limit '0 00:00:00.00'
            ;

{EH MOD 02/09/03 END}  
          
      field comments
            datatype text(255)
            ;
            
            
table inst_calib_hist
      ;
      
      field instrument
            links_to instrument.identity
            used_for unique_key
            ;
            
      field type
            links_to inst_calib_types.identity
            used_for unique_key
            ;

      field calibration_number
            datatype packed_decimal
            default '         1'
            used_for unique_key, version_number
            ;
            
      field date_calibrated
            datatype date
            ;

       field calculated_calib_due
            datatype date
            ;

         field actual_calib_due
            datatype date
            ;
            
      field location
            links_to location.identity
            ;
           
        field status
            datatype boolean
            true_word Pass
            false_word Fail
            default Pass
            ;

       field external_by
            datatype text(40)
            ;

      field comments
            datatype text(255)
            ;
            
      field group_id
            links_to group_header.identity
            used_for security_id
            ;
            
      field modifiable
            datatype boolean
            used_for modifiable
            ;
            
      field modified_on
            datatype date
            used_for modified_on
            ;
            
      field modified_by
            links_to personnel.identity
            used_for modified_by
            ;
            
      field remove_flag
            datatype boolean
            used_for remove_flag
            ;

{EH 08-Jun-2004 Added field}
      field service_report
            datatype text ( 15 ) ;

{EH end mod 08-Jun-2004}




table inst_calib_types
      ;
  
      field identity
        datatype identity
         used_for unique_key
            ;

        field description
            datatype text(255)
            ;

        field procedure_num                       
       links_to master_menu.procedure_num
            ;
 

        field cal_label
             datatype text ( 15 ) ;


        field dnu_label
             datatype text ( 15 ) ;


         field group_id
            links_to group_header.identity
            used_for security_id
            ;

         field modifiable
            datatype boolean
            used_for modifiable
            ;


          field modified_on
            datatype date
            used_for modified_on
            ;

           field modified_by
            links_to personnel.identity
            used_for modified_by
            ;

          field remove_flag
            datatype boolean
            used_for remove_flag
            ;
        
            
{=======End of calibration Module tables==}


        {---------------------------------------} 
        { Modification                          } 
        {---------------------------------------} 
        { Added for Reduced Lot Testing         } 
        { M Kavanagh,19/05/03                   } 
        { --------------------------------------} 


{--- New Tables for Elan reduced Lot Testing Module ---}

table rlt_vendor_product;

    field vendor
        links_to customer.identity
       	used_for unique_key;

    field material_no
	datatype identity
       	used_for unique_key;

    field lot_count
	datatype integer;

    field full_test_date
	datatype date
	default '0' ;

    field group_id
        used_for security_id
        links_to group_header . identity ;

    field description datatype text ( 234 )
        used_for display_browse;

    field modified_on
        datatype date used_for modified_on ;

    field modified_by
        links_to personnel.identity
        used_for modified_by;

    field modifiable datatype boolean
        used_for modifiable;

    field removeflag datatype boolean
        used_for remove_flag;


table rlt_manufacturers_lot;

    field vendor
        links_to customer.identity
       	used_for unique_key;

    field material_no
	datatype identity
       	used_for unique_key;

    field lot_no
        datatype text(15)
	used_for unique_key;

    field expiry_date
	datatype date;

    field retest_date
	datatype date;

    field full_test_date
	datatype date
	default '0' ;

    field group_id
        used_for security_id
        links_to group_header . identity ;

    field modified_on
        datatype date used_for modified_on ;

    field modified_by
        links_to personnel.identity
        used_for modified_by;

    field modifiable datatype boolean
        used_for modifiable;

    field removeflag datatype boolean
        used_for remove_flag;

    field expiry_dates
	datatype date;

{--- End of New Tables for Elan reduced Lot Testing Module ---}




{ AF 03/08/05 Added PLC TOC integration tables }

table toc_maintenance_3 ;
                                                                     
    field toc_sequence                                               
     datatype integer                                                
     used_for unique_key;                                            
                                                                     
    field old_toc_seq                                                
     datatype integer;                                               
                                                                     
    field started                                                    
     datatype boolean;                                               
                                                                     
    field event_id                                                   
     datatype text                                                   
     prompt_type phrase                                              
     phrase_type TOC_EVENT;     
                                                                                                         
    field analyser_id                                               
     links_to instrument . identity;                                
                                                                    
    field description                                               
     datatype text;                                                 
                                                                    
    field modified_on                                               
     datatype date                                                  
     used_for modified_on ;                                         
                                                                    
    field modified_by links_to personnel.identity                   
     used_for modified_by;                                          
          


table toc_data;

    field identity       
       links_to instrument.identity   
         used_for unique_key;

    field file_group
        datatype identity
        prompt_type phrase
        identities
        phrase_type TOC_GROUP;

    field toc_dir_logical 
       datatype text (20);

    field toc_file_name 
       datatype text (80);

    field proc_dir_logical 
       datatype text (20);

    field processing_dir 
       datatype text (80);

    field arc_dir_logical 
       datatype text (20);

    field arcive_file_ext   
      datatype text (10);

    field arcive_file_path 
       datatype text (256);

    field samp_template  
       links_to samp_tmpl_header.identity;

    field analysis   
        links_to versioned_analysis.identity;

    field analysis_no_spec   
        links_to versioned_analysis.identity;

    field summary_analysis 
        links_to versioned_analysis.identity;

     field text_phrase
         links_to phrase_header.identity;

    field plc_toc_sensor_id 
        datatype text (30);

    field plc_cond_sensor_id 
        datatype text (30);

    field plc_temp_sensor_id 
       datatype text (30);

    field plc_max_time_lag  
       datatype interval;

    field locked_file_wait  
       datatype interval;

    field file_copy_attempt  
       datatype integer;

    field is_active  
        datatype boolean;

    field modified_on
	 datatype date 
	    used_for modified_on;

    field modified_by
	 links_to personnel.identity
	 used_for modified_by;




table toc_sample;

    field toc       
       links_to instrument.identity   
       used_for unique_key;


    field sample       
       datatype packed_decimal;


    field samp_date
        datatype date
        default '0' ;


{ end PLC TOC }

{ AF 17/11/05  Added table for Winwedge TOC integration     }

table toc_daily_sample;

    field toc       
       links_to instrument.identity   
       used_for unique_key;

    field samp_date
       datatype text (8)
       used_for unique_key;

    field sample       
       datatype packed_decimal;

{ end Winwedge TOC  }

{76.0}
view pds_study_pull_view on_table pds_study_pull, pds_study;

	field header
		links_to pds_study_pull . header
		used_for unique_key, primary_browse  ;
	
	field layer_factor
		links_to pds_study_pull.layer_factor
		 used_for unique_key, display_browse (1);
	
	field time_factor
		links_to pds_study_pull.time_factor
		used_for unique_key, display_browse (2) ;
	
	field c_factor
		links_to pds_study_pull.c_factor
		 used_for unique_key, display_browse (3);
	
	field pull_num
		links_to pds_study_pull.pull_num
		 used_for unique_key, display_browse ( 4 ) ;
	
	field sample_description
		links_to pds_study_pull.description ;
	
	field time_window
		links_to pds_study_pull.time_window;
	
	field location
		links_to pds_study_pull.location ;
	
	field pull_name
		links_to pds_study_pull.pull_name;
		
	
	field pull_amount
		links_to pds_study_pull.pull_amount;
	
	field pull_unit
		links_to pds_study_pull.pull_unit;
	
	field cell_disp alias status
		links_to pds_study_pull.cell_disp  ;
	
	field created_sample_id
		links_to pds_study_pull.created_sample_id;
	
	field label_number
		links_to pds_study_pull.label_number ;
	
	field sample_template
		links_to pds_study_pull.sample_template;
		
	field test_schedule
		links_to pds_study_pull.test_schedule;
		
	field sample_id_text
		links_to pds_study_pull.sample_id_text ;
		
	field due_login_date
		links_to pds_study_pull.due_login_date ;
		
	field wdt_entry_number
		links_to pds_study_pull.wdt_entry_number;

	field active
		links_to pds_study_pull.active ;

	field study_description
		links_to pds_study.description;

	field study_comment
		links_to pds_study.comments;

select_clause

      SELECT
		pds_study_pull . header       	,
		pds_study_pull.layer_factor	,
		pds_study_pull.time_factor	,
		pds_study_pull.c_factor 	,
		pds_study_pull.pull_num		,
		pds_study_pull.[DESCRIPTION] 	,
		pds_study_pull.time_window	,
		pds_study_pull.location 	,
		pds_study_pull.pull_name	,
		pds_study_pull.pull_amount	,
		pds_study_pull.pull_unit	,
		pds_study_pull.cell_disp  	,
		pds_study_pull.created_sample_id	,
		pds_study_pull.label_number 	,
		pds_study_pull.sample_template	,
		pds_study_pull.test_schedule	,
		pds_study_pull.sample_id_text 	,
		pds_study_pull.due_login_date 	,
		pds_study_pull.wdt_entry_number	,
		pds_study_pull.active 		,
		pds_study.[description]		,
		pds_study.comments	

      FROM
		pds_study_pull, pds_study

       WHERE
		
		pds_study_pull.header = pds_study . [identity];

	
{76.0}

{ MF 27-Apr-2010}
view dissolution_view on_table job_header;

	field product
		datatype text;
	
	field job_name
		datatype text;
	
	field description
		datatype text;

	field id_numeric
		datatype text
		used_for unique_key, primary_browse  ;
	
	field mean_potency
		datatype text;

	field mean_potency_s1
		datatype text;

	field mean_potency_s2
		datatype text;

	field mean_0_25_hr
		datatype text;

	field mean_0_5_hr
		datatype text;

	field mean_01_hr
		datatype text;

	field mean_02_hr
		datatype text;

	field mean_03_hr
		datatype text;

	field mean_04_hr
		datatype text;

	field mean_06_hr
		datatype text;

	field mean_08_hr
		datatype text;

	field mean_11_hr
		datatype text;

	field mean_12_hr
		datatype text;

	field mean_13_hr
		datatype text;

	field mean_16_hr
		datatype text;

	field mean_24_hr
		datatype text;

{96.0}
select_clause

 SELECT TOP 100 PERCENT
    product,
    job_name,
    [description],
    id_numeric,
    MAX (CASE result_name WHEN 'Mean Potency (mg/g)' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_potency,
    MAX (CASE result_name WHEN 'Potency (mg/g) - S1' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_potency_s1,
    MAX (CASE result_name WHEN 'Potency (mg/g) - S2' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_potency_s2, 
    MAX (CASE result_name WHEN 'Mean % Released at 0.25 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_0_25_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 0.5 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_0_5_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 1 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_01_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 2 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_02_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 3 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_03_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 4 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) 
                          WHEN 'Mean % Released at 4th Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END)ELSE NULL END) mean_04_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 6 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) 
                          WHEN 'Mean % Released at 6th Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END)ELSE NULL END) mean_06_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 8 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) 
                          WHEN 'Mean % Released at 8th Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END)ELSE NULL END) mean_08_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 11 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_11_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 12 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) 
                          WHEN 'Mean % Released at 12th Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END)ELSE NULL END) mean_12_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 13 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_13_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 16 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_16_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 24 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_24_hr
     
FROM
(SELECT [sample].product product,
        job_header.job_name job_name,
        [sample].supplier_lot_no [description],
        [sample].id_numeric id_numeric,
        test.analysis analysis,
        result.name result_name,
        result.[text] result_text,
        result.units,
        result.out_of_range out_of_range
 FROM   [sample],
        job_header,
        test,
        result,
        versioned_analysis
 WHERE (versioned_analysis.analysis_type IN ('DISS','ASSAY'))  AND 
       ((result.name LIKE 'Mean%') OR
        (result.name  = 'Mean Potency (mg/g)') OR
        (result.name = 'Potency (mg/g) - S1') OR
        (result.name = 'Potency (mg/g) - S2'))  AND 
        test.[status] = 'A' AND
        job_header.job_name = [sample].job_name AND
        [sample].id_numeric = test.[sample] AND
        test.test_number = result.test_number AND
        versioned_analysis.[identity] = test.analysis AND
        versioned_analysis.analysis_version = test.analysis_version AND
        [sample].product  IN ('4000041','4000059','4000080','4000741','4000742', 
                               '4000743', '5000580', '4000001','4000003','4000005',
                               '4000008','4000009','4000010','4000012','5000000',
                               '5000001','5000522', '5000042', '5000111' )
    GROUP BY job_header.job_name,
      [sample].product,
      result.name,
      result.[text],
      [sample].supplier_lot_no,
      id_numeric,
      test.analysis,
      result.units,
      result.out_of_range,
      test.test_number                      
      
   ) nested_query
    
   GROUP BY product, job_name, [description], id_numeric 
   ORDER BY id_numeric DESC;

{/96.0}

 {81.0 C Start}
  view dissolution_spec_view on_table job_header;

	field product
		datatype text;
	
	field level_id
		datatype text;

	field mean_potency
		datatype text;

	field potency_s1
		datatype text;

	field potency_s2
		datatype text;

	field mean_0_25_hr
		datatype text;

	field mean_0_5_hr
		datatype text;

	field mean_01_hr
		datatype text;

	field mean_02_hr
		datatype text;

	field mean_03_hr
		datatype text;

	field mean_04_hr
		datatype text;

	field mean_06_hr
		datatype text;

	field mean_08_hr
		datatype text;

	field mean_11_hr
		datatype text;

	field mean_12_hr
		datatype text;

	field mean_13_hr
		datatype text;

	field mean_16_hr
		datatype text;

	field mean_24_hr
		datatype text;

{97.0}
 select_clause

   SELECT TOP 100 PERCENT
    product,
    level_id,
    MAX( CASE result_name WHEN 'Mean Potency (mg/g)' THEN limits ELSE NULL END ) mean_potency,
    MAX( CASE result_name WHEN 'Potency (mg/g) - S1' THEN limits ELSE NULL END ) potency_s1,
    MAX( CASE result_name WHEN 'Potency (mg/g) - S2' THEN limits ELSE NULL END ) potency_s2,
    MAX( CASE result_name WHEN 'Mean % Released at 0.25 Hour' THEN limits ELSE NULL END ) mean_0_25_hr,
    MAX( CASE result_name WHEN 'Mean % Released at 0.5 Hour' THEN limits ELSE NULL END ) mean_0_5_hr,
    MAX( CASE result_name WHEN 'Mean % Released at 1 Hour' THEN limits ELSE NULL END ) mean_01_hr,
    MAX( CASE result_name WHEN 'Mean % Released at 2 Hour' THEN limits ELSE NULL END ) mean_02_hr,
    MAX( CASE result_name WHEN 'Mean % Released at 3 Hour' THEN limits ELSE NULL END ) mean_03_hr,
    MAX( CASE result_name WHEN 'Mean % Released at 4 Hour' THEN limits 
                          WHEN 'Mean % Released at 4th Hour' THEN limits ELSE NULL END ) mean_04_hr,
    MAX( CASE result_name WHEN 'Mean % Released at 6 Hour' THEN limits 
                          WHEN 'Mean % Released at 6th Hour' THEN limits ELSE NULL END ) mean_06_hr,
    MAX( CASE result_name WHEN 'Mean % Released at 8 Hour' THEN limits 
                          WHEN 'Mean % Released at 8th Hour' THEN limits ELSE NULL END ) mean_08_hr,
    MAX( CASE result_name WHEN 'Mean % Released at 11 Hour' THEN limits ELSE NULL END ) mean_11_hr,
    MAX( CASE result_name WHEN 'Mean % Released at 12 Hour' THEN limits 
                          WHEN 'Mean % Released at 12th Hour' THEN limits ELSE NULL END ) mean_12_hr,
    MAX( CASE result_name WHEN 'Mean % Released at 13 Hour' THEN limits ELSE NULL END ) mean_13_hr,
    MAX( CASE result_name WHEN 'Mean % Released at 16 Hour' THEN limits ELSE NULL END ) mean_16_hr,
    MAX( CASE result_name WHEN 'Mean % Released at 24 Hour' THEN limits ELSE NULL END ) mean_24_hr
    
  FROM
    (
    SELECT DISTINCT mlp_view.product_id product, mlp_view.component_name result_name,mlp_view.level_id,
           CASE WHEN mlp_view.max_limit = '          '  THEN mlp_view.min_limit 
                WHEN mlp_view.max_limit IS NOT NULL THEN mlp_view.min_limit + ' - ' + mlp_view.max_limit END limits
    FROM mlp_view 
    WHERE 
        ( mlp_view.component_name LIKE 'Mean % Released%' OR mlp_view.component_name in ('Mean Potency (mg/g)', 'Potency (mg/g) - S1','Potency (mg/g) - S2' ) AND
           mlp_view.product_id  IN ('4000041','4000059','4000080','4000741','4000742', 
                               '4000743', '5000580', '4000001','4000003','4000005',
                               '4000008','4000009','4000010','4000012','5000000',
                               '5000001','5000522', '5000042', '5000111' )
         ) 
    ) nested_query
    
   GROUP BY product, level_id 
   ORDER BY product DESC;
{/97.0}

 view dissolution_top_ip on_table job_header;


	field id_numeric
		datatype text
		used_for unique_key, primary_browse  ;

	field job_name
		datatype text;

	field product
		datatype text;
	
        field job_status
		datatype text;

	field batch_name
		datatype text;

{98.0}
 select_clause

    SELECT id_numeric, 
           job_name, 
           product, 
           job_status,  
           batch_name
    FROM (SELECT sample.id_numeric, 
                 sample.job_name, 
                 sample.product, 
                 job_header.job_status job_status, 
                 job_header.batch_name, 
                 row_number() 
                 OVER (PARTITION BY sample.job_name ORDER BY sample.id_numeric DESC) rn 
            FROM sample, 
                 job_header
           WHERE [SAMPLE].job_name = job_header.job_name AND 
                 [sample].[status] ='A' AND
                 [SAMPLE].product  IN ('4000041','4000059','4000080','4000741','4000742', 
                                     '4000743', '5000580', '4000001','4000003','4000005',
                                     '4000008','4000009','4000010','4000012','5000000',
                                     '5000001','5000522', '5000042', '5000111' )

         ) nested_query
         where rn = 1 
;
{/98.0}

{81.0 C End}

{83.0}

view vs2_portal_view on_table job_header;

	field product
		datatype text;
	
	field job_name
		datatype text;
	
	field description
		datatype text;

	field id_numeric
		datatype text
		used_for unique_key, primary_browse  ;
	
	field mean_potency
		datatype text;

	field mean_potency_s1
		datatype text;

	field mean_potency_s2
		datatype text;

	field mean_0_25_hr
		datatype text;

	field mean_0_5_hr
		datatype text;

	field mean_01_hr
		datatype text;

	field mean_02_hr
		datatype text;

	field mean_03_hr
		datatype text;

	field mean_04_hr
		datatype text;

	field mean_06_hr
		datatype text;

	field mean_08_hr
		datatype text;

	field mean_10_hr
		datatype text;

	field mean_11_hr
		datatype text;

	field mean_12_hr
		datatype text;

	field mean_13_hr
		datatype text;

	field mean_16_hr
		datatype text;

	field mean_24_hr
		datatype text;

	field mean_hardness
		datatype text;

	field min_hardness
		datatype text;

	field max_hardness
		datatype text;

	field mean_moisture
		datatype text;

	field mean_ipa
		datatype text;

	field date_of_test
		datatype text;

	field specific_surface_area
		datatype text;

	field last_date_of_use
		datatype text;

	field label_claim_s1
		datatype text;

	field label_claim_s2
		datatype text;

	field label_claim_mean
		datatype text;

	field moisture_percent
		datatype text;

	field moisture_1
		datatype text;

	field moisture_2
		datatype text;
{99.0}
select_clause

SELECT TOP 100 PERCENT 
    product,
    job_name,
    [description],
    id_numeric,    
    MAX (CASE result_name WHEN 'Mean Potency (mg/g)' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_potency,
    MAX (CASE result_name WHEN 'Potency (mg/g) - S1' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) 
                          WHEN 'Potency (mg/Tablet) - S1' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_potency_s1,
    MAX (CASE result_name WHEN 'Potency (mg/g) - S2' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) 
                          WHEN 'Potency (mg/Tablet) - S2' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_potency_s2,
    MAX (CASE result_name WHEN 'Mean % Released at 0.25 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_0_25_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 0.5 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_0_5_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 1 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) 
                          WHEN 'Mean % Released at 1st Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_01_hr,    
    MAX (CASE result_name WHEN 'Mean % Released at 2 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) 
                          WHEN 'Mean % Released at 2nd Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_02_hr, 
    MAX (CASE result_name WHEN 'Mean % Released at 3 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_03_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 4 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) 
                          WHEN 'Mean % Released at 4th Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_04_hr, 
    MAX (CASE result_name WHEN 'Mean % Released at 6 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) 
                          WHEN 'Mean % Released at 6th Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_06_hr, 
    MAX (CASE result_name WHEN 'Mean % Released at 8 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) 
                          WHEN 'Mean % Released at 8th Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_08_hr,     
    MAX (CASE result_name WHEN 'Mean % Released at 10 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) 
                          WHEN 'Mean % Released at 10th Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_10_hr,     
    MAX (CASE result_name WHEN 'Mean % Released at 11 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_11_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 12 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) 
                          WHEN 'Mean % Released at 12th Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_12_hr, 
    MAX (CASE result_name WHEN 'Mean % Released at 13 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_13_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 16 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_16_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 24 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_24_hr,
    MAX (CASE result_name WHEN 'Mean Hardness' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_hardness,
    MAX (CASE result_name WHEN 'Hardness Range : Minimum' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) min_hardness ,  
    MAX (CASE result_name WHEN 'Hardness Range : Maximum' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) max_hardness,
    MAX (CASE result_name WHEN 'Mean Moisture' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_moisture, 
    MAX (CASE result_name WHEN 'Mean % IPA' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) mean_ipa,
    MAX (CASE result_name WHEN 'Date of test' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) date_of_test, 
    MAX (CASE result_name WHEN 'SPECIFIC SURFACE AREA' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) specific_surface_area, 
    MAX (CASE result_name WHEN 'Date of test' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) date_of_test,  
    MAX (CASE result_name WHEN '% Label Claim - S1' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) percent_label_s1, 
    MAX (CASE result_name WHEN '% Label Claim - S2' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) percent_label_s2, 
    MAX (CASE result_name WHEN 'Mean % Label Claim' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) percent_label_mean,
    MAX (CASE result_name WHEN 'Moisture %' THEN (CASE out_of_range WHEN 'T' THEN 
        (CASE WHEN CHARINDEX(' ',result_text)=0 THEN result_text ELSE SUBSTRING(result_text, 1, CHARINDEX(' ',result_text)) END + ' *') ELSE
        (CASE WHEN CHARINDEX(' ',result_text)=0 THEN result_text ELSE SUBSTRING(result_text, 1, CHARINDEX(' ',result_text)) END) END) ELSE NULL END) percent_moisture,
    MAX (CASE RTRIM(LTRIM(result_name))+ LTRIM(RTRIM(CAST(test_count AS varchar(5)))) WHEN 'Moisture %'+'1' THEN (CASE out_of_range WHEN 'T' THEN 
        (CASE WHEN CHARINDEX(' ',result_text)=0 THEN result_text ELSE SUBSTRING(result_text, 1, CHARINDEX(' ',result_text)) END + ' *') ELSE
        (CASE WHEN CHARINDEX(' ',result_text)=0 THEN result_text ELSE SUBSTRING(result_text, 1, CHARINDEX(' ',result_text)) END) END) ELSE NULL END) moisture_1,
    MAX (CASE RTRIM(LTRIM(result_name))+ LTRIM(RTRIM(CAST(test_count AS varchar(5)))) WHEN 'Moisture %'+'2' THEN (CASE out_of_range WHEN 'T' THEN 
        (CASE WHEN CHARINDEX(' ',result_text)=0 THEN result_text ELSE SUBSTRING(result_text, 1, CHARINDEX(' ',result_text)) END + ' *') ELSE
        (CASE WHEN CHARINDEX(' ',result_text)=0 THEN result_text ELSE SUBSTRING(result_text, 1, CHARINDEX(' ',result_text)) END) END) ELSE NULL END) moisture_2
  
  FROM
    (SELECT [SAMPLE].product product,
      job_header.job_name job_name,
      [SAMPLE].supplier_lot_no [description],
      [SAMPLE].id_numeric id_numeric,
      test.test_number,
      test.analysis analysis,
      result.name result_name,
      result.[TEXT] result_text,
      result.units,
      result.out_of_range out_of_range,
      test.test_count
    FROM [sample] LEFT JOIN JOB_HEADER ON [SAMPLE].job_name = job_header.job_name,
      test,
      result,
      versioned_analysis,
      rep_tmpl_header,
      rep_tmpl_entry,
      rep_tmpl_product
    WHERE (versioned_analysis.[identity] = rep_tmpl_entry.analysis_id)  AND 
          (result.name = rep_tmpl_entry.component_id)  AND 
           test.[STATUS] = 'A' AND 
           [SAMPLE].id_numeric = test.[SAMPLE] AND
           test.test_number = result.test_number AND
           versioned_analysis.[IDENTITY] = test.analysis AND
           versioned_analysis.analysis_version = test.analysis_version AND
           [SAMPLE].product  = rep_tmpl_product.product_id AND
           rep_tmpl_header.[IDENTITY] = rep_tmpl_entry.[IDENTITY] AND
           rep_tmpl_header.[IDENTITY] = rep_tmpl_product.[IDENTITY] AND
           rep_tmpl_header.[identity]='VS2'
    GROUP BY job_header.job_name,
      [SAMPLE].product,
      result.name,
      result.[text],
      [SAMPLE].supplier_lot_no,
      id_numeric,
      test.analysis,
      result.units,
      result.out_of_range,
      test.test_number,
      test.test_count
    ) nested_query
    
   GROUP BY product, job_name, [description], id_numeric  
   ORDER BY id_numeric DESC  ;

  view vs2_portal_spec_view on_table job_header;

	field product
		datatype text;
	
	field level_id
		datatype text;

	field mean_potency
		datatype text;

	field potency_s1
		datatype text;

	field potency_s2
		datatype text;

	field mean_0_25_hr
		datatype text;

	field mean_0_5_hr
		datatype text;

	field mean_01_hr
		datatype text;

	field mean_02_hr
		datatype text;

	field mean_03_hr
		datatype text;

	field mean_04_hr
		datatype text;

	field mean_06_hr
		datatype text;

	field mean_08_hr
		datatype text;

	field mean_10_hr
		datatype text;

	field mean_11_hr
		datatype text;

	field mean_12_hr
		datatype text;

	field mean_13_hr
		datatype text;

	field mean_16_hr
		datatype text;

	field mean_24_hr
		datatype text;

	field mean_hardness
		datatype text;

	field min_hardness
		datatype text;

	field max_hardness
		datatype text;

	field mean_moisture
		datatype text;

	field mean_ipa
		datatype text;

	field date_of_test
		datatype text;

	field specific_surface_area
		datatype text;

	field last_date_of_use
		datatype text;

	field label_claim_s1
		datatype text;

	field label_claim_s2
		datatype text;

	field label_claim_mean
		datatype text;

	field moisture_percent
		datatype text;

{99.0}
 select_clause

 SELECT TOP 100 PERCENT 
    product,
    level_id,
    MAX (CASE result_name WHEN 'Mean Potency (mg/g)' THEN limits ELSE NULL END) mean_potency,
    MAX (CASE result_name WHEN 'Potency (mg/g) - S1' THEN limits ELSE NULL END) potency_s1,
    MAX (CASE result_name WHEN 'Potency (mg/g) - S2' THEN limits ELSE NULL END) potency_s2,
    MAX (CASE result_name WHEN 'Mean % Released at 0.25 Hour' THEN limits ELSE NULL END) mean_0_25_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 0.5 Hour' THEN limits ELSE NULL END) mean_0_5_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 1 Hour' THEN limits ELSE NULL END) mean_01_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 2 Hour' THEN limits ELSE NULL END) mean_02_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 3 Hour' THEN limits ELSE NULL END) mean_03_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 4 Hour' THEN limits
                          WHEN 'Mean % Released at 4th Hour' THEN limits ELSE NULL END) mean_04_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 6 Hour' THEN limits
                          WHEN 'Mean % Released at 6th Hour' THEN limits ELSE NULL END) mean_06_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 8 Hour' THEN limits
                          WHEN 'Mean % Released at 8th Hour' THEN limits ELSE NULL END) mean_08_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 10 Hour' THEN limits
                          WHEN 'Mean % Released at 10th Hour' THEN limits ELSE NULL END) mean_10_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 11 Hour' THEN limits ELSE NULL END) mean_11_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 12 Hour' THEN limits
                          WHEN 'Mean % Released at 12th Hour' THEN limits ELSE NULL END) mean_12_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 13 Hour' THEN limits ELSE NULL END) mean_13_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 16 Hour' THEN limits ELSE NULL END) mean_16_hr,
    MAX (CASE result_name WHEN 'Mean % Released at 24 Hour' THEN limits ELSE NULL END) mean_24_hr,
    MAX (CASE result_name WHEN 'Mean Hardness' THEN limits ELSE NULL END) mean_hardness,
    MAX (CASE result_name WHEN 'Hardness Range : Minimum' THEN limits ELSE NULL END) min_hardness,
    MAX (CASE result_name WHEN 'Hardness Range : Maximum' THEN limits ELSE NULL END) max_hardness,
    MAX (CASE result_name WHEN 'Mean Moisture' THEN limits ELSE NULL END) mean_moisture,
    MAX (CASE result_name WHEN 'Mean % IPA' THEN limits ELSE NULL END) mean_ipa,
    MAX (CASE result_name WHEN 'Date of Test' THEN limits ELSE NULL END) date_of_test,
    MAX (CASE result_name WHEN 'SPECIFIC SURFACE_AREA' THEN limits ELSE NULL END) specific_surface_area,
    MAX (CASE result_name WHEN 'Last Date of use of batch' THEN limits ELSE NULL END) last_date_of_use,
    MAX (CASE result_name WHEN '% Label Claim - S1' THEN limits ELSE NULL END) percent_label_s1,
    MAX (CASE result_name WHEN '% Label Claim - S2' THEN limits ELSE NULL END) percent_label_s2,
    MAX (CASE result_name WHEN 'Mean % Label Claim' THEN limits ELSE NULL END) percent_label_mean,
    MAX (CASE result_name WHEN 'Moisture %' THEN limits ELSE NULL END) percent_moisture
                                    
 FROM (
    SELECT DISTINCT mlp_view.product_id product, 
                    mlp_view.component_name result_name,
                    mlp_view.level_id,
           CASE WHEN mlp_view.text_spec <> ' ' THEN mlp_view.text_spec 
                WHEN mlp_view.max_limit = '          '  THEN mlp_view.min_limit 
                WHEN mlp_view.max_limit IS NOT NULL THEN mlp_view.min_limit + ' - ' + mlp_view.max_limit END limits
    FROM mlp_view,
         rep_tmpl_header rth1,
         rep_tmpl_header rth2,
         rep_tmpl_entry  rte1,
         rep_tmpl_product rtp
    WHERE 
        (
         (
           mlp_view.component_name  = rte1.component_id AND
           mlp_view.analysis_id = rte1.analysis_id AND
           rth1.[identity] = rte1.[identity] AND
           rth1.[identity] = 'VS2'
          ) 
          
          OR
          (
           mlp_view.product_id      = rtp.product_id AND
           rth2.[identity] = rtp.[IDENTITY] AND
           rth2.[identity] = 'VS2' 
           )
         )
    ) nested_query
    
   group by product, level_id 
   ORDER BY product DESC;
   

view vs2_dissolution_view on_table job_header;

	field product
		datatype text;
	
	field job_name
		datatype text;
	
	field description
		datatype text;

	field id_numeric
		datatype text
		used_for unique_key, primary_browse  ;
	
	field test_number
              datatype text ;

	field y_label
		datatype text;

	field hr_0_25
		datatype text;

	field hr_0_5
		datatype text;

	field hr_01
		datatype text;

	field hr_02
		datatype text;

	field hr_03
		datatype text;

	field hr_04
		datatype text;

	field hr_06
		datatype text;

	field hr_08
		datatype text;

	field hr_10
		datatype text;

	field hr_11
		datatype text;

	field hr_12
		datatype text;

	field hr_13
		datatype text;

	field hr_16
		datatype text;

	field hr_24
		datatype text;

{99.0}
select_clause

 SELECT TOP 100 PERCENT 
    product,
    job_name,
    [description],
    id_numeric,
    test_number,
    y_label,
    MAX (CASE x_label WHEN '0.25 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) hr_0_25,
    MAX (CASE x_label WHEN '0.5 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) hr_0_5,
    MAX (CASE x_label WHEN '1 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) hr_01,
    MAX (CASE x_label WHEN '2 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) hr_02,
    MAX (CASE x_label WHEN '3 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) hr_03,
    MAX (CASE x_label WHEN '4 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) hr_04,
    MAX (CASE x_label WHEN '6 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) hr_06,
    MAX (CASE x_label WHEN '8 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) hr_08,
    MAX (CASE x_label WHEN '10 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) hr_10,
    MAX (CASE x_label WHEN '11 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) hr_11,
    MAX (CASE x_label WHEN '12 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) hr_12,
    MAX (CASE x_label WHEN '13 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) hr_13,
    MAX (CASE x_label WHEN '16 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) hr_16,
    MAX (CASE x_label WHEN '24 Hour' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) hr_24
    
    FROM
    (SELECT [SAMPLE].product product,
      job_header.job_name job_name,
      [sample].supplier_lot_no [description],
      [sample].id_numeric id_numeric,
      test.analysis analysis,
      result.name result_name,
      result.[text] result_text,
      result.units,
      result.out_of_range out_of_range,
      test.test_count,
      rep_tmpl_entry.y_label y_label,
      rep_tmpl_entry.x_label x_label,
      test.test_number test_number
    FROM [sample],
      job_header,
      test,
      result,
      versioned_analysis,
      rep_tmpl_header,
      rep_tmpl_entry,
      rep_tmpl_product
    WHERE (versioned_analysis.[identity] = rep_tmpl_entry.analysis_id)  AND 
          (result.name = rep_tmpl_entry.component_id )  AND 
           test.[status] = 'A' AND
           job_header.job_name = [sample].job_name AND
           [sample].id_numeric = test.[sample] AND
           test.test_number = result.test_number AND
           versioned_analysis.[identity] = test.analysis AND
           versioned_analysis.analysis_version = test.analysis_version AND
           [sample].product  = rep_tmpl_product.product_id AND
           rep_tmpl_header.[identity] = rep_tmpl_entry.[identity] AND
           rep_tmpl_header.[identity] = rep_tmpl_product.[identity] AND
           rep_tmpl_header.[identity]='VS2_DISSOLUTION'
    GROUP BY job_header.job_name,
      [sample].product,
      result.name,
      result.[text],
      [sample].supplier_lot_no,
      id_numeric,
      test.analysis,
      result.units,
      result.out_of_range,
      test.test_number,
      test.test_count,
      rep_tmpl_entry.y_label,
      rep_tmpl_entry.x_label
    ) nested_query
    
   GROUP BY product, job_name, [description], id_numeric, test_number, y_label 
   ORDER BY id_numeric DESC;

  view vs2_diss_spec_view on_table job_header;

	field product
		datatype text;
	
	field product_version
		datatype text;

	field level_id
		datatype text;

	field y_label
		datatype text;

	field hr_0_25
		datatype text;

	field hr_0_5
		datatype text;

	field hr_01
		datatype text;

	field hr_02
		datatype text;

	field hr_03
		datatype text;

	field hr_04
		datatype text;

	field hr_06
		datatype text;

	field hr_08
		datatype text;

	field hr_10
		datatype text;

	field hr_11
		datatype text;

	field hr_12
		datatype text;

	field hr_13
		datatype text;

	field hr_16
		datatype text;

	field hr_24
		datatype text;

{99.0}
 select_clause

SELECT TOP 100 PERCENT
    product,
    MAX(product_version) product_version,
    level_id,
    y_label,
    MAX (CASE x_label WHEN '0.25 Hour' THEN limits ELSE NULL END) hr_0_25,
    MAX (CASE x_label WHEN '0.5 Hour' THEN limits ELSE NULL END) hr_0_5,
    MAX (CASE x_label WHEN '1 Hour' THEN limits ELSE NULL END) hr_01,
    MAX (CASE x_label WHEN '2 Hour' THEN limits ELSE NULL END) hr_02,
    MAX (CASE x_label WHEN '3 Hour' THEN limits ELSE NULL END) hr_03,
    MAX (CASE x_label WHEN '4 Hour' THEN limits ELSE NULL END) hr_04,
    MAX (CASE x_label WHEN '6 Hour' THEN limits ELSE NULL END) hr_06,
    MAX (CASE x_label WHEN '8 Hour' THEN limits ELSE NULL END) hr_08,
    MAX (CASE x_label WHEN '10 Hour' THEN limits ELSE NULL END) hr_10,
    MAX (CASE x_label WHEN '11 Hour' THEN limits ELSE NULL END) hr_11,
    MAX (CASE x_label WHEN '12 Hour' THEN limits ELSE NULL END) hr_12,
    MAX (CASE x_label WHEN '13 Hour' THEN limits ELSE NULL END) hr_13,
    MAX (CASE x_label WHEN '16 Hour' THEN limits ELSE NULL END) hr_16,
    MAX (CASE x_label WHEN '24 Hour' THEN limits ELSE NULL END) hr_24
  
  FROM
    (
    SELECT DISTINCT mlp_view.product_id product, 
                    mlp_view.product_version product_version,
                    mlp_view.component_name result_name,
                    mlp_view.level_id,
                    rep_tmpl_entry.y_label,
                    rep_tmpl_entry.x_label,
           CASE WHEN mlp_view.max_limit = '          '  THEN mlp_view.min_limit 
                WHEN mlp_view.max_limit IS NOT NULL THEN mlp_view.min_limit + ' - ' + mlp_view.max_limit END limits
    FROM mlp_view,
         rep_tmpl_header,
         rep_tmpl_entry,
         rep_tmpl_product
    WHERE 
        (  mlp_view.component_name  = rep_tmpl_entry.component_id AND
           mlp_view.product_id      = rep_tmpl_product.product_id AND
           rep_tmpl_header.[identity] = rep_tmpl_entry.[identity] AND
           rep_tmpl_header.[identity] = rep_tmpl_product.[identity] AND
           rep_tmpl_header.[identity] = 'VS2_DISSOLUTION'
         ) 
    ) nested_query
    
   GROUP BY product, level_id, y_label 
   ORDER BY product DESC;


view vs2_portal_attr_view on_table job_header;

	field product
		datatype text;
	
	field job_name
		datatype text;
	
	field description
		datatype text;

	field id_numeric
		datatype text;
	
	field test_number
		datatype text
		used_for unique_key, primary_browse  ;

	field attr_test
		datatype text;

{99.0}
select_clause

SELECT TOP 100 PERCENT
    product,
    job_name,
    [description],
    id_numeric,
    test_number,
    MAX (CASE result_name WHEN 'Physical Appearance (Attribute Testing)' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) 
                          WHEN 'Physical Appearance(Attribute Testing) U' THEN (CASE out_of_range WHEN 'T' THEN result_text + ' *' ELSE result_text END) ELSE NULL END) attr_test
  FROM
    (SELECT [sample].product product,
      job_header.job_name job_name,
      [sample].supplier_lot_no [description],
      [sample].id_numeric id_numeric,
      test.test_number,
      test.analysis analysis,
      result.name result_name,
      result.[text] result_text,
      result.units,
      result.out_of_range out_of_range,
      test.test_count
    FROM [sample] LEFT JOIN job_header ON [sample].job_name = job_header.job_name,
      test,
      result,
      versioned_analysis,
      rep_tmpl_header,
      rep_tmpl_entry,
      rep_tmpl_product
    WHERE (versioned_analysis.[identity] = rep_tmpl_entry.analysis_id)  AND 
          (result.name = rep_tmpl_entry.component_id )  AND 
           test.[STATUS] = 'A' AND 
           [sample].id_numeric = test.[sample] AND
           test.test_number = result.test_number AND
           versioned_analysis.[identity] = test.analysis AND
           versioned_analysis.analysis_version = test.analysis_version AND
           [sample].product  = rep_tmpl_product.product_id AND
           rep_tmpl_header.[identity] = rep_tmpl_entry.[identity] AND
           rep_tmpl_header.[identity] = rep_tmpl_product.[identity] AND
           rep_tmpl_header.[identity]='VS2_ATTRIBUTES'
    GROUP BY job_header.job_name,
      [sample].product,
      result.name,
      result.[text],
      [sample].supplier_lot_no,
      id_numeric,
      test.test_number,
      test.analysis,
      result.units,
      result.out_of_range,
      test.test_number,
      test.test_count
    ) nested_query
    
   GROUP BY product, job_name, [description], id_numeric, test_number  
   ORDER BY id_numeric DESC;




  view vs2_portal_attr_spec_view on_table job_header;

	field product
		datatype text;
	
	field level_id
		datatype text;

	field attr_test
		datatype text;

{99.0}
 select_clause

 SELECT TOP 100 PERCENT
    product,
    level_id,
    MAX (CASE result_name WHEN 'Physical Appearance (Attribute Testing)' THEN limits
                          WHEN 'Physical Appearance(Attribute Testing) U' THEN limits ELSE NULL END) attr_test
  FROM
    (
    SELECT DISTINCT mlp_view.product_id product, 
                    mlp_view.component_name result_name,
                    mlp_view.level_id,
           CASE WHEN mlp_view.text_spec <> ' ' THEN mlp_view.text_spec 
                WHEN mlp_view.max_limit = '          '  THEN mlp_view.min_limit 
                WHEN mlp_view.max_limit IS NOT NULL THEN mlp_view.min_limit + ' - ' + mlp_view.max_limit END limits
    FROM mlp_view,
         rep_tmpl_header,
         rep_tmpl_entry,
         rep_tmpl_product
    WHERE 
        (  mlp_view.component_name  = rep_tmpl_entry.component_id AND
           mlp_view.product_id      = rep_tmpl_product.product_id AND
           rep_tmpl_header.[identity] = rep_tmpl_entry.[identity] AND
           rep_tmpl_header.[identity] = rep_tmpl_product.[identity] AND
           rep_tmpl_header.[identity] = 'VS2_ATTRIBUTES'
         ) 
    ) nested_query
    
   group by product, level_id 
   ORDER BY product DESC;




{/83.0}

{85.0}

table rep_tmpl_header;

field identity
      datatype identity(40)
      used_for unique_key, primary_browse;

field description
      datatype text(234)
      used_for display_browse(2);

field group_id alias group
      links_to group_header . identity
      used_for security_id;

field modifiable datatype boolean
      used_for modifiable;

field modified_on datatype date
      used_for modified_on;

field modified_by links_to personnel . identity
      used_for modified_by;

field removeflag datatype boolean
      used_for remove_flag;



table rep_tmpl_entry;

field identity
      links_to rep_tmpl_header . identity
      used_for unique_key, primary_browse;

field order_number
      alias order_field datatype packed_decimal
      used_for ordering
      used_for unique_key;

field analysis_id
      links_to versioned_analysis . identity
      used_for display_browse(1);

field component_id
      links_to versioned_component . name
      case_sensitive                                     {102.0}
      used_for display_browse (2);

field alias1
      datatype text (100);

field alias2
      datatype text (100);

field alias3
      datatype text (100);

field block_name
      datatype text(20);

field x_label
      datatype text(20);

field y_label
      datatype text(20);



table rep_tmpl_product;

field identity
      links_to rep_tmpl_header . identity
      used_for unique_key, primary_browse;

field order_number
      alias order_field datatype packed_decimal
      used_for ordering
      used_for unique_key;

field product_id
      links_to mlp_header . identity
      used_for display_browse(1);



{/85.0}



{89.0 Resource Manager}

table tasks ;

        field   task_id
                datatype integer
                used_for unique_key, primary_browse;

        field   description
                datatype text(234)
                used_for display_browse(1);

        field   duration
                datatype integer
                used_for display_browse(2);

        field   status
                datatype identity
                used_for display_browse ( 3 )
                prompt_type phrase
                phrase_type task_stat                
                default 'U' ;

        field   start_date
                datatype date
                default '0';

        field   end_date
                datatype date
                default '0';

        field   recurrence_rule
                datatype text(1024);

        field   recurrence_parent_id
                datatype integer;

        field   actual_start_date
                datatype date
                default '0';

        field   actual_end_date
                datatype date
                default '0';

        field   actual_duration
                datatype integer;

        field   percent_complete
                datatype integer;

        field   task_type
                links_to task_type.identity;

        field   due_date
                datatype date
                default '0';

        field   group_id
                links_to group_header . identity 
                used_for security_id ;

        field   priority
                links_to sample . priority ;

        field   id_numeric
                links_to sample . id_numeric;

        field   test_number
                links_to test . test_number;

        field   removeflag datatype boolean
                used_for remove_flag;

table task_operators noindex;

        field   task_id
                datatype integer
                used_for unique_key, primary_browse;

        field   operator_id 
                datatype identity(10)
                used_for unique_key,display_browse ( 1 );

table task_instruments noindex;

        field   task_id
                datatype integer
                used_for unique_key,primary_browse;

        field   instrument_id 
                links_to instrument.identity
                used_for unique_key,display_browse ( 1 );



table task_type ;

field identity
      datatype identity(40)
      used_for unique_key, primary_browse;
field task_type_category 
      datatype identity
      prompt_type phrase
      identities
      phrase_type TASK_CAT;
field group_id alias group
      links_to group_header.identity
      used_for security_id;
field description datatype text ( 234 )
      used_for display_browse;
field modified_on datatype date used_for modified_on ;
field modified_by links_to personnel.identity
      used_for modified_by;
field modifiable datatype boolean
      used_for modifiable;
field removeflag datatype boolean
      used_for remove_flag;

table task_plan_header ;

field identity
      datatype identity(40)
      used_for unique_key, primary_browse;
field product
      links_to mlp_header.identity;
field testing_level datatype identity
      prompt_type phrase
      identities
      phrase_type TEST_LEVEL;
field group_id alias group
      links_to group_header.identity
      used_for security_id;
field description datatype text ( 234 )
      used_for display_browse;
field modified_on datatype date used_for modified_on ;
field modified_by links_to personnel.identity
      used_for modified_by;
field modifiable datatype boolean
      used_for modifiable;
field removeflag datatype boolean
      used_for remove_flag;


table task_plan_entry ;

field task_plan_id
      links_to task_plan_header.identity
      used_for unique_key;

field order_number
      datatype  packed_decimal
      used_for  unique_key, ordering;

field task_type_id
      links_to task_type.identity;

field task_description 
      datatype text ( 234 );

field duration 
      datatype integer
      default 1
      lower_limit 1
      upper_limit 9999 ;

field priority
      datatype integer
      default 1
      lower_limit 1
      upper_limit 9999 ;

field group_id alias group
      links_to group_header.identity
      used_for security_id;


{/89.0}

{101.0}

table wsheet_tmpl_header ;

        field identity
              datatype identity ( 20 )
              used_for unique_key, primary_browse;
        field group_id alias group
              links_to group_header.identity
              used_for security_id ;
        field description
              datatype text ( 234 )
              used_for display_browse ( 1 );
        field type
              datatype identity
	          prompt_type choose
	          default 'SAMPLE'
	          choose_type WS_TYPE 
	          used_for display_browse ( 2 );
        field modified_on
              datatype date
              used_for modified_on ;
        field modified_by
              links_to personnel.identity
              used_for modified_by ;
        field modifiable
              datatype boolean
              used_for modifiable ;
        field removeflag
              datatype boolean
              used_for remove_flag ;

table wsheet_tmpl_entry;

        field wsheet_identity
              links_to wsheet_tmpl_header.identity
              used_for unique_key;
        field identity
              datatype identity
              used_for unique_key
              used_for display_browse ( 1 );
        field order_number
              datatype packed_decimal
              used_for ordering;
        field description
              datatype text ( 234 )
              used_for display_browse ( 2 );
        field section
              datatype text ( 50);
        field default_value
              datatype text ( 30 );
        field type
              datatype identity
              prompt_type phrase
              valid identities
              phrase_type FIELD_TYPE
              used_for display_browse ( 3 )
              default 'FORMAT';
        field type2
              datatype identity
              prompt_type choose
              default 'ENTER'
              choose_type WS_F_TYPE;
        field type_analyst
              datatype boolean
              true_word 'Yes'
	          false_word 'No'
              default 'Yes';
        field type_checker
	          datatype boolean
	          true_word 'Yes'
	          false_word 'No'
              default 'Yes';              
        field prompt1
              datatype identity ( 30 )
              used_for display_browse ( 4 )
              default 'TEXT';
        field prompt2
              datatype identity ( 30 )
              used_for display_browse ( 5 );
        field mandatory
              datatype boolean
              true_word 'Yes'
              false_word 'No'
              default 'Yes';

table wsheet_info
      oracle_location 'VGSM_DB' noindex;

        field worksheet_id
              datatype text(20)
              used_for unique_key
              used_for primary_browse;
        field identity
              datatype identity
              used_for unique_key
              used_for display_browse ( 1 );
        field test_number
              datatype packed_decimal
              used_for unique_key
              used_for display_browse ( 2 );
        field field_type
              links_to wsheet_tmpl_entry.type2;
        field type_analyst
	          links_to wsheet_tmpl_entry.type_analyst;
        field type_checker
	          links_to wsheet_tmpl_entry.type_checker;              
        field order_num
              datatype packed_decimal;
        field record_value
              datatype text(234);
        field record_version
              datatype integer
              default '1';
        field description
              datatype text ( 234 );
        field default_value
              datatype text ( 30 );
        field type
              datatype identity
              prompt_type phrase
              valid identities
              phrase_type FIELD_TYPE
              default 'FORMAT';
        field prompt1
              datatype identity ( 30 )
              default 'TEXT';
        field prompt2
              datatype identity ( 30 );
        field mandatory
              datatype boolean
              true_word 'Yes'
              false_word 'No'
              default 'No';
        field section
              datatype text ( 50);
        field flag
              datatype text (3);
        field reason
              datatype text ( 234 );

index wsheet_info_test_number_index on test_number 
      oracle_location 'VGSM_DB';

index wsheet_info_identity_index on identity 
      oracle_location 'VGSM_DB';

view wsheet_info_view on_table sample,
                               test,
                               wsheet_info;

        field id_numeric        links_to sample.id_numeric used_for unique_key;
        field id_text           links_to sample.id_text;
        field status            links_to sample.status;
        field login_date        links_to sample.login_date;
        field test_number       links_to test.test_number used_for unique_key;
        field analysis          links_to test.analysis  used_for display_browse (1);
        field test_count        links_to test.test_count  used_for display_browse (2);
        field test_status       links_to test.status ;
        field instrument        links_to test.instrument ;
        field product           links_to sample . product ;
        field product_version   links_to sample . product_version ;
        field standard          links_to sample . standard ;
        field standard_id       links_to sample . standard_id ;
        field preparation_batch links_to test . preparation_batch ;
        field instrument_batch  links_to test . instrument_batch ;
        field parent_test       links_to test . parent_test ;
        field job_name          links_to sample . job_name ;
        field sample_priority   links_to sample . priority ;
        field test_priority     links_to test . test_priority ;
        field component_list    links_to test . component_list alias comp_list ;
        field worksheet         links_to test . worksheet alias worksheet_id ;
        field identity          links_to  wsheet_info.identity used_for unique_key;
        field field_type        links_to  wsheet_info.field_type;
        field type_analyst      links_to  wsheet_info.type_analyst;
        field type_checker      links_to  wsheet_info.type_checker;
        field order_num         links_to  wsheet_info.order_num;
        field record_value      links_to  wsheet_info.record_value used_for display_browse (4);
        field record_version    links_to  wsheet_info.record_version;
        field description       links_to  wsheet_info.description used_for display_browse (3);

select_clause

    SELECT sample.id_numeric,
           sample.id_text,
           sample.status,
           sample.login_date,
           test.test_number,
           test.analysis,
           test.test_count,
           test.status,
           test.instrument,
           sample.product,
           sample.product_version,
           sample.standard,
           sample.standard_id,
           test.preparation_batch,
           test.instrument_batch,
           test.parent_test,
           sample.job_name,
           sample.priority,
           test.test_priority,
           test.component_list,
           test.worksheet,
           wsheet_info.[identity],
           wsheet_info.field_type,
           wsheet_info.type_analyst,
           wsheet_info.type_checker,
           wsheet_info.order_num,
           wsheet_info.record_value,
           wsheet_info.record_version,
           wsheet_info.description
    FROM   sample,
           test,
           wsheet_info
   WHERE   sample.id_numeric = test.sample AND
           test.test_number = wsheet_info.test_number;



view j_s_t_wsheet_view on_table job_header,
                                sample,
                                test,
                                wsheet_info;

        field job_name          links_to job_header.job_name  used_for display_browse (1);
        field job_status        links_to job_header.job_status;
        field id_numeric        links_to sample.id_numeric used_for display_browse (3);
        field id_text           links_to sample.id_text used_for display_browse (4);
        field status            links_to sample.status;
        field login_date        links_to sample.login_date;
        field test_number       links_to test.test_number;
        field analysis          links_to test.analysis  used_for display_browse (5);
        field test_count        links_to test.test_count  used_for display_browse (6);
        field test_status       links_to test.status ;
        field instrument        links_to test.instrument ;
        field product           links_to sample . product ;
        field product_version   links_to sample . product_version ;
        field standard          links_to sample . standard ;
        field standard_id       links_to sample . standard_id ;
        field preparation_batch links_to test . preparation_batch ;
        field instrument_batch  links_to test . instrument_batch ;
        field parent_test       links_to test . parent_test ;
        field sample_priority   links_to sample . priority ;
        field test_priority     links_to test . test_priority ;
        field component_list    links_to test . component_list alias comp_list ;
        field worksheet         links_to test . worksheet alias worksheet_id ;
        field identity          links_to wsheet_info.identity  used_for display_browse (7);
        field field_type        links_to wsheet_info.field_type;
        field type_analyst      links_to wsheet_info.type_analyst;
        field type_checker      links_to wsheet_info.type_checker;
        field order_num         links_to wsheet_info.order_num;
        field record_value      links_to wsheet_info.record_value  used_for display_browse (9);
        field record_version    links_to wsheet_info.record_version;
        field description       links_to wsheet_info.description  used_for display_browse (8);
        field entry_type        links_to wsheet_info.type;
        field prompt1           links_to wsheet_info.prompt1;
        field prompt2           links_to wsheet_info.prompt2;
        field section           links_to wsheet_info.section;
        field reason            links_to wsheet_info.reason;


select_clause

    SELECT job_header.job_name,
           job_header.job_status,
           sample.id_numeric,
           sample.id_text,
           sample.status,
           sample.login_date,
           test.test_number,
           test.analysis,
           test.test_count,
           test.status,
           test.instrument,
           sample.product,
           sample.product_version,
           sample.standard,
           sample.standard_id,
           test.preparation_batch,
           test.instrument_batch,
           test.parent_test,
           sample.priority,
           test.test_priority,
           test.component_list,
           test.worksheet,
           wsheet_info.[identity],
           wsheet_info.field_type,
           wsheet_info.type_analyst,
           wsheet_info.type_checker,
           wsheet_info.order_num,
           wsheet_info.record_value,
           wsheet_info.record_version,
           wsheet_info.description,
           wsheet_info.type,
           wsheet_info.prompt1,
           wsheet_info.prompt2,
           wsheet_info.section,
           wsheet_info.reason
    FROM   job_header,
           sample,
           test,
           wsheet_info
   WHERE   job_header.job_name  = sample.job_name AND
           sample.id_numeric = test.sample AND
           test.test_number = wsheet_info.test_number;

view j_s_t_r_wsheet_view on_table job_header,
                                  sample,
                                  test,
                                  result,
                                  wsheet_info;

        field job_name          links_to job_header.job_name  used_for display_browse (1);
        field job_status        links_to job_header.job_status;
        field id_numeric        links_to sample.id_numeric used_for display_browse (3);
        field id_text           links_to sample.id_text used_for display_browse (4);
        field status            links_to sample.status;
        field login_date        links_to sample.login_date;
        field test_number       links_to test.test_number;
        field analysis          links_to test.analysis  used_for display_browse (5);
        field test_count        links_to test.test_count  used_for display_browse (6);
        field test_status       links_to test.status ;
        field instrument        links_to test.instrument ;
        field product           links_to sample . product ;
        field product_version   links_to sample . product_version ;
        field standard          links_to sample . standard ;
        field standard_id       links_to sample . standard_id ;
        field preparation_batch links_to test . preparation_batch ;
        field instrument_batch  links_to test . instrument_batch ;
        field parent_test       links_to test . parent_test ;
        field sample_priority   links_to sample . priority ;
        field test_priority     links_to test . test_priority ;
        field component_list    links_to test . component_list alias comp_list ;
        field worksheet         links_to test . worksheet alias worksheet_id ;
        field identity          links_to wsheet_info.identity  used_for display_browse (7);
        field field_type        links_to wsheet_info.field_type;
        field type_analyst      links_to wsheet_info.type_analyst;
        field type_checker      links_to wsheet_info.type_checker;
        field order_num         links_to wsheet_info.order_num;
        field record_value      links_to wsheet_info.record_value  used_for display_browse (9);
        field record_version    links_to wsheet_info.record_version;
        field description       links_to wsheet_info.description  used_for display_browse (8);
        field entry_type        links_to wsheet_info.type;
        field prompt1           links_to wsheet_info.prompt1;
        field prompt2           links_to wsheet_info.prompt2;
        field section           links_to wsheet_info.section;
        field reason            links_to wsheet_info.reason;
        field result_name       links_to result.name used_for display_browse (10);
        field result_text       links_to result.text used_for display_browse (11);
        field units             links_to result.units used_for display_browse (12);
        field out_of_range      links_to result.out_of_range;

select_clause

    SELECT job_header.job_name,
           job_header.job_status,
           sample.id_numeric,
           sample.id_text,
           sample.status,
           sample.login_date,
           test.test_number,
           test.analysis,
           test.test_count,
           test.status,
           test.instrument,
           sample.product,
           sample.product_version,
           sample.standard,
           sample.standard_id,
           test.preparation_batch,
           test.instrument_batch,
           test.parent_test,
           sample.priority,
           test.test_priority,
           test.component_list,
           test.worksheet,
           wsheet_info.[identity],
           wsheet_info.field_type,
           wsheet_info.type_analyst,
           wsheet_info.type_checker,
           wsheet_info.order_num,
           wsheet_info.record_value,
           wsheet_info.record_version,
           wsheet_info.description,
           wsheet_info.type,
           wsheet_info.prompt1,
           wsheet_info.prompt2,
           wsheet_info.section,
           wsheet_info.reason,
           result.name,
           result.text,
           result.units,
           result.out_of_range
    FROM   job_header,
           sample,
           test,
           result,
           wsheet_info
   WHERE   job_header.job_name  = sample.job_name AND
           sample.id_numeric = test.sample AND
           test.test_number = wsheet_info.test_number  AND
           result.test_number = test.test_number;


table materials_suppliers;
   
field article_code
      links_to materials.article_code
      used_for unique_key;

field supplier
      links_to supplier.identity
      used_for unique_key;
      
field qualification_status
      datatype boolean
      default 'Unqualified'
      true_word 'Qualified'
      false_word 'Unqualified' ;

field labels_required
      datatype boolean
      default 'Yes'
      true_word 'Yes'
      false_word 'No' ;

table materials;
      
field article_code
      datatype identity(20)
      used_for unique_key, primary_browse;

field product
      links_to mlp_header . identity
      used_for display_browse ( 1 );

field description
      datatype text (234)
      used_for display_browse ( 2 );

field long_description
      datatype text (500)
      used_for display_browse ( 3 );

field type
      datatype identity
      prompt_type choose
      default 'NONE'
      choose_type PROD_TYPE;

field sub_type
      datatype identity
      prompt_type choose
      default 'NONE'
      choose_type SUB_TYPE;

field sub_type_b
      datatype identity
      prompt_type choose
      default 'NONE'
      choose_type SUB_TYPEB;

field tablet_type
      datatype identity
      prompt_type choose
      default 'NA'
      choose_type TAB_TYPE;

field units
      links_to unit_header.identity;

field expiry_interval
      datatype interval;
      
field method_ref
      datatype text (60);

field specification_ref
      datatype text (60);

field retain
      datatype boolean
      default 'No'
      true_word 'Yes'
      false_word 'No' ;

field retain_units
      links_to unit_header.identity;

field analysis_units
      links_to unit_header.identity;

field anal_unit_per_retain_unit
      datatype real;

field min_retain_quantity
      datatype real;

field retain_interval
      datatype interval;
     
field group_id alias group
      links_to group_header.identity
      used_for security_id;

field worksheet_comment
      datatype text (234);

field label_profile
      links_to sample_type_labels.samp_type;

field market
      datatype identity
      prompt_type phrase      
      default 'DEFAULT'
      valid identities
      phrase_type MARKET;

field approval_status
      datatype text ( 1 )
      used_for approval_status
      default 'A'
      prompt_type choose
      choose_type APPR_STAT ;  {*** Not Used for Approval ***}

FIELD MODIFIED_ON
      DATATYPE DATE
      USED_FOR MODIFIED_ON;

FIELD MODIFIED_BY
      LINKS_TO PERSONNEL . IDENTITY
      USED_FOR MODIFIED_BY ;

FIELD MODIFIABLE
      DATATYPE BOOLEAN
      USED_FOR MODIFIABLE;

FIELD REMOVEFLAG
      DATATYPE BOOLEAN
      USED_FOR REMOVE_FLAG ;

field market_text
      datatype text(100)
      ;
      
field coa_template
      links_to coa_template.product
      ;
      
field presentation
      datatype text(234)
      ;

field control_substance
	datatype boolean;

field control_schedule
	datatype text (20)
	prompt_type choose
      choose_type CONT_SCHED;

field control_licence
	datatype text (20)
	prompt_type choose
      choose_type CONT_LIC;

field micro_turnaround
	datatype interval;

field chem_turnaround
	datatype interval;

{131.0}

field pack_expiry_int
      datatype interval;

{/131.0}


table label_profile;
      
field identity
        datatype identity(40)
        used_for unique_key, primary_browse;

field description
        datatype text (234)
        used_for display_browse (2);
     
field group_id alias group
        links_to group_header.identity
        used_for security_id;

field modifiable datatype boolean
        used_for modifiable;

field modified_on datatype date
        used_for modified_on;

field modified_by links_to personnel.identity
        used_for modified_by;

field removeflag datatype boolean
        used_for remove_flag;


table label_profile_entries;
   
field identity
        links_to label_profile.identity
        used_for unique_key;

field order_number
      datatype packed_decimal
      used_for ordering, unique_key;

field sample_template_id   
        links_to samp_tmpl_header.identity;

field retain
        datatype boolean
        default 'No'
        true_word 'Yes'
        false_word 'No';

field no_labels
        datatype integer;

field infomaker_template
        links_to infomaker_link.identity;

field report_name 
        links_to report.identity;

field routine_name
	datatype identity (40)
	PROMPT_TYPE user_defined
	LIBRARY '$PROMPT_ROUTINE'
	ROUTINE 'prompt_routine';


table coa_template;

field product 
      datatype identity(20)
      used_for unique_key, primary_browse;

field product_level
      datatype identity
      prompt_type phrase      
      default 'DEFAULT'
      valid identities
      phrase_type MARKET
      used_for unique_key, display_browse (2);

field coa_template_version
      datatype packed_decimal
      default '         1'
      used_for unique_key, version_number, display_browse (3);
      
field approval_status
      datatype text ( 1 )
      used_for display_browse ( 5 ) , approval_status
      default 'A'
      prompt_type choose
      choose_type APPR_STAT ;

field inspection_plan
      links_to inspection_header . identity
      used_for inspection ;

field description datatype Text ( 234 )
      used_for display_browse(4) ;

field version_comment datatype text ( 234 )
      used_for display_browse(6) ;

field infomaker_library
      datatype text ( 100 )
      prompt_type user_defined
      library 'LTE_COA'
      routine find_pbl_name;      

field infomaker_report
      datatype text ( 50 )
      prompt_type user_defined
      library 'LTE_COA'
      routine 'browse_reports';   

field document_template
      datatype text ( 254 )
      prompt_type user_defined
      library 'LTE_COA'
      routine 'document_browse';   

field language
      datatype identity      
      prompt_type phrase
      identities
      phrase_type COA_LANG; 
      
field created_on 
      datatype date ;

field created_by 
      links_to personnel.identity;

field modified_on 
      datatype date 
      used_for modified_on ;

field modified_by 
      links_to personnel.identity
      used_for modified_by;

field modifiable 
      datatype boolean
      used_for modifiable;

field removeflag 
      datatype boolean
      used_for remove_flag;

field l_title_1
      datatype text (234); 

field l_title_2
      datatype text (234); 
      
field l_title_3
      datatype text (234); 
      
field l_product_tag
      datatype text (234); 

field l_product_brand_name
      datatype text (234);  
     
field l_product_description
      datatype text (234) 
      prompt_type phrase      
      phrase_type COA_FIELDS;
      
field l_method
      datatype text (100); 
      
field l_specification
      datatype text (100); 

field l_batch_no
      datatype text (100); 

field l_analysis
      datatype text (100); 

field l_market
      datatype text (100)
      prompt_type phrase      
      phrase_type COA_FIELDS;

field l_tests
      datatype text (100); 
      
field l_standards
      datatype text (100); 

field l_results
      datatype text (100); 

field l_expiry_date
      datatype text (100); 

field l_manufacture_date
      datatype text (100); 
      
field l_accepted_date
      datatype text (100);

field l_signatory
      datatype text (100); 

field l_presentation
      datatype text (234); 

field l_registration_no
      datatype text (100); 

field l_packaging_batch_no
      datatype text (100); 

field l_specification_2
      datatype text (100); 

field l_units
      datatype text (100); 

field l_comment_1
      datatype text (500); {029}

field l_market_description
      datatype text (100); 
      
field presentation
      datatype text (234)
      prompt_type phrase      
      phrase_type COA_FIELDS; 

field method
      datatype text (100); 

field specification
      datatype text (100); 

field comment_gmp
      datatype text (500); {029}

field l_material_tag
      datatype text (100);

field l_release_date
      datatype text (100);

field l_expiry_2
      datatype text (100);

field l_header_field_1
      datatype text (100);

field l_header_field_2
      datatype text (100);
{107.0}
field l_expiry_3
	datatype text (100);

field l_average_weight
	datatype text (100);

field l_quantity_shipped
	datatype text (100);

field l_lot_no_1
	datatype text (100);

field l_lot_no_2
	datatype text (100);

field l_comment_2
	datatype text (100);

field comment_2
	datatype text (500);

field l_comment_3
	datatype text (100);

field comment_3
	datatype text (500);
{/107.0}


      
table coa_template_results;

field product
      links_to coa_template.product
      used_for unique_key;

field product_level
      links_to coa_template.product_level
      used_for unique_key;
      
field coa_template_version
      links_to coa_template.coa_template_version
      used_for unique_key, version_number;

field analysis
      links_to versioned_analysis.identity
      used_for unique_key, display_browse (1);

field component
      links_to versioned_component.name
      case_sensitive                                {102.0}
      used_for unique_key, display_browse (2);

field order_num
      datatype  packed_decimal
      used_for  ordering;

field analysis_alias
      datatype text (234); 

field component_alias
      datatype text (234); 

field result_alias
      datatype text (100); 

field standard
      datatype text (500); 

field standard_2
      datatype text (500); 

field unit links_to unit_header.identity;

field flags datatype text(3);

field sig_figs_number datatype integer;

field bookmark datatype text(50);

field mandatory
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'Yes';


table coa_template_parameters;

field product
      links_to coa_template.product
      used_for unique_key;

field product_level
      links_to coa_template.product_level
      used_for unique_key;

field coa_template_version
      links_to coa_template.coa_template_version
      used_for unique_key, version_number;

field identity
      datatype identity
      used_for unique_key
      used_for display_browse (1);
      
field order_number
      datatype packed_decimal
      used_for ordering;

field description
      datatype text (50)
      used_for display_browse (2);

field field_name
      datatype identity ( 30 );

field default_value
      datatype text (30);

field type
      datatype identity
      prompt_type phrase
      valid identities
      phrase_type FIELD_TYPE
      used_for display_browse (3)
      default 'FORMAT';

field prompt1
      datatype identity (30)
      used_for display_browse (4)
      default 'TEXT';

field prompt2
      datatype identity (30)
      used_for display_browse (5);

field mandatory
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';


{*************************************************}
{ CoA Dynamic Data Tables                         }
{*************************************************}

table coa_header;

field coa_id
      datatype packed_decimal
      used_for unique_key, display_browse(1);

field coa_id_text
      datatype text(40)
      used_for display_browse(2);

field generated_on
      datatype date
      used_for display_browse(3);

field product
      links_to coa_template.product;      

field product_level
      links_to coa_template.product_level;

field coa_template_version
      links_to coa_template.coa_template_version;
            
field batch_number
      datatype text(40);

field packaging_batch_number
      datatype text(40);

field manufacture_date
      datatype date;
      
field accepted_date
      datatype date;
      
field expiry_date
      datatype date;

field expiry_date_2
	datatype date;

field reg_no
	datatype text (40);

field release_date
	datatype date;

field header_1
	datatype text (100);

field header_2
	datatype text (100);

field signatory
      links_to phrase.phrase_text;

field signatory_title
      links_to phrase.phrase_text;
      
field generated_by
      links_to personnel.identity;

field coa_template
      links_to coa_template.product;
      
field product_description
      links_to coa_template.l_product_description;
      
field presentation
      links_to coa_template.presentation;
      
field market
      links_to coa_template.l_market;


field avg_wt_lower_1
	datatype text (100);

field avg_wt_lower_2
	datatype text (100);

field avg_wt_upper_1
	datatype text (100);

field avg_wt_upper_2
	datatype text (100);

field avg_wt_target_1
	datatype text (100);

field avg_wt_target_2
	datatype text (100);

field anritsu_wt
	datatype text (100);

field gel_caps_batch_1
	datatype text (100);

field gel_caps_batch_2
	datatype text (100);

field gel_caps_avg_wt_1
	datatype text (100);

field gel_caps_avg_wt_2
	datatype text (100);

field gel_caps_n_1
	datatype text (100);

field gel_caps_n_2
	datatype text (100);

field disso_level
	datatype text (2);

{107.0}
field expiry_date_3
	datatype date;

field average_weight
	datatype text (100);

field quantity_shipped
	datatype text (30);

field lot_no_1
	datatype text (30);

field lot_no_2
	datatype text (30);

field primary_container
	datatype text (100);

field secondary_container
	datatype text (100);

{/107.0}

table coa_detail;

field coa_id
      datatype packed_decimal
      used_for unique_key;
      
field order_number
      datatype integer
      used_for unique_key;


field analysis_id 
      links_to versioned_analysis . identity;

field analysis_version
      links_to versioned_analysis . analysis_version;

field component_name 
      datatype text (40);

field type
      datatype text(40);

field test
      datatype text (234);

field standard
      datatype text (500); 

field standard_2
      datatype text (500);

field result
      datatype text (234);

field unit
      datatype text (40);
      
field analysis_name
      datatype text (234);

field flags 
      datatype text(3);

field bookmark 
      datatype text(50);


table stock_instruments ;

field stock_id
      used_for unique_key
      links_to parent stock . identity ;

field instrument_type
      used_for unique_key, primary_browse
      links_to instrument_template . identity;

field description
      used_for display_browse
      links_to instrument_template . description;

table stock_source_stock ;

field stock_id
      used_for unique_key
      links_to parent stock . identity;

field source_stock
      used_for unique_key, primary_browse
      links_to stock . identity;

field units
      links_to unit_header . identity ;

field order_num
      datatype  packed_decimal
      used_for  ordering;


table stock_batch_instruments ;

field stock_id
      used_for unique_key
      links_to parent stock_batch . stock as stock_batch_instrument ;

field stock_batch_id
      used_for unique_key
      links_to parent stock_batch . stock_batch as stock_batch_instrument ;

field instrument_type
      used_for unique_key
      links_to stock_instruments . instrument_type ;

field instrument_id
      used_for unique_key, primary_browse 
      links_to instrument . identity ;


table stock_batch_source_batches ;

field stock_id
      used_for unique_key
      links_to parent stock_batch . stock as stock_batch_source_key ;

field stock_batch_id
      used_for unique_key
      links_to parent stock_batch . stock_batch as stock_batch_source_key ;

field source_stock_id
      used_for unique_key
      links_to stock_source_stock . source_stock ;

field source_stock_batch
      used_for unique_key
      links_to stock_batch . stock_batch_id ;

field amount
      datatype real
      format '99999.9999' {018 / Number decimal places modified as per PCR LIMS 1 018 / End}
      lower_limit 0.0 ;

field units
      links_to unit_header . identity ;

field order_num
      datatype  packed_decimal
      used_for  ordering;

field amount_instrument links_to instrument.identity;  { 106.0 }
field amount_from_inst    datatype real  format '99999.9999'  lower_limit 0.0 ; { 106.0 }
field amount_below_lod    datatype boolean ;     { 106.0 }

table cond_temp ;

field cond_temp_id
	datatype identity
	used_for unique_key ;

field temperature
	datatype real ;

field conductivity
	datatype real ;

table cond_ph ;

field cond_ph_id
	datatype identity
	used_for unique_key ;

field ph
	datatype real ;

field conductivity
	datatype real ;


table retains;

field identity
      datatype identity(40)
      used_for display_browse (1)
      used_for unique_key;

field table_name
      datatype text (40);

field record_id
      datatype text (40)
      used_for display_browse (2);

field article_code
      links_to materials . article_code;

field status
      datatype text (1)
      used_for display_browse (3)
      prompt_type choose
      choose_type RET_STAT
      default 'U';

field quantity
      datatype real;
      
field quantity_retained
      datatype real;
      
field units
      links_to unit_header . identity;

field min_retain_quantity
      datatype real;

field retain_units
      links_to unit_header.identity;
      
field anal_unit_per_retain_unit
      datatype real;

field retain_until
      datatype date;

field location
      links_to location.identity;

field box_no
      datatype text (20);

field disposed_on
      datatype date;

field disposed_by
      links_to personnel.identity;

field received_on
      datatype date;

field received_by
      links_to personnel.identity;

field text_comment
      datatype text (234);

field min_qty
      datatype boolean
      default 'Available'
      true_word 'Available'
      false_word 'Unavailable' ;

field created_on
      datatype date;

field created_by
      links_to personnel.identity;

field group_id alias group
      links_to group_header.identity
      used_for security_id;

field modified_on
      datatype date
      used_for modified_on ;

field modified_by
      links_to personnel . identity
      used_for modified_by ;

field modifiable
      datatype boolean
      used_for modifiable ;

field removeflag
      datatype boolean
      used_for remove_flag ;

field stage
	datatype text(30);

field qty_instrument links_to instrument.identity;      { 106.0 }
field qty_ret_instrument links_to instrument.identity;  { 106.0 }

{108.0}
field inspect_due_date_1
	datatype date;

field result_1
		datatype boolean
            true_word 'Complies'
      	false_word 'Does Not Comply';

field comments_1
	datatype text (100);

field lir_1
	datatype text (100);

field tested_by_1
	datatype text (10);

field inspect_due_date_2
	datatype date;

field result_2
		datatype boolean
            true_word 'Complies'
      	false_word 'Does Not Comply';


field comments_2
	datatype text (100);

field lir_2
	datatype text (100);

field tested_by_2
	datatype text (10);

field inspect_due_date_3
	datatype date;

field result_3
		datatype boolean
            true_word 'Complies'
      	false_word 'Does Not Comply';


field comments_3
	datatype text (100);

field lir_3
	datatype text (100);

field tested_by_3
	datatype text (10);

field inspect_due_date_4
	datatype date;

field result_4
		datatype boolean
            true_word 'Complies'
      	false_word 'Does Not Comply';


field comments_4
	datatype text (100);

field lir_4
	datatype text (100);

field tested_by_4
	datatype text (10);
{/108.0}

{126.0}
	field inspec_review_1
		datatype text (10);

	field inspec_review_2
		datatype text (10);

	field inspec_review_3
		datatype text (10);

	field inspec_review_4
		datatype text (10);

{/126.0}

table retain_history;

field identity
      datatype identity(40)
      used_for unique_key;

field action_no
      datatype packed_decimal
      used_for ordering
      used_for unique_key;

field action_type
      datatype text (10);

field qty_removed
      datatype real;

field text_comment
      datatype text (234);

field action_on
      datatype date;      

field action_by
      links_to personnel . identity;     
      

view retains_job_view on_table retains,
                               job_header;

field identity                  links_to retains.identity                  used_for display_browse (1);
field table_name                links_to retains.table_name;
field record_id                 links_to retains.record_id                 used_for display_browse (2);
field article_code              links_to retains.article_code              used_for display_browse (3);
field status                    links_to retains.status                    used_for display_browse (8);
field quantity                  links_to retains.quantity                  used_for display_browse (11);
field quantity_retained         links_to retains.quantity_retained         used_for display_browse (12);
field units                     links_to retains.units                     used_for display_browse (13);
field min_retain_quantity       links_to retains.min_retain_quantity       used_for display_browse (14);
field retain_units              links_to retains.retain_units              used_for display_browse (15);
field anal_unit_per_retain_unit links_to retains.anal_unit_per_retain_unit used_for display_browse (16);
field retain_until              links_to retains.retain_until              used_for display_browse (17);
field location                  links_to retains.location                  used_for display_browse (9);
field box_no                    links_to retains.box_no                    used_for display_browse (10);
field reveived_on               links_to retains.received_on               used_for display_browse (18);
field received_by               links_to retains.received_by               used_for display_browse (19);
field disposed_on               links_to retains.disposed_on               used_for display_browse (20);
field disposed_by               links_to retains.disposed_by               used_for display_browse (21);
field text_comment              links_to retains.text_comment              used_for display_browse (22);
field min_qty                   links_to retains.min_qty                   used_for display_browse (23);
field created_on                links_to retains.created_on                used_for display_browse (24);
field created_by                links_to retains.created_by                used_for display_browse (25); 
field group_id                  links_to retains.group_id                  used_for display_browse (26);
field modified_on               links_to retains.modified_on               used_for display_browse (27);
field modified_by               links_to retains.modified_by               used_for display_browse (28);
field modifiable                links_to retains.modifiable;
field removeflag                links_to retains.removeflag;
field job_name                  links_to job_header.job_name;
field job_status                links_to job_header.job_status;
field browse_description        links_to job_header.browse_description;
field sample_syntax_id          links_to job_header.sample_syntax_id;
field date_created              links_to job_header.date_created;
field date_completed            links_to job_header.date_completed;
field date_received             links_to job_header.date_received;
field date_to_start             links_to job_header.date_to_start;
field submitter_oper            links_to job_header.submitter_oper;
field samples_to_do             links_to job_header.samples_to_do;
field job_group_id              links_to job_header.group_id;
field template_id               links_to job_header.template_id;
field sample_template           links_to job_header.sample_template;
field date_authorised           links_to job_header.date_authorised; 
field authoriser                links_to job_header.authoriser;
field authorisation_notes       links_to job_header.authorisation_notes; 
field old_status                links_to job_header.old_status;
field inspection_header         links_to job_header.inspection_header;
field node_trigger_path         links_to job_header.node_trigger_path;
field original_job              links_to job_header.original_job;
field been_copied               links_to job_header.been_copied;
field auto_validate             links_to job_header.auto_validate;
field total_elements            links_to job_header.total_elements;
field lot_id                    links_to job_header.lot_id;
field job_material          	  links_to job_header.material;
field product                   links_to job_header.product;
field material_desc             links_to job_header.material_name;
field batch_no                  links_to job_header.batch_number          used_for display_browse (4);
field parent_batch              links_to job_header.parent_batch      used_for display_browse (5);
field job_type                  links_to job_header.job_type;
field expiry_date               links_to job_header.expiry_date;
field mfg_date                  links_to job_header.mfg_date;
field study_no                  links_to job_header.stab_study_id;
field archive_box_no            links_to job_header.archive_box_no; 
field market                    links_to job_header.market;
field description		        links_to materials.description;


select_clause

SELECT
		 retains.[identity],
		 retains.table_name,
		 retains.record_id,
		 retains.article_code,
		 retains.status,
		 retains.quantity,
		 retains.quantity_retained,
		 retains.units,
		 retains.min_retain_quantity,
		 retains.retain_units,
		 retains.anal_unit_per_retain_unit,
		 retains.retain_until,
		 retains.location,
		 retains.box_no,
		 retains.received_on,
		 retains.received_by,
		 retains.disposed_on,
		 retains.disposed_by,
		 retains.text_comment,
		 retains.min_qty,
		 retains.created_on,
		 retains.created_by,
		 retains.group_id,
		 retains.modified_on,
		 retains.modified_by,
		 retains.modifiable,
		 retains.removeflag,
		 j1.job_name,
		 j1.job_status,
		 j1.browse_description,
		 j1.sample_syntax_id,
		 j1.date_created,
		 j1.date_completed,
		 j1.date_received,
		 j1.date_to_start,
		 j1.submitter_oper,
		 j1.samples_to_do,
		 j1.group_id,
		 j1.template_id,
		 j1.sample_template,
		 j1.date_authorised,
		 j1.authoriser,
		 j1.authorisation_notes,
		 j1.old_status,
		 j1.inspection_header,
		 j1.node_trigger_path,
		 j1.original_job,
		 j1.been_copied,
		 j1.auto_validate,
		 j1.total_elements,
		 j1.lot_id,
		 j1.material,
		 j1.product,
		 j1.material_name,
		 j1.batch_number,
		 j1.parent_batch,
		 j1.job_type,
		 j1.expiry_date,
		 j1.mfg_date,
		 j1.stab_study_id,
		 j1.archive_box_no,
		 j1.market,
		 materials.description
FROM  	retains  LEFT OUTER JOIN  job_header j1  ON  retains.record_id  = j1.job_name   
	LEFT OUTER JOIN  job_header j2  ON  j1.parent_batch  = j2.job_name   
	LEFT OUTER JOIN  materials  ON  j2.material  = materials.article_code;  

view stock_batch_hierarchy on_table stock_batch, stock_batch_source_batches;

field stock_root            datatype text   
                            used_for unique_key ;
field stock_level           datatype integer     
                            used_for display_browse (1)
                            used_for unique_key;
field stock                 links_to stock_batch.stock  
                            used_for unique_key;
field batch                 links_to stock_batch.stock_batch   
                            used_for unique_key;
field stock_batch_id        links_to stock_batch.stock_batch_id  
                            used_for display_browse (2);
field status                links_to stock_batch.status
                            used_for display_browse (3);
field expiry_date           links_to stock_batch.expiry_date;
field reviewed              links_to stock_batch.reviewed;
field description		    links_to stock_batch.description;
field source_stock_id       links_to stock_batch.stock_batch_id   
                            used_for display_browse (4) 
                            used_for unique_key; 
field source_status         links_to stock_batch.status 
                            used_for display_browse (5)
                            used_for unique_key; 
field source_stock          links_to stock_batch.stock 
                            used_for unique_key;
field source_batch          links_to stock_batch.stock_batch;   
field source_expiry_date    links_to stock_batch.expiry_date;
field source_reviewed       links_to stock_batch.reviewed;
field source_description    links_to stock_batch.description;
field source_amount         links_to stock_batch_source_batches.amount;
field source_units          links_to stock_batch_source_batches.units;

select_clause

With stockBatchList AS

(SELECT 
sb.stock_batch_id AS stock_root,
1 AS stock_level,
sb.stock AS stock, 
sb.stock_batch AS batch, 
sb.stock_batch_id AS stock_batch_id,
sb.[status] AS [status],
sb.expiry_date AS expiry_date,
sb.reviewed AS reviewed,
sb.description AS description,
ISNULL(sbsb.source_stock_batch, '') AS source_stock_id,
ISNULL(sb2.[status], '') AS source_status, 
ISNULL(sb2.stock, '') AS source_stock,
ISNULL(sb2.stock_batch, '') AS source_batch,
ISNULL(sb2.expiry_date, '') AS source_expiry_date,
ISNULL(sb2.reviewed, '') AS source_reviewed,
ISNULL(sb2.description, '') AS source_description,
ISNULL(sbsb.amount, '') AS source_amount,
ISNULL(sbsb.units, '') AS source_units
FROM stock_batch sb  
LEFT OUTER JOIN stock_batch_source_batches sbsb
ON ((sb.stock = sbsb.stock_id) AND (sb.stock_batch = sbsb.stock_batch_id))
LEFT OUTER JOIN stock_batch sb2
ON sbsb.source_stock_batch=sb2.stock_batch_id
WHERE DATEDIFF(day, sb.[expiry_date], GETDATE()) < 30

UNION ALL

SELECT 
sbl.stock_root,
sbl.stock_level + 1,
sb.stock AS stock, 
sb.stock_batch AS batch, 
sb.stock_batch_id AS stock_batch_id, 
sb.[status] AS [status],
sb.expiry_date AS expiry_date,
sb.reviewed AS reviewed,
sb.description AS description,
sbsb.source_stock_batch AS source_stock_id,  
sb2.[status] AS source_status,
sb2.stock AS source_stock,
sb2.stock_batch AS source_batch,
sb2.expiry_date AS source_expiry_date,
sb2.reviewed AS source_reviewed,
sb2.description AS source_description,
sbsb.amount AS source_amount,
sbsb.units AS source_units
FROM stock_batch sb
INNER JOIN stock_batch_source_batches sbsb
ON ((sb.STOCK = sbsb.stock_id) AND (sb.stock_batch = sbsb.stock_batch_id))
INNER JOIN stock_batch sb2
ON sbsb.source_stock_batch = sb2.stock_batch_id
INNER JOIN stockBatchList sbl
ON sb.stock_batch_id = sbl.source_stock_id
WHERE sbl.source_stock_id IS NOT NULL AND 
sbl.source_stock_id <> ''  
)
SELECT * FROM stockBatchList;


view wsheet_info_sb_view on_table sample,
                               test,
                               wsheet_info,
                               worksheet,
				stock_batch;

        field id_numeric        links_to sample.id_numeric used_for unique_key;
        field id_text           links_to sample.id_text;
        field status            links_to sample.status;
        field login_date        links_to sample.login_date;
        field test_number       links_to test.test_number used_for unique_key;
        field analysis          links_to test.analysis  used_for display_browse (1);
        field test_count        links_to test.test_count  used_for display_browse (2);
        field test_status       links_to test.status ;
        field instrument        links_to test.instrument ;
        field product           links_to sample . product ;
        field product_version   links_to sample . product_version ;
        field standard          links_to sample . standard ;
        field standard_id       links_to sample . standard_id ;
        field preparation_batch links_to test . preparation_batch ;
        field instrument_batch  links_to test . instrument_batch ;
        field parent_test       links_to test . parent_test ;
        field job_name          links_to sample . job_name ;
        field sample_priority   links_to sample . priority ;
        field test_priority     links_to test . test_priority ;
        field component_list    links_to test . component_list alias comp_list ;
        field worksheet         links_to test . worksheet alias worksheet_id ;
        field identity          links_to  wsheet_info.identity used_for unique_key;
        field field_type        links_to  wsheet_info.field_type;
        field type_analyst      links_to  wsheet_info.type_analyst;
        field type_checker      links_to  wsheet_info.type_checker;
        field order_num         links_to  wsheet_info.order_num;
        field record_value      links_to  wsheet_info.record_value used_for display_browse (4);
        field record_version    links_to  wsheet_info.record_version;
        field ws_description    links_to  wsheet_info.description used_for display_browse (3);
	  field location		  links_to sample.location_id;
	  field sampling_point	  links_to sample.sampling_point;
	  field sampled_date	  links_to sample.sampled_date;
	  field em_sampled_by	  links_to sample.em_sampled_by;
        field batch_number      links_to sample.batch_no;
	  field worksheet_name	  links_to worksheet.identity;
	field stock_reviewed	  links_to stock_batch.reviewed;
          
select_clause

   SELECT   [sample].id_numeric,
           [sample].id_text,
           [sample].[status],
           [sample].login_date,
           test.test_number,
           test.analysis,
           test.test_count,
           test.[status],
           test.instrument,
           [sample].product,
           [sample].product_version,
           [sample].[standard],
           [sample].standard_id,
           test.preparation_batch,
           test.instrument_batch,
           test.parent_test,
           [sample].job_name,
           [sample].[priority],
           test.test_priority,
           test.component_list,
           test.worksheet,
           wsheet_info.[identity],
           wsheet_info.field_type,
           wsheet_info.type_analyst,
           wsheet_info.type_checker,
           wsheet_info.order_num,
           wsheet_info.record_value,
           wsheet_info.record_version,
           wsheet_info.[description],
	     [sample].location_id,
	     [sample].sampling_point,
	     [sample].sampled_date,
	     [sample].em_sampled_by,
           [sample].batch_no,
	     worksheet . [identity],
	   [sample].compared
	 FROM   [sample],
   wsheet_info,
           WORKSHEET RIGHT OUTER JOIN TEST on worksheet . link_number = test . worksheet
    WHERE  [sample].id_numeric = test.[sample] AND
	 [sample].em_sampled_by = '' and
           test.test_number = wsheet_info.test_number and
           (wsheet_info.PROMPT1 <> 'STOCK_BATCH' or
           (wsheet_info.PROMPT1 = 'STOCK_BATCH' and
           wsheet_info.RECORD_VALUE = '' ) )
           
   GROUP BY id_numeric, id_text, [sample].[status], login_date, test.test_number, analysis, 
            test_count, test.[status], test.INSTRUMENT, product, product_version, [standard], standard_id, 
            preparation_batch, instrument_batch, parent_test, job_name, [sample].[priority], test_priority, 
            component_list, worksheet, wsheet_info.[identity], field_type, type_analyst, type_checker, wsheet_info.order_num, 
            record_version, [sample].location_id, sampling_point, sampled_date, em_sampled_by, [sample].batch_no, 
            wsheet_info.[description], wsheet_info.record_value, worksheet . [identity], [sample].compared
UNION ALL
        SELECT s.id_numeric,
           s.id_text,
           s.[status],
           s.login_date,
           t.test_number,
           t.analysis,
           t.test_count,
           t.[status],
           t.instrument,
           s.product,
           s.product_version,
           s.[standard],
           s.standard_id,
           t.preparation_batch,
           t.instrument_batch,
           t.parent_test,
           s.job_name,
           s.[priority],
           t.test_priority,
           t.component_list,
           t.worksheet,
           wi.[identity],
           wi.field_type,
           wi.type_analyst,
           wi.type_checker,
           wi.order_num,
           wi.record_value,
           wi.record_version,
           wi.[description],
	     s.location_id,
	     s.sampling_point,
	     s.sampled_date,
	     s.em_sampled_by,
           s.batch_no,
	     w . [identity],
	   sb.reviewed 
    FROM   [sample] s,
   wsheet_info wi,
   stock_batch sb,
           WORKSHEET w RIGHT OUTER JOIN TEST t on w . link_number = t . worksheet
    WHERE  s.id_numeric = t.[sample] AND
	 s.em_sampled_by = '' and
           t.test_number = wi.test_number AND
           (wi.RECORD_VALUE = sb.STOCK_BATCH_ID or
	   			(wi.RECORD_VALUE = sb.BATCH and
			sb.BATCH <> '')) 
   GROUP BY id_numeric, id_text, s.[status], login_date, t.test_number, analysis, 
            test_count, t.[status], t.INSTRUMENT, product, product_version, [standard], standard_id, 
            preparation_batch, instrument_batch, parent_test, job_name, s.[priority], test_priority, 
            component_list, worksheet, wi.[identity], field_type, type_analyst, type_checker, wi.order_num, 
            record_version, s.location_id, sampling_point, sampled_date, em_sampled_by, s.batch_no, 
            wi.[description], wi.record_value, w . [identity], sb.reviewed;

{/101.0}

{ 121.0 IM Empower tables ================================= }

table ols_im_data_type;

	field	identity alias identifier 
			datatype identity (10)
      		used_for unique_key, primary_browse;

	field	description 
			datatype text ( 234 ) 
			used_for display_browse;

	field	group_id alias group
      		links_to group_header.identity
      		used_for security_id;

	field	modified_on 
			datatype date 
			used_for modified_on;

	field	modified_by 
			datatype identity
			used_for modified_by;

	field	modifiable
			datatype boolean
			used_for modifiable;

	field	removeflag
			datatype boolean
			used_for remove_flag;

      field name datatype text (50);

table ols_im_data_type_lst;

field identity
      links_to  ols_im_data_type . identity  
      used_for unique_key;
field order_num
      datatype  packed_decimal
      used_for  ordering, unique_key;
field routine_type datatype identity
        prompt_type phrase
        identities
        phrase_type OR_ROUTTYP;
field vgl_report  links_to report . identity;
field vgl_routine datatype text (40)
         PROMPT_TYPE user_defined
         LIBRARY '$PROMPT_ROUTINE'
         ROUTINE 'prompt_routine';


table ols_im_message;

	field file_id   datatype identity (20)
      		used_for unique_key, primary_browse;
	field test_id  links_to test . test_number 
      		used_for unique_key;
	field message_count datatype integer
      		used_for unique_key;

	field message_type  datatype identity (10);
	field message_text  datatype text (255);
	field message_date datatype date used_for modified_on ;


table ols_im_data;

field identity  datatype identity (20)
      used_for unique_key;
field group_id links_to group_header.identity
      used_for security_id;
field description datatype text(255)
      used_for display_browse (2);
field name datatype text(100);
field created_on datatype date;
field modified_on datatype date
      used_for modified_on;
field modified_by
      links_to personnel.identity
      used_for modified_by;
field modifiable datatype boolean
      used_for modifiable;
field removeflag datatype boolean
      used_for remove_flag;
field im_ip datatype text (30);
field im_ipo datatype text (30);
field data_id datatype text (60);
field sm_user links_to personnel.identity;
field status datatype integer default 0;
field retry_count datatype integer default 0;
field last_attempt_date datatype date;


table imsm_map;

	field	identity alias identifier 
			datatype identity (10)
      		used_for unique_key, primary_browse;

	field	description 
			datatype text ( 234 ) 
			used_for display_browse;

	field	group_id alias group
      		links_to group_header.identity
      		used_for security_id;

	field	modified_on 
			datatype date 
			used_for modified_on;

	field	modified_by 
			datatype identity
			used_for modified_by;

	field	modifiable
			datatype boolean
			used_for modifiable;

	field	removeflag
			datatype boolean
			used_for remove_flag;

     field name datatype text (100);


table  imsm_map_field;

     field	identity links_to imsm_map.identity
      	used_for unique_key;

     field order_number datatype packed_decimal used_for unique_key, ordering ;    
     field analysis  links_to versioned_analysis.identity ;
     field component links_to versioned_component.name ;
     field inst_id1  datatype text (40);
     field inst_id2  datatype text (40);

 field enabled
          datatype boolean
          default 'Yes'
          true_word 'Yes'
          false_word 'No' ;

{/121.0}

{132.0}
view rm_sample_view on_table sample ,
                               mlp_header;

        field id_numeric
              used_for unique_key
              links_to sample.id_numeric;
        field job_name
              links_to sample.job_name;
        field id_text
              links_to sample.id_text;
        field status
              links_to sample.status;
        field login_date
              links_to sample.login_date;
        field login_by
              links_to sample.login_by;
        field product
              links_to sample.product;
        field product_version
              links_to sample.product_version;
        field sample_type
              links_to sample.sample_type;
        field template_id
              links_to sample.template_id;
        field batch_id
              links_to sample.batch_id;

select_clause

SELECT

      sample.id_numeric,
	sample.job_name,
	sample.id_text,
	sample.status,
	sample.login_date,
	sample.login_by,
	sample.product,
	sample.product_version,
	sample.sample_type,
	sample.template_id,
	sample.batch_id
FROM
sample,
mlp_header

WHERE sample.product = mlp_header.[identity] AND
	sample.product_version = mlp_header.product_version AND
	mlp_header.product_group = 'RM';

{/132.0}

{134.0}
view inst_check_view on_table instrument;

    field identity          links_to instrument . identity used_for unique_key, display_browse(1);
    field description       links_to instrument . description used_for display_browse(2);
    field name              links_to instrument . name;
    field status            links_to instrument . status used_for display_browse(3);
    field next_calib_date   links_to instrument . next_calib_date used_for display_browse(4);
    field next_service_date links_to instrument . next_service_date used_for display_browse(5);

sqlserver_specific_select

    (select [IDENTITY], [DESCRIPTION], NAME, [STATUS], NEXT_CALIB_DATE, NEXT_SERVICE_DATE
    from INSTRUMENT
    where REMOVEFLAG='F'
    and [STATUS]='V')
    except
    (select distinct I.[IDENTITY], I.[DESCRIPTION], I.NAME, I.[STATUS], I.NEXT_CALIB_DATE, I.NEXT_SERVICE_DATE
    from INSTRUMENT I, INSTRUMENT_PART IP, INSTRUMENT_PART_LINK IPL
    where I.[IDENTITY]=IPL.INSTRUMENT
    and IP.[IDENTITY]=IPL.INSTRUMENT_PART
    and IPL.MANDATORY='T' 
    and I.REMOVEFLAG='F'
    and I.[STATUS]='V'
    and IP.[STATUS]<>'V' and IP.[STATUS]<>'I');

view inst_part_check_view on_table instrument_part;

    field identity          links_to instrument_part . identity used_for unique_key, display_browse(1);
    field description       links_to instrument_part . description used_for display_browse(2);
    field name              links_to instrument_part . name;
    field status            links_to instrument_part . status used_for display_browse(3);
    field next_calib_date   links_to instrument_part . next_calib_date used_for display_browse(4);
    field next_service_date links_to instrument_part . next_service_date used_for display_browse(5);

sqlserver_specific_select

    select [IDENTITY], [DESCRIPTION], NAME, [STATUS], NEXT_CALIB_DATE, NEXT_SERVICE_DATE
    from INSTRUMENT_PART
    where REMOVEFLAG='F'
    and ([STATUS]='I' or [STATUS]='V');

view stock_batch_check_view on_table stock_batch;

	field stock_batch_id        links_to stock_batch.stock_batch_id used_for unique_key, display_browse(1);
	field stock                 links_to stock_batch.stock;
	field stock_batch           links_to stock_batch.stock_batch;
	field stock_order           links_to stock_batch.stock_order;
	field source_stock_batch_id links_to stock_batch.source_stock_batch_id;
	field status                links_to stock_batch.status;
	field description           links_to stock_batch.description used_for display_browse(2);
	field location              links_to stock_batch.location;
	field supplier              links_to stock_batch.supplier;
	field batch                 links_to stock_batch.batch;
	field expiry_date           links_to stock_batch.expiry_date used_for display_browse(3);
	field initial_amount        links_to stock_batch.initial_amount;
	field unit                  links_to stock_batch.unit;
	field date_created          links_to stock_batch.date_created;
	field created_by            links_to stock_batch.created_by;
	field modified_on           links_to stock_batch.modified_on;
	field modified_by           links_to stock_batch.modified_by;
	field removeflag            links_to stock_batch.removeflag;
	field reviewed	          links_to stock_batch.reviewed;
        field reviewed_by           links_to stock_batch.reviewed_by used_for display_browse(4);
        field reviewed_on           links_to stock_batch.reviewed_on;
        field part_code             links_to stock_batch.part_code used_for display_browse(5);
        field stock_name            links_to stock . name used_for display_browse(6);

sqlserver_specific_select

    select sb.[STOCK_BATCH_ID],sb.[STOCK],sb.[STOCK_BATCH],sb.[STOCK_ORDER],
           sb.[SOURCE_STOCK_BATCH_ID],sb.[STATUS],sb.[DESCRIPTION],
           sb.[LOCATION],sb.[SUPPLIER],sb.[BATCH],sb.[EXPIRY_DATE],sb.[INITIAL_AMOUNT],
           sb.[UNIT],sb.[DATE_CREATED],sb.[CREATED_BY],sb.[MODIFIED_ON],sb.[MODIFIED_BY],
           sb.[REMOVEFLAG], sb.[REVIEWED], sb.[REVIEWED_BY], sb.[REVIEWED_ON], sb.[PART_CODE],
           s.[NAME] as 'STOCK_NAME'
    from STOCK_BATCH sb, STOCK s
    where s.[IDENTITY] = sb.[STOCK]
    and sb.[STATUS] <> 'X'
    and sb.[STATUS] <> 'C'
    and sb.[STATUS] <> 'W'
    and sb.REVIEWED = 'T';


view syst_suit_check_view on_table sample;

	field id_numeric      links_to sample . id_numeric used_for unique_key, display_browse(1);
	field id_text         links_to sample . id_text    used_for display_browse(2);
	field status          links_to sample . status     used_for display_browse(3);
	field job_name        links_to sample . job_name;
	field login_by        links_to sample . login_by;
	field login_date      links_to sample . login_date;
	field date_completed  links_to sample . date_completed;
	field completer       links_to sample . completer;
	field date_authorised links_to sample . date_authorised;
	field authoriser      links_to sample . authoriser  used_for display_browse(4);
	field template_id     links_to sample . template_id;

sqlserver_specific_select

    select ID_NUMERIC, ID_TEXT, [STATUS], JOB_NAME, LOGIN_BY,
        LOGIN_DATE, DATE_COMPLETED, COMPLETER, DATE_AUTHORISED,
        AUTHORISER, TEMPLATE_ID
    from [SAMPLE]
    where [STATUS]<>'X'
        and TEMPLATE_ID = 'SYST_SUIT';

view soln_book_check_view on_table sample;

	field id_numeric      links_to sample . id_numeric used_for unique_key, display_browse(1);
	field id_text         links_to sample . id_text    used_for display_browse(2);
	field status          links_to sample . status     used_for display_browse(3);
	field job_name        links_to sample . job_name;
	field login_by        links_to sample . login_by;
	field login_date      links_to sample . login_date;
	field date_completed  links_to sample . date_completed;
	field completer       links_to sample . completer;
	field date_authorised links_to sample . date_authorised;
	field authoriser      links_to sample . authoriser  used_for display_browse(4);
	field template_id     links_to sample . template_id;

sqlserver_specific_select

    select ID_NUMERIC, ID_TEXT, [STATUS], JOB_NAME, LOGIN_BY,
        LOGIN_DATE, DATE_COMPLETED, COMPLETER, DATE_AUTHORISED,
        AUTHORISER, TEMPLATE_ID
    from [SAMPLE]
    where [STATUS]<>'X'
        and TEMPLATE_ID = 'SOLNSBOOK';
{/134.0}

{136}

table alk_w_lookup;

field identity
      datatype identity ( 20 )
      used_for unique_key;

field name
      datatype text ( 100 )
      used_for primary_browse;

field description
      datatype text (234)
      used_for display_browse ( 2 );

field modified_on
      datatype date
      used_for modified_on;

field modified_by
      links_to personnel . identity
      used_for modified_by ;

field modifiable
      datatype boolean
      used_for modifiable;

field removeflag
      datatype boolean
      used_for remove_flag ;


table alk_w_lookup_range;

field identity
      links_to parent alk_w_lookup . identity
      used_for unique_key;

field bet_loc_sd
      datatype text ( 10 )
      used_for unique_key, primary_browse;

field description
      datatype text
      used_for display_browse ( 1 );


table alk_w_lookup_entry;

field identity
      links_to parent alk_w_lookup_range . identity as lookup_range
      used_for unique_key;

field between_loc_sd
      links_to parent alk_w_lookup_range . bet_loc_sd as lookup_range
      used_for unique_key;

field within_loc_sd
      datatype text ( 10 )
      used_for unique_key;
      
field lower_limit
      datatype real ;

field upper_limit
      datatype real ;

{/136.0}

{138.0}
view result_change_audit_view on_table audit_transaction,
                                       audit_event,
                                       audit_data,
                                       result,
                                       test,
                                       sample;

field transaction
      links_to audit_transaction . transaction;
field transaction_user_id
      links_to audit_transaction . user_id;
field transaction_name
      links_to audit_transaction . transaction_name;
field transaction_date
      links_to audit_transaction . transaction_date;
field event_action
      links_to audit_event . event_action;
field event_reason
      links_to audit_event . event_reason;
field event_record_key0
      links_to audit_event . record_key0;
field table_name
      links_to audit_event . table_name;
field data_identifier
      links_to audit_data . data
      used_for unique_key;
field data_reason
      links_to audit_data . data_reason;
field field
      links_to audit_data . field;
field value_before
      links_to audit_data . value_before;
field value_after
      links_to audit_data . value_after;
field sample_id_numeric
      links_to parent sample . id_numeric;
field sample_id_text
      links_to sample . id_text;
field sample_audits_reviewed
      links_to sample . audits_reviewed;
field analysis
      links_to test . analysis;
field analysis_version
      links_to test . analysis_version;
field test_count
      links_to test . test_count;
field test_audits_reviewed
      links_to test . audits_reviewed;
field test_authoriser
      links_to test . authoriser;
field test_date_authorised
      links_to test . date_authorised;
field result_name
      links_to result . name;
field result_authoriser
      links_to result . authoriser;
field result_date_authorised
      links_to result . date_authorised;

sqlserver_specific_select

	select 
	AT.[TRANSACTION],
	AT.[USER_ID],
	AT.TRANSACTION_NAME,
	AT.TRANSACTION_DATE,
	AE.EVENT_ACTION,
	AE.EVENT_REASON,
	AE.RECORD_KEY0,
	AE.TABLE_NAME,
	AD.DATA,
	AD.DATA_REASON,
	AD.FIELD,
	AD.VALUE_BEFORE,
	AD.VALUE_AFTER,
	S.ID_NUMERIC,
	S.ID_TEXT,
	S.AUDITS_REVIEWED,
	T.ANALYSIS,
	T.ANALYSIS_VERSION,
	T.TEST_COUNT,
	T.AUDITS_REVIEWED,
	T.AUTHORISER,
	T.DATE_AUTHORISED,
	RTRIM(SUBSTRING(AE.RECORD_KEY0,11,40)) as RESULT_NAME,
	R.AUTHORISER,
	R.DATE_AUTHORISED

	from AUDIT_TRANSACTION AT 
	inner join AUDIT_EVENT AE on AT.[TRANSACTION] = AE.[TRANSACTION]
	inner join AUDIT_DATA AD on AE.[EVENT] = AD.[EVENT]
	left outer join RESULT R on LEFT(AE.RECORD_KEY0,10) = R.TEST_NUMBER and RTRIM(SUBSTRING(AE.RECORD_KEY0,11,40)) COLLATE Latin1_General_CS_AS_WS = R.NAME
	inner join TEST T on LEFT(AE.RECORD_KEY0,10)= T.TEST_NUMBER
	inner join SAMPLE S on T.SAMPLE = S.ID_NUMERIC

	where AE.TABLE_NAME='RESULT'
	and AD.FIELD in ('VALUE', 'TEXT', 'RAW_RESULT')
	and (AE.EVENT_ACTION in ('DELETE','MODIFY')
	or (AE.EVENT_ACTION='INSERT' and AT.[TRANSACTION]>
		(select MIN(AT2.[TRANSACTION]) 
		from AUDIT_TRANSACTION AT2 
		inner join AUDIT_EVENT AE2 on AT2.[TRANSACTION] = AE2.[TRANSACTION]
		where AE2.EVENT_ACTION='INSERT'
		and AE2.RECORD_KEY0 = AE.RECORD_KEY0)));


view test_modify_audit_view on_table audit_transaction,
                                     audit_event,
                                     audit_data,
                                     test,
                                     sample;

field transaction_user_id
      links_to audit_transaction . user_id;
field transaction_name
      links_to audit_transaction . transaction_name;
field transaction_date
      links_to audit_transaction . transaction_date;
field event_action
      links_to audit_event . event_action;
field event_reason
      links_to audit_event . event_reason;
field event_record_key0
      links_to audit_event . record_key0;
field table_name
      links_to audit_event . table_name;
field data_identifier
      links_to audit_data . data
      used_for unique_key;
field data_reason
      links_to audit_data . data_reason;
field field
      links_to audit_data . field;
field value_before
      links_to audit_data . value_before;
field value_after
      links_to audit_data . value_after;
field sample_id_numeric
      links_to parent sample . id_numeric;
field sample_id_text
      links_to sample . id_text;
field sample_audits_reviewed
      links_to sample . audits_reviewed;
field analysis
      links_to test . analysis;
field analysis_version
      links_to test . analysis_version;
field test_audits_reviewed
      links_to test . audits_reviewed;
field test_count
      links_to test . test_count;

sqlserver_specific_select

	select 
	AT.[USER_ID],
	AT.TRANSACTION_NAME,
	AT.TRANSACTION_DATE,
	AE.EVENT_ACTION,
	AE.EVENT_REASON,
	AE.RECORD_KEY0,
	AE.TABLE_NAME,
      AD.DATA,
	AD.DATA_REASON,
	AD.FIELD,
	AD.VALUE_BEFORE,
	AD.VALUE_AFTER,
	S.ID_NUMERIC,
	S.ID_TEXT,
	S.AUDITS_REVIEWED,
	T.ANALYSIS,
	T.ANALYSIS_VERSION,
	T.AUDITS_REVIEWED,
      T.TEST_COUNT

	from AUDIT_TRANSACTION AT 
	inner join AUDIT_EVENT AE on AT.[TRANSACTION] = AE.[TRANSACTION]
	inner join AUDIT_DATA AD on AE.[EVENT] = AD.[EVENT]
	inner join TEST T on AE.RECORD_KEY0 = T.TEST_NUMBER
	inner join SAMPLE S on T.SAMPLE = S.ID_NUMERIC

	where AE.TABLE_NAME='TEST'
	and AE.EVENT_ACTION in ('MODIFY','DELETE');

view sample_modify_audit_view on_table audit_transaction,
                                     audit_event,
                                     audit_data,
                                     sample;

field transaction_user_id
      links_to audit_transaction . user_id;
field transaction_name
      links_to audit_transaction . transaction_name;
field transaction_date
      links_to audit_transaction . transaction_date;
field event_action
      links_to audit_event . event_action;
field event_reason
      links_to audit_event . event_reason;
field event_record_key0
      links_to audit_event . record_key0;
field table_name
      links_to audit_event . table_name;
field data_identifier
      links_to audit_data . data
      used_for unique_key;
field data_reason
      links_to audit_data . data_reason;
field field
      links_to audit_data . field;
field value_before
      links_to audit_data . value_before;
field value_after
      links_to audit_data . value_after;
field sample_id_numeric
      links_to parent sample . id_numeric;
field sample_id_text
      links_to sample . id_text;
field sample_audits_reviewed
      links_to sample . audits_reviewed;


sqlserver_specific_select

	select 
	AT.[USER_ID],
	AT.TRANSACTION_NAME,
	AT.TRANSACTION_DATE,
	AE.EVENT_ACTION,
	AE.EVENT_REASON,
	AE.RECORD_KEY0,
	AE.TABLE_NAME,
      AD.DATA,
	AD.DATA_REASON,
	AD.FIELD,
	AD.VALUE_BEFORE,
	AD.VALUE_AFTER,
	S.ID_NUMERIC,
	S.ID_TEXT,
	S.AUDITS_REVIEWED
	
	from AUDIT_TRANSACTION AT 
	inner join AUDIT_EVENT AE on AT.[TRANSACTION] = AE.[TRANSACTION]
	inner join AUDIT_DATA AD on AE.[EVENT] = AD.[EVENT]
	inner join SAMPLE S on AE.RECORD_KEY0 = S.ID_NUMERIC
	
	where AE.TABLE_NAME='SAMPLE'
	and AE.EVENT_ACTION in ('MODIFY','DELETE');

{/138.0 }

{140.0}
table print_event;                         

    field event_id
          datatype packed_decimal
          used_for unique_key;
    field table_name
          datatype text ( 30 ) 
          used_for display_browse(1);
    field record_key0
          datatype  text ( 255 ) 
          used_for display_browse(2);
    field printed_on
          datatype date
          default '0'
          used_for display_browse(3);
    field printed_by
          links_to personnel . identity 
          used_for display_browse(4);
    field reason
          datatype text (234) 
          used_for display_browse(5);
    field source
          datatype text (50) ;

{/140.0}


